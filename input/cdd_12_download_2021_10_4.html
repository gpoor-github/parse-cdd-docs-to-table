<!doctype html>
<html 
      lang="en"
      dir="ltr">
  <head>
        <meta property="og:site_name" content="Android Open Source Project">
    <meta property="og:type" content="website"><meta name="theme-color" content="#3ddc84"><meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="/_pwa/androidsource/manifest.json"
          crossorigin="use-credentials">
    <link rel="preconnect" href="//www.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="//fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="//apis.google.com" crossorigin>
    <link rel="preconnect" href="//www.google-analytics.com" crossorigin><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Material+Icons&display=block"><link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v0a713fec70a4b4c54311265d5142e962747a0e45a24063467564a2765c008ac7/androidsource/css/rebrand-app.css">
      <link rel="shortcut icon" href="https://www.gstatic.com/devrel-devsite/prod/v0a713fec70a4b4c54311265d5142e962747a0e45a24063467564a2765c008ac7/androidsource/images/favicon.png">
    <link rel="apple-touch-icon" href="https://www.gstatic.com/devrel-devsite/prod/v0a713fec70a4b4c54311265d5142e962747a0e45a24063467564a2765c008ac7/androidsource/images/touchicon-180.png"><link rel="canonical" href="https://source.android.com/compatibility/12/android-12-cdd"><link rel="search" type="application/opensearchdescription+xml"
            title="Android Open Source Project" href="https://source.android.com/s/opensearch.xml">
      

<title>Android 12 Compatibility Definition &nbsp;|&nbsp; Android Open Source Project</title>

<meta property="og:title" content="Android 12 Compatibility Definition &nbsp;|&nbsp; Android Open Source Project"><meta property="og:url" content="https://source.android.com/compatibility/12/android-12-cdd"><meta property="og:locale" content="en">
  

  

  


    </head>
  <body class=""
        template="page"
        theme="androidsource-theme"
        type="article"
        
        layout="docs"
        
        
        
        pending>
    <devsite-progress type="indeterminate" id="app-progress"></devsite-progress>
  
    <section class="devsite-wrapper"><devsite-header keep-tabs-visible>
  
    


























<div class="devsite-header--inner nocontent">
  <div class="devsite-top-logo-row-wrapper-wrapper">
    <div class="devsite-top-logo-row-wrapper">
      <div class="devsite-top-logo-row">
        <button type="button" id="devsite-hamburger-menu"
          class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Navigation menu button"
          visually-hidden
          aria-label="Open menu">
        </button>
        <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidOpenSourceProject" track-metadata-position="nav"
   track-metadata-eventDetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/v0a713fec70a4b4c54311265d5142e962747a0e45a24063467564a2765c008ac7/androidsource/images/lockup.svg" class="devsite-site-logo"
       alt="Android Open Source Project">

</a>



  
  
  <span class="devsite-product-name">
    <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
  </span>

</div>
        <div class="devsite-top-logo-row-middle">
          <div class="devsite-header-upper-tabs">
            
              
              
  <devsite-tabs class="upper-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Upper tabs">
      
        
          <tab dropdown
    
    active
    
    >
  <a href="https://source.android.com/docs"
   class="gc-analytics-event "
   track-type="nav"
   track-name="docs"
   track-metadata-eventdetail="https://source.android.com/docs"
   track-metadata-position="nav - docs"
   track-metadata-module="primary nav"
   aria-label="Docs, selected" 
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Docs"
   >
  Docs
</a>

  <a href="#"
     role="button"
     aria-haspopup="true"
     aria-expanded="false"
     aria-label="Dropdown menu for Docs"
     track-type="nav"
     track-name="docs"
     track-metadata-eventdetail="https://source.android.com/docs"
     track-metadata-position="nav - docs"
     track-metadata-module="primary nav"
     
       data-category="Site-Wide Custom Events"
     
       data-label="Tab: Docs"
     
     class="devsite-tabs-dropdown-toggle devsite-icon devsite-icon-arrow-drop-down"></a>

  <div class="devsite-tabs-dropdown" aria-label="submenu" hidden>
    
    <div class="devsite-tabs-dropdown-content">
      
        <div class="devsite-tabs-dropdown-column
                    android-source-tabs-dropdown-column-small">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
                <li class="devsite-nav-title" role="heading" tooltip>Getting Started</li>
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/setup/intro"
                     track-type="nav"
                     track-name="about"
                     track-metadata-eventdetail="https://source.android.com/setup/intro"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="getting started"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      About
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/setup/start"
                     track-type="nav"
                     track-name="start"
                     track-metadata-eventdetail="https://source.android.com/setup/start"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="getting started"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Start
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/setup/develop"
                     track-type="nav"
                     track-name="download"
                     track-metadata-eventdetail="https://source.android.com/setup/develop"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="getting started"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Download
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/setup/build"
                     track-type="nav"
                     track-name="build"
                     track-metadata-eventdetail="https://source.android.com/setup/build"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="getting started"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Build
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/setup/create/coding-tasks"
                     track-type="nav"
                     track-name="create"
                     track-metadata-eventdetail="https://source.android.com/setup/create/coding-tasks"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="getting started"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Create
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/setup/contribute"
                     track-type="nav"
                     track-name="contribute"
                     track-metadata-eventdetail="https://source.android.com/setup/contribute"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="getting started"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Contribute
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
                <li class="devsite-nav-title" role="heading" tooltip>Security</li>
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/security/overview"
                     track-type="nav"
                     track-name="overview"
                     track-metadata-eventdetail="https://source.android.com/security/overview"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="getting started"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Overview
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/security/bulletin"
                     track-type="nav"
                     track-name="bulletins"
                     track-metadata-eventdetail="https://source.android.com/security/bulletin"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="getting started"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Bulletins
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/security/features"
                     track-type="nav"
                     track-name="features"
                     track-metadata-eventdetail="https://source.android.com/security/features"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="getting started"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Features
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tech/debug/fuzz-sanitize"
                     track-type="nav"
                     track-name="testing"
                     track-metadata-eventdetail="https://source.android.com/devices/tech/debug/fuzz-sanitize"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="getting started"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Testing
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/security/best-practices"
                     track-type="nav"
                     track-name="best practices"
                     track-metadata-eventdetail="https://source.android.com/security/best-practices"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="getting started"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Best Practices
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-source-tabs-dropdown-column-small">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
                <li class="devsite-nav-title" role="heading" tooltip>Core Topics</li>
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/architecture"
                     track-type="nav"
                     track-name="architecture"
                     track-metadata-eventdetail="https://source.android.com/devices/architecture"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Architecture
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/audio"
                     track-type="nav"
                     track-name="audio"
                     track-metadata-eventdetail="https://source.android.com/devices/audio"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Audio
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/camera"
                     track-type="nav"
                     track-name="camera"
                     track-metadata-eventdetail="https://source.android.com/devices/camera"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Camera
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tech/connect"
                     track-type="nav"
                     track-name="connectivity"
                     track-metadata-eventdetail="https://source.android.com/devices/tech/connect"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Connectivity
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tech/datausage"
                     track-type="nav"
                     track-name="data"
                     track-metadata-eventdetail="https://source.android.com/devices/tech/datausage"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Data
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tech/display"
                     track-type="nav"
                     track-name="display"
                     track-metadata-eventdetail="https://source.android.com/devices/tech/display"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Display
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/graphics"
                     track-type="nav"
                     track-name="graphics"
                     track-metadata-eventdetail="https://source.android.com/devices/graphics"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Graphics
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/interaction"
                     track-type="nav"
                     track-name="interaction"
                     track-metadata-eventdetail="https://source.android.com/devices/interaction"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Interaction
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/media"
                     track-type="nav"
                     track-name="media"
                     track-metadata-eventdetail="https://source.android.com/devices/media"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Media
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tech/perf"
                     track-type="nav"
                     track-name="performance"
                     track-metadata-eventdetail="https://source.android.com/devices/tech/perf"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Performance
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tech/config"
                     track-type="nav"
                     track-name="permissions"
                     track-metadata-eventdetail="https://source.android.com/devices/tech/config"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Permissions
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tech/power"
                     track-type="nav"
                     track-name="power"
                     track-metadata-eventdetail="https://source.android.com/devices/tech/power"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Power
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tech/dalvik"
                     track-type="nav"
                     track-name="runtime"
                     track-metadata-eventdetail="https://source.android.com/devices/tech/dalvik"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Runtime
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tech/settings"
                     track-type="nav"
                     track-name="settings"
                     track-metadata-eventdetail="https://source.android.com/devices/tech/settings"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Settings
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/storage"
                     track-type="nav"
                     track-name="storage"
                     track-metadata-eventdetail="https://source.android.com/devices/storage"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Storage
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/compatibility/tests"
                     track-type="nav"
                     track-name="tests"
                     track-metadata-eventdetail="https://source.android.com/compatibility/tests"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Tests
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tech/ota"
                     track-type="nav"
                     track-name="updates"
                     track-metadata-eventdetail="https://source.android.com/devices/tech/ota"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="core topics"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Updates
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
        <div class="devsite-tabs-dropdown-column
                    android-source-tabs-dropdown-column-small">
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
                <li class="devsite-nav-title" role="heading" tooltip>Compatibility</li>
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/compatibility/cdd"
                     track-type="nav"
                     track-name="compatibility definition document (cdd)"
                     track-metadata-eventdetail="https://source.android.com/compatibility/cdd"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="compatibility"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Compatibility Definition Document (CDD)
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/compatibility/cts"
                     track-type="nav"
                     track-name="compatibility test suite (cts)"
                     track-metadata-eventdetail="https://source.android.com/compatibility/cts"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="compatibility"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Compatibility Test Suite (CTS)
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
                <li class="devsite-nav-title" role="heading" tooltip>Android Devices</li>
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/automotive"
                     track-type="nav"
                     track-name="automotive"
                     track-metadata-eventdetail="https://source.android.com/devices/automotive"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="compatibility"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Automotive
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tech/admin"
                     track-type="nav"
                     track-name="enterprise"
                     track-metadata-eventdetail="https://source.android.com/devices/tech/admin"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="compatibility"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Enterprise
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/devices/tv"
                     track-type="nav"
                     track-name="tv"
                     track-metadata-eventdetail="https://source.android.com/devices/tv"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="compatibility"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      TV
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
            <ul class="devsite-tabs-dropdown-section
                       ">
              
                <li class="devsite-nav-title" role="heading" tooltip>Reference</li>
              
              
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/reference/hidl"
                     track-type="nav"
                     track-name="hidl"
                     track-metadata-eventdetail="https://source.android.com/reference/hidl"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="compatibility"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      HIDL
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/reference/hal"
                     track-type="nav"
                     track-name="hal"
                     track-metadata-eventdetail="https://source.android.com/reference/hal"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="compatibility"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      HAL
                    </div>
                    
                  </a>
                </li>
              
                <li class="devsite-nav-item">
                  <a href="https://source.android.com/reference/tradefed/classes"
                     track-type="nav"
                     track-name="trade federation"
                     track-metadata-eventdetail="https://source.android.com/reference/tradefed/classes"
                     track-metadata-position="nav - docs"
                     track-metadata-module="tertiary nav"
                     
                       track-metadata-module_headline="compatibility"
                     
                     tooltip
                  >
                    
                    <div class="devsite-nav-item-title">
                      Trade Federation
                    </div>
                    
                  </a>
                </li>
              
            </ul>
          
        </div>
      
    </div>
  </div>
</tab>
        
      
        
          <tab  >
            <a href="https://cs.android.com/android/platform/superproject/"
   class="gc-analytics-event "
   track-type="nav"
   track-name="go to code ➚"
   track-metadata-eventdetail="https://cs.android.com/android/platform/superproject/"
   track-metadata-position="nav - go to code ➚"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: GO TO CODE ➚"
   >
  GO TO CODE ➚
</a>

          </tab>
        
      
    </nav>

  </devsite-tabs>

            
           </div>
          
<devsite-search
    aria-expanded="false"
    aria-haspopup="listbox"
    enable-signin
    enable-search
    enable-suggestions
      enable-query-completion
    
    project-name="Android Open Source Project"
    tenant-name="Android Open Source Project"
    
    
    
    
    
    role="combobox">
  <form class="devsite-search-form" action="https://source.android.com/s/results" method="GET">
    <div class="devsite-search-container">
      <div class="devsite-searchbox">
        <input
          aria-activedescendant=""
          aria-autocomplete="list"
          
          aria-label="Search"
          aria-haspopup="false"
          aria-multiline="false"
          aria-label="Search box"
          autocomplete="off"
          class="devsite-search-field devsite-search-query"
          name="q"
          
          placeholder="Search"
          role="searchbox"
          type="text"
          value=""
          >
        <div class="devsite-search-image material-icons" aria-hidden="true"></div>
      </div>
      <button type="button"
              search-open
              class="devsite-search-button devsite-header-icon-button button-flat material-icons"
              
              aria-label="Open search"></button>
    </div>
  </form>
  <button type="button"
          search-close
          class="devsite-search-button devsite-header-icon-button button-flat material-icons"
          
          aria-label="Close search"></button>
</devsite-search>

        </div>

        

        

        
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Select your language preference."
            class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
    
      
      <option>Language</option>
    
    
      <option value="en"
              lang="en"
            >
        English
      </option>
    
      <option value="id"
              lang="id"
            >
        Bahasa Indonesia
      </option>
    
      <option value="de"
              lang="de"
            >
        Deutsch
      </option>
    
      <option value="es_419"
              lang="es_419"
            >
        Español – América Latina
      </option>
    
      <option value="fr"
              lang="fr"
            >
        Français
      </option>
    
      <option value="it"
              lang="it"
            >
        Italiano
      </option>
    
      <option value="pl"
              lang="pl"
            >
        Polski
      </option>
    
      <option value="pt_br"
              lang="pt_br"
            >
        Português – Brasil
      </option>
    
      <option value="vi"
              lang="vi"
            >
        Tiếng Việt
      </option>
    
      <option value="tr"
              lang="tr"
            >
        Türkçe
      </option>
    
      <option value="ru"
              lang="ru"
            >
        Русский
      </option>
    
      <option value="he"
              lang="he"
            >
        עברית&#39;
      </option>
    
      <option value="ar"
              lang="ar"
            >
        العربيّة
      </option>
    
      <option value="fa"
              lang="fa"
            >
        فارسی
      </option>
    
      <option value="hi"
              lang="hi"
            >
        हिंदी
      </option>
    
      <option value="bn"
              lang="bn"
            >
        বাংলা
      </option>
    
      <option value="th"
              lang="th"
            >
        ภาษาไทย
      </option>
    
      <option value="zh_cn"
              lang="zh_cn"
            >
        中文 – 简体
      </option>
    
      <option value="zh_tw"
              lang="zh_tw"
            >
        中文 – 繁體
      </option>
    
      <option value="ja"
              lang="ja"
            >
        日本語
      </option>
    
      <option value="ko"
              lang="ko"
            >
        한국어
      </option>
    
    </select>
  </devsite-select>
</devsite-language-selector>


        

        
          
          
          <devsite-user 
                        
                        
                          enable-profiles
                        
                        
                          
                        id="devsite-user"></devsite-user>
           
        
      </div>
    </div>
  </div>



  <div class="devsite-collapsible-section
    ">
    <div class="devsite-header-background">
      
        
          <div class="devsite-product-id-row"
           >
            <div class="devsite-product-description-row">
              
                
                  
                  
                  <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://source.android.com/docs"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Lower Header"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail=""
      
    >
    
        Documentation
      
  </a>
  
    
  </li>
  
</ul>
                
              
              
            </div>
            
          </div>
          
        
      
      
        <div class="devsite-doc-set-nav-row">
          
          
            
            
  <devsite-tabs class="lower-tabs">

    <nav class="devsite-tabs-wrapper" aria-label="Lower tabs">
      
        
          <tab  >
            <a href="https://source.android.com/setup"
   class="gc-analytics-event "
   track-type="nav"
   track-name="getting started"
   track-metadata-eventdetail="https://source.android.com/setup"
   track-metadata-position="nav - getting started"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Getting Started"
   >
  Getting Started
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://source.android.com/security"
   class="gc-analytics-event "
   track-type="nav"
   track-name="security"
   track-metadata-eventdetail="https://source.android.com/security"
   track-metadata-position="nav - security"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Security"
   >
  Security
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://source.android.com/core"
   class="gc-analytics-event "
   track-type="nav"
   track-name="core topics"
   track-metadata-eventdetail="https://source.android.com/core"
   track-metadata-position="nav - core topics"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Core Topics"
   >
  Core Topics
</a>

          </tab>
        
      
        
          <tab  active>
            <a href="https://source.android.com/compatibility"
   class="gc-analytics-event "
   track-type="nav"
   track-name="compatibility"
   track-metadata-eventdetail="https://source.android.com/compatibility"
   track-metadata-position="nav - compatibility"
   track-metadata-module="primary nav"
   aria-label="Compatibility, selected" 
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Compatibility"
   >
  Compatibility
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://source.android.com/devices"
   class="gc-analytics-event "
   track-type="nav"
   track-name="android devices"
   track-metadata-eventdetail="https://source.android.com/devices"
   track-metadata-position="nav - android devices"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Android Devices"
   >
  Android Devices
</a>

          </tab>
        
      
        
          <tab  >
            <a href="https://source.android.com/reference"
   class="gc-analytics-event "
   track-type="nav"
   track-name="reference"
   track-metadata-eventdetail="https://source.android.com/reference"
   track-metadata-position="nav - reference"
   track-metadata-module="primary nav"
   
   
     data-category="Site-Wide Custom Events"
   
     data-label="Tab: Reference"
   >
  Reference
</a>

          </tab>
        
      
    </nav>

  </devsite-tabs>

          
          
        </div>
      
    </div>
  </div>

</div>



  

  
</devsite-header>
      <devsite-book-nav scrollbars >
        
          


























<nav class="devsite-book-nav devsite-nav nocontent"
     aria-label="Side menu">
  <div class="devsite-mobile-header">
    <button type="button"
            id="devsite-close-nav"
            class="devsite-header-icon-button button-flat material-icons gc-analytics-event"
            data-category="Site-Wide Custom Events"
            data-label="Close navigation"
            aria-label="Close navigation">
    </button>
    <div class="devsite-product-name-wrapper">

  <a href="/" class="devsite-site-logo-link gc-analytics-event"
   data-category="Site-Wide Custom Events" data-label="Site logo" track-type="globalNav"
   track-name="androidOpenSourceProject" track-metadata-position="nav"
   track-metadata-eventDetail="nav">

  <img src="https://www.gstatic.com/devrel-devsite/prod/v0a713fec70a4b4c54311265d5142e962747a0e45a24063467564a2765c008ac7/androidsource/images/lockup.svg" class="devsite-site-logo" alt="Android Open Source Project">

</a>


  
      <span class="devsite-product-name">
        
        
        <ul class="devsite-breadcrumb-list"
  >
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
      
    
  </li>
  
</ul>
      </span>
    

</div>
  </div>

  <div class="devsite-book-nav-wrapper">
    <div class="devsite-mobile-nav-top">
      
        <ul class="devsite-nav-list">
          
            <li class="devsite-nav-item">
              
  
  <a href="/docs"
    
       class="devsite-nav-title gc-analytics-event
              
              devsite-nav-active"
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Docs"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="docs">
  
    <span class="devsite-nav-text" tooltip >
      Docs
   </span>
    
  
  </a>
  

  
    <ul class="devsite-nav-responsive-tabs devsite-nav-has-menu
               ">
      
<li class="devsite-nav-item">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip menu="Docs">
      More
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="Docs">
    </span>
    
  
  </span>
  

</li>

    </ul>
  
              
                <ul class="devsite-nav-responsive-tabs">
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/setup"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Getting Started"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="gettingStarted">
  
    <span class="devsite-nav-text" tooltip >
      Getting Started
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/security"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Security"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="security">
  
    <span class="devsite-nav-text" tooltip >
      Security
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/core"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Core Topics"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="coreTopics">
  
    <span class="devsite-nav-text" tooltip >
      Core Topics
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/compatibility"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              devsite-nav-active"
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Compatibility"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="compatibility">
  
    <span class="devsite-nav-text" tooltip menu="_book">
      Compatibility
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          menu="_book">
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/devices"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Android Devices"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="androidDevices">
  
    <span class="devsite-nav-text" tooltip >
      Android Devices
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
                    </li>
                  
                    
                    
                    
                    <li class="devsite-nav-item">
                      
  
  <a href="/reference"
    
       class="devsite-nav-title gc-analytics-event
              devsite-nav-has-children
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Reference"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="reference">
  
    <span class="devsite-nav-text" tooltip >
      Reference
   </span>
    
    <span class="devsite-nav-icon material-icons" data-icon="forward"
          >
    </span>
    
  
  </a>
  

  
                    </li>
                  
                </ul>
              
            </li>
          
            <li class="devsite-nav-item">
              
  
  <a href="https://cs.android.com/android/platform/superproject/"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: GO TO CODE ➚"
     track-type="globalNav"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="goToCode➚">
  
    <span class="devsite-nav-text" tooltip >
      GO TO CODE ➚
   </span>
    
  
  </a>
  

  
              
            </li>
          
          
          
        </ul>
      
    </div>
    
      <div class="devsite-mobile-nav-bottom" role="navigation">
        
          
          <ul class="devsite-nav-list" menu="_book">
            <li class="devsite-nav-item"><a href="/compatibility"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Compatibility</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compatibility/overview"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android Compatibility Program Overview</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Compatibility Definition Document</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>CDDs in HTML</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compatibility/12/android-12-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 12 (current)</span></a></li><li class="devsite-nav-item"><a href="/compatibility/11/android-11-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 11</span></a></li><li class="devsite-nav-item"><a href="/compatibility/10/android-10-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 10</span></a></li><li class="devsite-nav-item"><a href="/compatibility/9/android-9-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 9</span></a></li><li class="devsite-nav-item"><a href="/compatibility/8.1/android-8.1-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 8.1</span></a></li><li class="devsite-nav-item"><a href="/compatibility/8.0/android-8.0-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 8.0</span></a></li><li class="devsite-nav-item"><a href="/compatibility/7.1/android-7.1-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 7.1</span></a></li><li class="devsite-nav-item"><a href="/compatibility/7.0/android-7.0-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 7.0</span></a></li><li class="devsite-nav-item"><a href="/compatibility/6.0/android-6.0-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 6.0</span></a></li><li class="devsite-nav-item"><a href="/compatibility/5.1/android-5.1-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 5.1</span></a></li><li class="devsite-nav-item"><a href="/compatibility/5.0/android-5.0-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 5.0</span></a></li><li class="devsite-nav-item"><a href="/compatibility/4.4/android-4.4-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 4.4</span></a></li><li class="devsite-nav-item"><a href="/compatibility/4.3/android-4.3-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 4.3</span></a></li><li class="devsite-nav-item"><a href="/compatibility/4.2/android-4.2-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 4.2</span></a></li><li class="devsite-nav-item"><a href="/compatibility/4.1/android-4.1-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 4.1</span></a></li><li class="devsite-nav-item"><a href="/compatibility/4.0/android-4.0-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 4.0</span></a></li><li class="devsite-nav-item"><a href="/compatibility/2.3/android-2.3-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 2.3</span></a></li><li class="devsite-nav-item"><a href="/compatibility/2.2/android-2.2-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 2.2</span></a></li><li class="devsite-nav-item"><a href="/compatibility/2.1/android-2.1-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 2.1</span></a></li><li class="devsite-nav-item"><a href="/compatibility/1.6/android-1.6-cdd"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 1.6</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>CDDs as PDF</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compatibility/12/android-12-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 12 (current)</span></a></li><li class="devsite-nav-item"><a href="/compatibility/11/android-11-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 11</span></a></li><li class="devsite-nav-item"><a href="/compatibility/10/android-10-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 10</span></a></li><li class="devsite-nav-item"><a href="/compatibility/9/android-9-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 9</span></a></li><li class="devsite-nav-item"><a href="/compatibility/8.1/android-8.1-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 8.1</span></a></li><li class="devsite-nav-item"><a href="/compatibility/8.0/android-8.0-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 8.0</span></a></li><li class="devsite-nav-item"><a href="/compatibility/7.1/android-7.1-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 7.1</span></a></li><li class="devsite-nav-item"><a href="/compatibility/7.0/android-7.0-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 7.0</span></a></li><li class="devsite-nav-item"><a href="/compatibility/6.0/android-6.0-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 6.0</span></a></li><li class="devsite-nav-item"><a href="/compatibility/5.1/android-5.1-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 5.1</span></a></li><li class="devsite-nav-item"><a href="/compatibility/5.0/android-5.0-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 5.0</span></a></li><li class="devsite-nav-item"><a href="/compatibility/4.4/android-4.4-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 4.4</span></a></li><li class="devsite-nav-item"><a href="/compatibility/4.3/android-4.3-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 4.3</span></a></li><li class="devsite-nav-item"><a href="/compatibility/4.2/android-4.2-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 4.2</span></a></li><li class="devsite-nav-item"><a href="/compatibility/4.1/android-4.1-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 4.1</span></a></li><li class="devsite-nav-item"><a href="/compatibility/4.0/android-4.0-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 4.0</span></a></li><li class="devsite-nav-item"><a href="/compatibility/2.3/android-2.3-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 2.3</span></a></li><li class="devsite-nav-item"><a href="/compatibility/2.3/android-2.3.3-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 2.3.3</span></a></li><li class="devsite-nav-item"><a href="/compatibility/2.2/android-2.2-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 2.2</span></a></li><li class="devsite-nav-item"><a href="/compatibility/2.1/android-2.1-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 2.1</span></a></li><li class="devsite-nav-item"><a href="/compatibility/1.6/android-1.6-cdd.pdf"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 1.6</span></a></li></ul></devsite-expandable-nav></li></ul></devsite-expandable-nav></li>

  <li class="devsite-nav-item
           devsite-nav-expandable
           devsite-nav-accordion"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Compatibility Test Suite (CTS)</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compatibility/cts"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/setup"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Set up CTS</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Run CTS</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compatibility/cts/run"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/run-locally"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Run Media Tests Locally</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/helper-modules"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>CTS Device Interaction Helper Module</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/command-console-v2"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>CTS v2 Command Console</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/command_console"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>CTS v1 Command Console</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/cts-instant"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Instant Apps</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/secure-element"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Secure Element</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/compatibility/cts/cts-faq"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>CTS FAQs</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>CTS Verifier</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compatibility/cts/verifier"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/cts-verifier"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>CTS-Verifier Test Guidance</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/audio-framework"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Audio Framework</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/near-ultrasound"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Near Ultrasound Tests</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/rotation-vector"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Rotation Vector Crosscheck</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/cts-midi"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>CTS Verifier MIDI Tests</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/usb-audio"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>USB Audio CTS Tests</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/verifier-pro-audio"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>CTS Verifier Pro Audio Test</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/verifier-instant-apps"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>CTS Verifier for Instant Apps</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Camera Testing</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compatibility/cts/camera-hal"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Camera HAL Testing</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/camera-its-tests"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Camera ITS Tests</span></a></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Camera ITS-in-a-Box</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compatibility/cts/camera-its-box"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Overview</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/camera-its-box-assembly"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Regular Field-of-View Box</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/camera-wfov-box-assembly"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Wide Field-of-View Box</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Sensor Fusion Box</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item"><a href="/compatibility/cts/sensor-fusion-quick-start"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sensor Fusion Box Quick Start</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/sensor-fusion-box-assembly"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sensor Fusion Box Details</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/sensor-fusion-rack-mount"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Sensor Fusion Controller</span></a></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item
           devsite-nav-expandable"><devsite-expandable-nav collapsed>
    <a class="devsite-nav-toggle" aria-hidden="true"></a><div class="devsite-nav-title devsite-nav-title-no-path" tabindex="0" role="button"><span class="devsite-nav-text" tooltip>Camera ITS Release Notes</span></div><ul class="devsite-nav-section"><li class="devsite-nav-item
           devsite-nav-new"><a href="/compatibility/cts/its-release-notes-12"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 12 Camera ITS Release Notes</span><span class="devsite-nav-icon material-icons"
          data-icon="new"
          data-title="New!"
          aria-hidden="true"></span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/its-release-notes"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Android 11 Camera ITS Release Notes</span></a></li></ul></devsite-expandable-nav></li></ul></devsite-expandable-nav></li><li class="devsite-nav-item"><a href="/compatibility/cts/interpret"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Interpret Results</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/development"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Develop CTS</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/downloads"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Downloads</span></a></li><li class="devsite-nav-item"><a href="/compatibility/cts/cts-release-notes"
     class="devsite-nav-title"
   ><span class="devsite-nav-text" tooltip>Release Notes</span></a></li></ul></devsite-expandable-nav></li>
          </ul>
        
        
          
    
      
      <ul class="devsite-nav-list" menu="Docs"
          aria-label="Side menu" hidden>
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      Getting Started
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/setup/intro"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: About"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="about">
  
    <span class="devsite-nav-text" tooltip >
      About
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/setup/start"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Start"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="start">
  
    <span class="devsite-nav-text" tooltip >
      Start
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/setup/develop"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Download"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="download">
  
    <span class="devsite-nav-text" tooltip >
      Download
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/setup/build"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Build"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="build">
  
    <span class="devsite-nav-text" tooltip >
      Build
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/setup/create/coding-tasks"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Create"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="create">
  
    <span class="devsite-nav-text" tooltip >
      Create
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/setup/contribute"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Contribute"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="contribute">
  
    <span class="devsite-nav-text" tooltip >
      Contribute
   </span>
    
  
  </a>
  

</li>

            
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      Security
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/security/overview"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Overview"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="overview">
  
    <span class="devsite-nav-text" tooltip >
      Overview
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/security/bulletin"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Bulletins"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="bulletins">
  
    <span class="devsite-nav-text" tooltip >
      Bulletins
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/security/features"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Features"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="features">
  
    <span class="devsite-nav-text" tooltip >
      Features
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tech/debug/fuzz-sanitize"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Testing"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="testing">
  
    <span class="devsite-nav-text" tooltip >
      Testing
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/security/best-practices"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Best Practices"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="bestPractices">
  
    <span class="devsite-nav-text" tooltip >
      Best Practices
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      Core Topics
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/devices/architecture"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Architecture"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="architecture">
  
    <span class="devsite-nav-text" tooltip >
      Architecture
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/audio"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Audio"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="audio">
  
    <span class="devsite-nav-text" tooltip >
      Audio
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/camera"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Camera"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="camera">
  
    <span class="devsite-nav-text" tooltip >
      Camera
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tech/connect"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Connectivity"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="connectivity">
  
    <span class="devsite-nav-text" tooltip >
      Connectivity
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tech/datausage"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Data"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="data">
  
    <span class="devsite-nav-text" tooltip >
      Data
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tech/display"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Display"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="display">
  
    <span class="devsite-nav-text" tooltip >
      Display
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/graphics"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Graphics"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="graphics">
  
    <span class="devsite-nav-text" tooltip >
      Graphics
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/interaction"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Interaction"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="interaction">
  
    <span class="devsite-nav-text" tooltip >
      Interaction
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/media"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Media"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="media">
  
    <span class="devsite-nav-text" tooltip >
      Media
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tech/perf"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Performance"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="performance">
  
    <span class="devsite-nav-text" tooltip >
      Performance
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tech/config"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Permissions"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="permissions">
  
    <span class="devsite-nav-text" tooltip >
      Permissions
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tech/power"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Power"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="power">
  
    <span class="devsite-nav-text" tooltip >
      Power
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tech/dalvik"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Runtime"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="runtime">
  
    <span class="devsite-nav-text" tooltip >
      Runtime
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tech/settings"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Settings"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="settings">
  
    <span class="devsite-nav-text" tooltip >
      Settings
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/storage"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Storage"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="storage">
  
    <span class="devsite-nav-text" tooltip >
      Storage
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/compatibility/tests"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Tests"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="tests">
  
    <span class="devsite-nav-text" tooltip >
      Tests
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tech/ota"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Updates"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="updates">
  
    <span class="devsite-nav-text" tooltip >
      Updates
   </span>
    
  
  </a>
  

</li>

            
          
        
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      Compatibility
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/compatibility/cdd"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Compatibility Definition Document (CDD)"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="compatibilityDefinitionDocument(cdd)">
  
    <span class="devsite-nav-text" tooltip >
      Compatibility Definition Document (CDD)
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/compatibility/cts"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Compatibility Test Suite (CTS)"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="compatibilityTestSuite(cts)">
  
    <span class="devsite-nav-text" tooltip >
      Compatibility Test Suite (CTS)
   </span>
    
  
  </a>
  

</li>

            
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      Android Devices
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/devices/automotive"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Automotive"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="automotive">
  
    <span class="devsite-nav-text" tooltip >
      Automotive
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tech/admin"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Enterprise"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="enterprise">
  
    <span class="devsite-nav-text" tooltip >
      Enterprise
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/devices/tv"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: TV"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="tv">
  
    <span class="devsite-nav-text" tooltip >
      TV
   </span>
    
  
  </a>
  

</li>

            
          
            
              
<li class="devsite-nav-item devsite-nav-heading">

  
  <span
    
       class="devsite-nav-title"
       tooltip
    
    >
  
    <span class="devsite-nav-text" tooltip >
      Reference
   </span>
    
  
  </span>
  

</li>

            
            
              
<li class="devsite-nav-item">

  
  <a href="/reference/hidl"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: HIDL"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="hidl">
  
    <span class="devsite-nav-text" tooltip >
      HIDL
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/reference/hal"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: HAL"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="hal">
  
    <span class="devsite-nav-text" tooltip >
      HAL
   </span>
    
  
  </a>
  

</li>

            
              
<li class="devsite-nav-item">

  
  <a href="/reference/tradefed/classes"
    
       class="devsite-nav-title gc-analytics-event
              
              "
    

    
     data-category="Site-Wide Custom Events"
     data-label="Responsive Tab: Trade Federation"
     track-type="navMenu"
     track-metadata-eventDetail="globalMenu"
     track-metadata-position="nav"
     track-name="tradeFederation">
  
    <span class="devsite-nav-text" tooltip >
      Trade Federation
   </span>
    
  
  </a>
  

</li>

            
          
        
      </ul>
    
  
    
  
        
        
          
    
  
    
  
    
  
    
  
    
  
    
  
        
      </div>
    
  </div>
</nav>
        
      </devsite-book-nav>
      <section id="gc-wrapper">
        <main role="main" class="devsite-main-content"
            has-book-nav
            has-sidebar>
          
          <div class="devsite-sidebar">
            <div class="sidebar-content">
              <devsite-toc class="devsite-nav"
                           role="navigation"
                           aria-label="On this page"
                           depth="2"
                           scrollbars
                ></devsite-toc>
              <devsite-recommendations-sidebar class="nocontent devsite-nav">
              </devsite-recommendations-sidebar>
            </div>
          </div>
          <devsite-content>
            
              

















<article class="devsite-article">
  
  
  

  <div class="devsite-article-meta nocontent" role="navigation">
    
    
    <ul class="devsite-breadcrumb-list"
  
    aria-label="Breadcrumb">
  
  <li class="devsite-breadcrumb-item
             ">
    
    
    
      
  <a href="https://source.android.com/"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="1"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="1"
      
        track-metadata-eventdetail="Android Open Source Project"
      
    >
    
        AOSP
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://source.android.com/docs"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="2"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="2"
      
        track-metadata-eventdetail=""
      
    >
    
        Docs
      
  </a>
  
    
  </li>
  
  <li class="devsite-breadcrumb-item
             ">
    
      
      <div class="devsite-breadcrumb-guillemet material-icons" aria-hidden="true"></div>
    
    
    
      
  <a href="https://source.android.com/compatibility"
      
        class="devsite-breadcrumb-link gc-analytics-event"
      
        data-category="Site-Wide Custom Events"
      
        data-label="Breadcrumbs"
      
        data-value="3"
      
        track-type="globalNav"
      
        track-name="breadcrumb"
      
        track-metadata-position="3"
      
        track-metadata-eventdetail=""
      
    >
    
        Compatibility
      
  </a>
  
    
  </li>
  
</ul>
    
      
    <devsite-thumb-rating position="header">
    </devsite-thumb-rating>
  
    
  </div>
  
  
    <h1 class="devsite-page-title">Android 12 Compatibility Definition</h1>
  
  <devsite-bookmark></devsite-bookmark>
  <devsite-toc class="devsite-nav"
               depth="2"
               devsite-toc-embedded
               >
  </devsite-toc>

  

  <div class="devsite-article-body clearfix
    ">

    
      




<h2 id="1_introduction" data-text="1. Introduction">1. Introduction</h2>

<p>This document enumerates the requirements that must be met in order for devices
to be compatible with Android 12.</p>

<p>The use of “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”,
“SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” is per the IETF standard
defined in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC2119</a>.</p>

<p>As used in this document, a “device implementer” or “implementer” is a person
or organization developing a hardware/software solution running Android
12. A “device implementation” or “implementation&quot; is the
hardware/software solution so developed.</p>

<p>To be considered compatible with Android 12, device
implementations MUST meet the requirements presented in this Compatibility
Definition, including any documents incorporated via reference.</p>

<p>Where this definition or the software tests described in <a href="#10_software_compatibility_testing">section
10</a> is silent, ambiguous, or incomplete, it
is the responsibility of the device implementer to ensure compatibility with
existing implementations.</p>

<p>For this reason, the <a href="http://source.android.com/">Android Open Source Project</a>
is both the reference and preferred implementation of Android. Device
implementers are STRONGLY RECOMMENDED to base their implementations to the
greatest extent possible on the “upstream” source code available from the
Android Open Source Project. While some components can hypothetically be
replaced with alternate implementations, it is STRONGLY RECOMMENDED to not
follow this practice, as passing the software tests will become substantially
more difficult. It is the implementer’s responsibility to ensure full
behavioral compatibility with the standard Android implementation, including
and beyond the Compatibility Test Suite. Finally, note that certain component
substitutions and modifications are explicitly forbidden by this document.</p>

<p>Many of the resources linked to in this document are derived directly or
indirectly from the Android SDK and will be functionally identical to the
information in that SDK’s documentation. In any cases where this Compatibility
Definition or the Compatibility Test Suite disagrees with the SDK
documentation, the SDK documentation is considered authoritative. Any technical
details provided in the linked resources throughout this document are
considered by inclusion to be part of this Compatibility Definition.</p>

<h3 id="11_document_structure" data-text="1.1 Document Structure">1.1 Document Structure</h3>

<h4 id="111_requirements_by_device_type" data-text="1.1.1. Requirements by Device Type">1.1.1. Requirements by Device Type</h4>

<p><a href="#2_device_types">Section 2</a> contains all of the requirements that apply to a
specific device type. Each subsection of <a href="#2_device_types">Section 2</a> is
dedicated to a specific device type.</p>

<p>All the other requirements, that universally apply to any Android device
implementations, are listed in the sections after <a href="#2_device_types">Section 2</a>.
These requirements are referenced as &quot;Core Requirements&quot; in this document.</p>

<h4 id="112_requirement_id" data-text="1.1.2. Requirement ID">1.1.2. Requirement ID</h4>

<p>Requirement ID is assigned for MUST requirements.</p>

<ul>
<li>The ID is assigned for MUST requirements only.</li>
<li>STRONGLY RECOMMENDED requirements are marked as [SR] but ID is not assigned.</li>
<li>The ID consists of : Device Type ID - Condition ID - Requirement ID
 (e.g. C-0-1).</li>
</ul>

<p>Each ID is defined as below:</p>

<ul>
<li>Device Type ID (see more in <a href="#2_device_types">2. Device Types</a>)
<ul>
<li>C: Core (Requirements that are applied to all Android device implementations)</li>
<li>H: Android Handheld device</li>
<li>T: Android Television device</li>
<li>A: Android Automotive implementation</li>
<li>W: Android Watch implementation</li>
<li>Tab: Android Tablet implementation</li>
</ul></li>
<li>Condition ID
<ul>
<li>When the requirement is unconditional, this ID is set as 0.</li>
<li>When the requirement is conditional, 1 is assigned for the 1st
  condition and the number increments by 1 within the same section and
  the same device type.</li>
</ul></li>
<li>Requirement ID
<ul>
<li>This ID starts from 1 and increments by 1 within the same section and
  the same condition.</li>
</ul></li>
</ul>

<h4 id="113_requirement_id_in_section_2" data-text="1.1.3. Requirement ID in Section 2">1.1.3. Requirement ID in Section 2</h4>

<p>The Requirement IDs in <a href="#2_device_types">Section 2</a> have two parts. The first
corresponds to a section ID as described above. The second part identifies the
form factor and the form-factor specific requirement.</p>

<p>section ID that is followed by the Requirement ID described above.</p>

<ul>
<li>The ID in <a href="#2_device_types">Section 2</a> consists of :
Section ID / Device Type ID - Condition ID - Requirement ID (e.g. 7.4.3/A-0-1).</li>
</ul>

<h2 id="2_device_types" data-text="2. Device Types">2. Device Types</h2>

<p>The Android Open Source Project provides a software stack that can be used
for a variety of device types and form factors. To support security on devices,
the software stack, including any replacement OS or an alternate kernel
implementation, is expected to execute in a secure environment as described
in section 9 and elsewhere within this CDD. There are a few device types
that have a relatively better established application distribution ecosystem.</p>

<p>This section describes those device types, and additional requirements and
recommendations applicable for each device type.</p>

<p>All Android device implementations that do not fit into any of the described
device types MUST still meet all requirements in the other sections of this
Compatibility Definition.</p>

<h3 id="21_device_configurations" data-text="2.1 Device Configurations">2.1 Device Configurations</h3>

<p>For the major differences in hardware configuration by device
type, see the device-specific requirements that follow in this section.</p>

<h3 id="22_handheld_requirements" data-text="2.2. Handheld Requirements">2.2. Handheld Requirements</h3>

<p>An <strong>Android Handheld device</strong> refers to an Android device implementation that is
typically used by holding it in the hand, such as an mp3 player, phone, or
tablet.</p>

<p>Android device implementations are classified as a Handheld if they meet all the
following criteria:</p>

<ul>
<li>Have a power source that provides mobility, such as a battery.</li>
<li>Have a physical diagonal screen size in the range of 3.3 inches (or
2.5 inches for devices which launched on an API level earlier than
Android 11) to 8 inches.</li>
</ul>

<p>The additional requirements in the rest of this section are specific to Android
Handheld device implementations.</p>

<div class="note">
<b>Note:</b> Requirements that do not apply to Android Tablet devices are marked with an *.
</div>

<h4 id="221_hardware" data-text="2.2.1. Hardware">2.2.1. Hardware</h4>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.1.1/H-0-1] MUST have at least one
Android-compatible display that meets all requirements described on this
document.</li>
<li><p>[<a href="#7_1_display_and_graphics">7.1</a>.1.3/H-SR] Are STRONGLY RECOMMENDED to
provide users an affordance to change the display size (screen density).</p></li>
<li><p>[<a href="#7_1_display_and_graphics">7.1</a>.1.1/H-0-2] MUST support GPU composition of
graphic buffers at least as large as the highest resolution of any built-in
display.</p></li>
</ul>

<p>If Handheld device implementations support software screen rotation, they:</p>

<ul>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.1.1/H-1-1]* MUST make the logical screen
that is made available for third party applications be at least 2 inches on the
short edge(s) and 2.7 inches on the long edge(s).
Devices which launched on an API level earlier than that of this document are
exempted from this requirement.</li>
</ul>

<p>If Handheld device implementations do not support software screen rotation,
they:</p>

<ul>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.1.1/H-2-1]* MUST make the logical screen
that is made available for third party applications be at least 2.7 inches on
the short edge(s).
Devices which launched on an API level earlier than that of this document are
exempted from this requirement.</li>
</ul>

<p>If Handheld device implementations claim support for high dynamic range
displays through <a href="https://developer.android.com/reference/android/content/res/Configuration.html#isScreenHdr%28%29"><code translate="no" dir="ltr">Configuration.isScreenHdr()</code>
</a>
, they:</p>

<ul>
<li>[<a href="#7_1_display-and-graphics">7.1</a>.4.5/H-1-1] MUST advertise support for the
<code translate="no" dir="ltr">EGL_EXT_gl_colorspace_bt2020_pq</code>, <code translate="no" dir="ltr">EGL_EXT_surface_SMPTE2086_metadata</code>,
<code translate="no" dir="ltr">EGL_EXT_surface_CTA861_3_metadata</code>, <code translate="no" dir="ltr">VK_EXT_swapchain_colorspace</code>, and
<code translate="no" dir="ltr">VK_EXT_hdr_metadata</code> extensions.</li>
</ul>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.4.6/H-0-1] MUST report whether the device
supports the GPU profiling capability via a system property
<code translate="no" dir="ltr">graphics.gpu.profiler.support</code>.</li>
</ul>

<p>If Handheld device implementations declare support via a system property
<code translate="no" dir="ltr">graphics.gpu.profiler.support</code>, they:</p>

<ul>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.4.6/H-1-1] MUST report as output a
 protobuf trace that complies with the schema for GPU counters and GPU
 renderstages defined in the <a href="https://developer.android.com/studio/command-line/perfetto">Perfetto documentation</a>.</li>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.4.6/H-1-2] MUST report conformant values
 for the device’s GPU counters following the
 <a href="https://android.googlesource.com/platform/external/perfetto/+/refs/heads/master/protos/perfetto/trace/gpu/gpu_counter_event.proto">gpu counter trace packet proto</a>.</li>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.4.6/H-1-3] MUST report conformant values
 for the device’s GPU RenderStages following the
 <a href="https://android.googlesource.com/platform/external/perfetto/+/refs/heads/master/protos/perfetto/trace/gpu/gpu_render_stage_event.proto">render stage trace packet proto</a>.</li>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.4.6/H-1-4] MUST report a GPU Frequency
 tracepoint as specified by the format: <a href="https://android.googlesource.com/platform/external/perfetto/+/refs/heads/master/protos/perfetto/trace/ftrace/power.proto">power/gpu_frequency</a>.</li>
</ul>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.5/H-0-1] MUST include support for legacy
application compatibility mode as implemented by the upstream Android open
source code. That is, device implementations MUST NOT alter the triggers or
thresholds at which compatibility mode is activated, and MUST NOT alter the
behavior of the compatibility mode itself.</li>
<li>[<a href="#7_2_input_devices">7.2</a>.1/H-0-1] MUST include support for third-party
Input Method Editor (IME) applications.</li>
<li>[<a href="#7_2_input_devices">7.2</a>.3/H-0-3] MUST provide the Home function on
all the Android-compatible displays that provide the home screen.</li>
<li>[<a href="#7_2_input_devices">7.2</a>.3/H-0-4] MUST provide the Back function on all
the Android-compatible displays and the Recents function on at least one of
the Android-compatible displays.</li>
<li>[<a href="#7_2_input_devices">7.2</a>.3/H-0-2] MUST send both the normal and long press
event of the Back function (<a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BACK"><code translate="no" dir="ltr">KEYCODE_BACK</code></a>)
to the foreground application. These events MUST NOT be consumed by the system
and CAN be triggered by outside of the Android device (e.g. external hardware
keyboard connected to the Android device).</li>
<li>[<a href="#7_2_input_devices">7.2</a>.4/H-0-1] MUST support touchscreen input.</li>
<li>[<a href="#7_2_input_devices">7.2</a>.4/H-SR] Are STRONGLY RECOMMENDED to launch the
user-selected assist app, in other words the app that implements
VoiceInteractionService, or an activity handling the <a href="https://developer.android.com/reference/android/content/Intent#ACTION_ASSIST"><code translate="no" dir="ltr">ACTION_ASSIST</code></a>
on long-press of <a href="https://developer.android.com/reference/android/view/KeyEvent#KEYCODE_MEDIA_PLAY_PAUSE"><code translate="no" dir="ltr">KEYCODE_MEDIA_PLAY_PAUSE</code></a>
or <a href="https://developer.android.com/reference/android/view/KeyEvent#KEYCODE_HEADSETHOOK"><code translate="no" dir="ltr">KEYCODE_HEADSETHOOK</code></a>
if the foreground activity does not handle those long-press events.</li>
<li>[<a href="#7_3_sensors">7.3</a>.1/H-SR] Are STRONGLY RECOMMENDED to include a 3-axis
accelerometer.</li>
</ul>

<p>If Handheld device implementations include a 3-axis accelerometer, they:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.1/H-1-1] MUST be able to report events up to a frequency
of at least 100 Hz.</li>
</ul>

<p>If Handheld device implementations include a GPS/GNSS receiver and report the
capability to applications through the <code translate="no" dir="ltr">android.hardware.location.gps</code> feature
flag, they:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.3/H-2-1] MUST report GNSS measurements, as soon as they
are found, even if a location calculated from GPS/GNSS is not yet reported.</li>
<li>[<a href="#7_3_sensors">7.3</a>.3/H-2-2] MUST report GNSS pseudoranges and pseudorange
rates, that, in open-sky conditions after determining the location, while
stationary or moving with less than 0.2 meter per second squared of
acceleration, are sufficient to calculate position within 20 meters, and speed
within 0.2 meters per second, at least 95% of the time.</li>
</ul>

<p>If Handheld device implementations include a 3-axis gyroscope, they:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.4/H-3-1] MUST be able to report events up to a frequency
of at least 100 Hz.</li>
<li>[<a href="#7_3_sensors">7.3</a>.4/H-3-2] MUST be capable of measuring orientation changes
up to 1000 degrees per second.</li>
</ul>

<p>Handheld device implementations that can make a voice call and indicate
any value other than <code translate="no" dir="ltr">PHONE_TYPE_NONE</code> in <code translate="no" dir="ltr">getPhoneType</code>:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.8/H] SHOULD include a proximity sensor.</li>
</ul>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.11/H-SR] Are RECOMMENDED to support pose sensor with 6
degrees of freedom.</li>
<li>[<a href="#7_4_data_connectivity">7.4</a>.3/H] SHOULD include support for Bluetooth and
Bluetooth LE.</li>
</ul>

<p>If Handheld device implementations include a metered connection, they:</p>

<ul>
<li>[<a href="#7_4_data_connectivity">7.4</a>.7/H-1-1] MUST provide the data saver mode.</li>
</ul>

<p>If Handheld device implementations include a logical camera device that lists
capabilities using
<a href="https://developer.android.com/reference/android/hardware/camera2/CameraMetadata#REQUEST_AVAILABLE_CAPABILITIES_LOGICAL_MULTI_CAMERA"><code translate="no" dir="ltr">CameraMetadata.REQUEST_AVAILABLE_CAPABILITIES_LOGICAL_MULTI_CAMERA</code></a>,
they:</p>

<ul>
<li>[<a href="#7_5_camera">7.5</a>.4/H-1-1] MUST have normal field of view (FOV) by default
and it MUST be between 50 and 90 degrees.</li>
</ul>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#7_6_memory_and_storage">7.6</a>.1/H-0-1] MUST have at least 4 GB of
non-volatile storage available for application private data
(a.k.a. &quot;/data&quot; partition).</li>
<li>[<a href="#7_6_memory_and_storage">7.6</a>.1/H-0-2] MUST return “true” for
<code translate="no" dir="ltr">ActivityManager.isLowRamDevice()</code> when there is less than 1GB of memory
available to the kernel and userspace.</li>
</ul>

<p>If Handheld device implementations declare support of only a 32-bit ABI:</p>

<ul>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/H-1-1] The memory available to the kernel
and userspace MUST be at least 416MB if the default display uses framebuffer
resolutions up to qHD (e.g. FWVGA).</p></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/H-2-1] The memory available to the kernel
and userspace MUST be at least 592MB if the default display uses framebuffer
resolutions up to HD+ (e.g. HD, WSVGA).</p></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/H-3-1] The memory available to the kernel
and userspace MUST be at least 896MB if the default display uses framebuffer
resolutions up to FHD (e.g. WSXGA+).</p></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/H-4-1] The memory available to the kernel
and userspace MUST be at least 1344MB if the default display uses
framebuffer resolutions up to QHD (e.g. QWXGA).</p></li>
</ul>

<p>If Handheld device implementations declare support of 32-bit and 64-bit ABIs:</p>

<ul>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/H-5-1] The memory available to the kernel
and userspace MUST
be at least 816MB if the default display uses framebuffer resolutions up
to qHD (e.g. FWVGA).</p></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/H-6-1] The memory available to the kernel
and userspace MUST be at least
944MB if the default display uses framebuffer resolutions up to HD+
(e.g. HD, WSVGA).</p></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/H-7-1] The memory available to the kernel
and userspace MUST be at least
1280MB if the default display uses framebuffer resolutions up to FHD
(e.g. WSXGA+).</p></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/H-8-1] The memory available to the kernel
and userspace MUST be at least
1824MB if the default display uses framebuffer resolutions up to QHD
(e.g. QWXGA).</p></li>
</ul>

<p>Note that the &quot;memory available to the kernel and userspace&quot; above refers to the
memory space provided in addition to any memory already dedicated to hardware
components such as radio, video, and so on that are not under the kernel’s
control on device implementations.</p>

<p>If Handheld device implementations include less than or equal to 1GB of memory
available to the kernel and userspace, they:</p>

<ul>
<li>[<a href="#7_6_memory-and-storage">7.6</a>.1/H-9-1] MUST declare the feature flag
<a href="https://developer.android.com/reference/android/content/pm/PackageManager.html#FEATURE_RAM_LOW"><code translate="no" dir="ltr">android.hardware.ram.low</code></a>.</li>
<li>[<a href="#7_6_memory-and-storage">7.6</a>.1/H-9-2] MUST have at least 1.1 GB of
non-volatile storage for application
private data (a.k.a. &quot;/data&quot; partition).</li>
</ul>

<p>If Handheld device implementations include more than 1GB of memory available
to the kernel and userspace, they:</p>

<ul>
<li>[<a href="#7_6_memory-and-storage">7.6</a>.1/H-10-1] MUST have at least 4GB of
non-volatile storage available for
application private data (a.k.a. &quot;/data&quot; partition).</li>
<li>SHOULD declare the feature flag <a href="https://developer.android.com/reference/android/content/pm/PackageManager.html#FEATURE_RAM_NORMAL"><code translate="no" dir="ltr">android.hardware.ram.normal</code></a>.</li>
</ul>

<p>If Handheld device implementations include greater than or equal to 2GB
and less than 4GB of memory available to the kernel and userspace, they:
*   [7.6.1/H-SR] Are STRONGLY RECOMMENDED to support only 32-bit userspace
(both apps and system code)</p>

<p>If Handheld device implementations include less than 2GB of memory available to
the kernel and userspace, they:
*   [7.6.1/H-1-1] MUST support only 32-bit ABIs.</p>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#7_6_memory_and_storage">7.6</a>.2/H-0-1] MUST NOT provide an application
shared storage smaller than 1 GiB.</li>
<li>[<a href="#7_7_usb">7.7</a>.1/H] SHOULD include a USB port supporting peripheral mode.</li>
</ul>

<p>If handheld device implementations include a USB port supporting peripheral
mode, they:</p>

<ul>
<li>[<a href="#7_7_usb">7.7</a>.1/H-1-1] MUST implement the Android Open Accessory (AOA)
API.</li>
</ul>

<p>If Handheld device implementations include a USB port supporting host mode,
they:</p>

<ul>
<li>[<a href="#7_7_usb">7.7</a>.2/H-1-1] MUST implement the <a href="http://developer.android.com/reference/android/hardware/usb/UsbConstants.html#USB_CLASS_AUDIO">USB audio class</a>
as documented in the Android SDK documentation.</li>
</ul>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#7_8_audio">7.8</a>.1/H-0-1] MUST include a microphone.</li>
<li>[<a href="#7_8_audio">7.8</a>.2/H-0-1] MUST have an audio output and declare
<code translate="no" dir="ltr">android.hardware.audio.output</code>.</li>
</ul>

<p>If Handheld device implementations are capable of meeting all the performance
requirements for supporting VR mode and include support for it, they:</p>

<ul>
<li>[<a href="#7_9_virtual_reality">7.9</a>.1/H-1-1] MUST declare the
<code translate="no" dir="ltr">android.hardware.vr.high_performance</code> feature flag.</li>
<li>[<a href="#7_9_virtual_reality">7.9</a>.1/H-1-2] MUST include an application
implementing <code translate="no" dir="ltr">android.service.vr.VrListenerService</code> that can be enabled by VR
applications via <code translate="no" dir="ltr">android.app.Activity#setVrModeEnabled</code>.</li>
</ul>

<p>If Handheld device implementations include one or more USB-C port(s) in host
mode and implement (USB audio class), in addition to requirements in
<a href="#7_7_2_USB_host_mode">section 7.7.2</a>, they:</p>

<ul>
<li>[<a href="#7_8_audio">7.8</a>.2.2/H-1-1] MUST provide the following software mapping
of HID codes:</li>
</ul>

<table>
  <tr>
   <th>Function</th>
   <th>Mappings</th>
   <th>Context</th>
   <th>Behavior</th>
  </tr>
  <tr>
   <td rowspan="6">A</td>
   <td rowspan="6"><strong>HID usage page</strong>: 0x0C<br>
       <strong>HID usage</strong>: 0x0CD<br>
       <strong>Kernel key</strong>: <code translate="no" dir="ltr">KEY_PLAYPAUSE</code><br>
       <strong>Android key</strong>: <code translate="no" dir="ltr">KEYCODE_MEDIA_PLAY_PAUSE</code></td>
   <td rowspan="2">Media playback</td>
   <td><strong>Input</strong>: Short press<br>
       <strong>Output</strong>: Play or pause</td>
  </tr>
  <tr>
   <td><strong>Input</strong>: Long press<br>
       <strong>Output</strong>: Launch voice command<br>
       <strong>Sends</strong>:
       <code translate="no" dir="ltr">android.speech.action.VOICE_SEARCH_HANDS_FREE</code> if the device
       is locked or its screen is off. Sends
       <code translate="no" dir="ltr">android.speech.RecognizerIntent.ACTION_WEB_SEARCH</code> otherwise</td>
  </tr>
  <tr>
   <td rowspan="2">Incoming call</td>
   <td><strong>Input</strong>: Short press<br>
       <strong>Output</strong>: Accept call</td>
  </tr>
  <tr>
   <td><strong>Input</strong>: Long press<br>
       <strong>Output</strong>: Reject call</td>
  </tr>
  <tr>
   <td rowspan="2">Ongoing call</td>
   <td><strong>Input</strong>: Short press<br>
       <strong>Output</strong>: End call</td>
  </tr>
  <tr>
   <td><strong>Input</strong>: Long press<br>
       <strong>Output</strong>: Mute or unmute microphone</td>
  </tr>
  <tr>
   <td>B</td>
   <td><strong>HID usage page</strong>: 0x0C<br>
       <strong>HID usage</strong>: 0x0E9<br>
       <strong>Kernel key</strong>: <code translate="no" dir="ltr">KEY_VOLUMEUP</code><br>
       <strong>Android key</strong>: <code translate="no" dir="ltr">VOLUME_UP</code></td>
   <td>Media playback, Ongoing call</td>
   <td><strong>Input</strong>: Short or long press<br>
       <strong>Output</strong>: Increases the system or headset volume</td>
  </tr>
  <tr>
   <td>C</td>
   <td><strong>HID usage page</strong>: 0x0C<br>
       <strong>HID usage</strong>: 0x0EA<br>
       <strong>Kernel key</strong>: <code translate="no" dir="ltr">KEY_VOLUMEDOWN</code><br>
       <strong>Android key</strong>: <code translate="no" dir="ltr">VOLUME_DOWN</code></td>
   <td>Media playback, Ongoing call</td>
   <td><strong>Input</strong>: Short or long press<br>
       <strong>Output</strong>: Decreases the system or headset volume</td>
  </tr>
  <tr>
   <td>D</td>
   <td><strong>HID usage page</strong>: 0x0C<br>
       <strong>HID usage</strong>: 0x0CF<br>
       <strong>Kernel key</strong>: <code translate="no" dir="ltr">KEY_VOICECOMMAND</code><br>
       <strong>Android key</strong>: <code translate="no" dir="ltr">KEYCODE_VOICE_ASSIST</code></td>
   <td>All. Can be triggered in any instance.</td>
   <td><strong>Input</strong>: Short or long press<br>
       <strong>Output</strong>: Launch voice command</td>
  </tr>
</table>

<ul>
<li>[<a href="#7_8_audio">7.8</a>.2.2/H-1-2] MUST trigger <a href="https://developer.android.com/reference/android/content/Intent#ACTION_HEADSET_PLUG">ACTION_HEADSET_PLUG</a>
upon a plug insert, but only after the USB audio interfaces and endpoints have
been properly enumerated in order to identify the type of terminal connected.</li>
</ul>

<p>When the USB audio terminal types 0x0302 is detected, they:</p>

<ul>
<li>[<a href="#7_8_audio">7.8</a>.2.2/H-2-1] MUST broadcast Intent ACTION_HEADSET_PLUG with
&quot;microphone&quot; extra set to 0.</li>
</ul>

<p>When the USB audio terminal types 0x0402 is detected, they:</p>

<ul>
<li>[<a href="#7_8_audio">7.8</a>.2.2/H-3-1] MUST broadcast Intent ACTION_HEADSET_PLUG with
&quot;microphone&quot; extra set to 1.</li>
</ul>

<p>When API AudioManager.getDevices() is called while the USB peripheral is
connected they:</p>

<ul>
<li><p>[<a href="#7_8_audio">7.8</a>.2.2/H-4-1] MUST list a device of type <a href="https://developer.android.com/reference/android/media/AudioDeviceInfo#TYPE_USB_HEADSET">AudioDeviceInfo.TYPE_USB_HEADSET</a>
and role isSink() if the USB audio terminal type field is 0x0302.</p></li>
<li><p>[<a href="#7_8_audio">7.8</a>.2.2/H-4-2] MUST list a device of type
AudioDeviceInfo.TYPE_USB_HEADSET and role isSink() if the USB audio terminal
type field is 0x0402.</p></li>
<li><p>[<a href="#7_8_audio">7.8</a>.2.2/H-4-3] MUST list a device of type
AudioDeviceInfo.TYPE_USB_HEADSET and role isSource() if the USB audio terminal
type field is 0x0402.</p></li>
<li><p>[<a href="#7_8_audio">7.8</a>.2.2/H-4-4] MUST list a device of type <a href="https://developer.android.com/reference/android/media/AudioDeviceInfo#TYPE_USB_DEVICE">AudioDeviceInfo.TYPE_USB_DEVICE</a>
and role isSink() if the USB audio terminal type field is 0x603.</p></li>
<li><p>[<a href="#7_8_audio">7.8</a>.2.2/H-4-5] MUST list a device of type
AudioDeviceInfo.TYPE_USB_DEVICE and role isSource() if the USB audio terminal
type field is 0x604.</p></li>
<li><p>[<a href="#7_8_audio">7.8</a>.2.2/H-4-6] MUST list a device of type
AudioDeviceInfo.TYPE_USB_DEVICE and role isSink() if the USB audio terminal type
field is 0x400.</p></li>
<li><p>[<a href="#7_8_audio">7.8</a>.2.2/H-4-7] MUST list a device of type
AudioDeviceInfo.TYPE_USB_DEVICE and role isSource() if the USB audio terminal
type field is 0x400.</p></li>
<li><p>[<a href="#7_8_audio">7.8</a>.2.2/H-SR] Are STRONGLY RECOMMENDED upon connection of a
USB-C audio peripheral, to perform enumeration of USB descriptors, identify
terminal types and broadcast Intent ACTION_HEADSET_PLUG in less than
1000 milliseconds.</p></li>
</ul>

<p>If Handheld device implementations declare <code translate="no" dir="ltr">android.hardware.audio.output</code> and
<code translate="no" dir="ltr">android.hardware.microphone</code>, they:</p>

<ul>
<li>[5.6(#5_6_audio-latency)/H-1-1] MUST have a Mean Continuous Round-Trip
 latency of 800 milliseconds or less over 5 measurements, with a Mean
 Absolute Deviation less than 100 ms, over at least one supported path.</li>
</ul>

<p>If Handheld device implementations include at least one haptic actuator, they:</p>

<ul>
<li>[<a href="#7_10_haptics">7.10</a>/H]* SHOULD NOT use an eccentric rotating mass (ERM)
haptic actuator (vibrator).</li>
<li>[<a href="#7_10_haptics">7.10</a>/H]* SHOULD position the placement of the actuator
near the location where the device is typically held or touched by hands.</li>
<li>[<a href="#7_10_haptics">7.10</a>/H]* SHOULD implement all public constants for
<a href="https://source.android.com/devices/input/haptics">clear haptics</a>
in <a href="https://developer.android.com/reference/android/view/HapticFeedbackConstants#constants">android.view.HapticFeedbackConstants</a>
namely (CLOCK_TICK, CONTEXT_CLICK, KEYBOARD_PRESS, KEYBOARD_RELEASE,
KEYBOARD_TAP, LONG_PRESS, TEXT_HANDLE_MOVE, VIRTUAL_KEY,
VIRTUAL_KEY_RELEASE, CONFIRM, REJECT, GESTURE_START and GESTURE_END).</li>
<li>[<a href="#7_10_haptics">7.10</a>/H]* SHOULD implement all public constants for
<a href="https://source.android.com/devices/input/haptics">clear haptics</a>
in <a href="https://developer.android.com/reference/android/os/VibrationEffect">android.os.VibrationEffect</a>
namely (EFFECT_TICK, EFFECT_CLICK, EFFECT_HEAVY_CLICK and
EFFECT_DOUBLE_CLICK) and all public constants for <a href="https://source.android.com/devices/input/haptics">rich haptics</a>
in <a href="https://developer.android.com/reference/android/os/VibrationEffect.Composition">android.os.VibrationEffect.Composition</a>
namely (PRIMITIVE_CLICK and PRIMITIVE_TICK).</li>
<li>[<a href="#7_10_haptics">7.10</a>/H]* SHOULD use these linked haptic constants
<a href="https://source.android.com/devices/input/haptics">mappings</a>.</li>
<li>[<a href="#7_10_haptics">7.10</a>/H]* SHOULD follow
<a href="https://source.android.com/devices/input/haptics">quality assessment</a>
for [createOneShot()](https://developer.android.com/reference/android/os/VibrationEffect#createOneShot(long,%20int))
and [createWaveform()](https://developer.android.com/reference/android/os/VibrationEffect#createWaveform(long[],%20int))
API&#39;s.</li>
<li>[<a href="#7_10_haptics">7.10</a>/H]* SHOULD verify the capabilities for amplitude
scalability by running
[android.os.Vibrator.hasAmplitudeControl()](https://developer.android.com/reference/android/os/Vibrator#hasAmplitudeControl()).</li>
</ul>

<p>A linear resonant actuator (LRA) is a single-mass spring system which has a
dominant resonant frequency where the mass translates in the direction of
desired motion.</p>

<p>If Handheld device implementations include at least one linear resonant
actuator, they:</p>

<ul>
<li>[<a href="#7_10_haptics">7.10</a>/H]* SHOULD move the haptic actuator in the X-axis of
portrait orientation.</li>
</ul>

<p>If Handheld device implementations have a haptic actuator which is X-axis
linear resonant actuator (LRA), they:</p>

<ul>
<li>[<a href="#7_10_haptics">7.10</a>/H]* SHOULD have the resonant frequency of the X-axis
LRA be under 200 Hz.</li>
</ul>

<p>If handheld device implementations follow haptic constants mapping, they:</p>

<ul>
<li>[7.10/H]* SHOULD verify the implementation status by running
[android.os.Vibrator.areAllEffectsSupported()](https://developer.android.com/reference/android/os/Vibrator#areAllEffectsSupported(int...))
and <a href="https://developer.android.com/reference/kotlin/android/os/Vibrator#areprimitivessupported">android.os.Vibrator.arePrimitvesSupported()</a>
API&#39;s.</li>
<li>[<a href="#7_10_haptics">7.10</a>/H]* SHOULD perform a
<a href="https://source.android.com/devices/input/haptics">quality assessment</a>
for haptic constants.</li>
<li>[7.10/H]* SHOULD provide fallback support to mitigate
the risk of failure as described <a href="https://source.android.com/devices/input/haptics/haptics-implement#implement-constants">here</a>.</li>
</ul>

<h4 id="222_multimedia" data-text="2.2.2. Multimedia">2.2.2. Multimedia</h4>

<p>Handheld device implementations MUST support the following audio encoding and
decoding formats and make them available to third-party applications:</p>

<ul>
<li>[<a href="#5_1_media_codecs">5.1</a>/H-0-1] AMR-NB</li>
<li>[<a href="#5_1_media_codecs">5.1</a>/H-0-2] AMR-WB</li>
<li>[<a href="#5_1_media_codecs">5.1</a>/H-0-3] MPEG-4 AAC Profile (AAC LC)</li>
<li>[<a href="#5_1_media_codecs">5.1</a>/H-0-4] MPEG-4 HE AAC Profile (AAC+)</li>
<li>[<a href="#5_1_media-codecs">5.1</a>/H-0-5] AAC ELD (enhanced low delay AAC)</li>
</ul>

<p>Handheld device implementations MUST support the following video encoding
formats and make them available to third-party applications:</p>

<ul>
<li>[<a href="#5_2_video_encoding">5.2</a>/H-0-1] H.264 AVC</li>
<li>[<a href="#5_2_video_encoding">5.2</a>/H-0-2] VP8</li>
</ul>

<p>Handheld device implementations MUST support the following video decoding
formats and make them available to third-party applications:</p>

<ul>
<li>[<a href="#5_3_video_decoding">5.3</a>/H-0-1] H.264 AVC</li>
<li>[<a href="#5_3_video_decoding">5.3</a>/H-0-2] H.265 HEVC</li>
<li>[<a href="#5_3_video_decoding">5.3</a>/H-0-3] MPEG-4 SP</li>
<li>[<a href="#5_3_video_decoding">5.3</a>/H-0-4] VP8</li>
<li>[<a href="#5_3_video_decoding">5.3</a>/H-0-5] VP9</li>
</ul>

<h4 id="223_software" data-text="2.2.3. Software">2.2.3. Software</h4>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#3_2_3_1_common_application_intents">3.2.3.1</a>/H-0-1] MUST have an
application that handles the <a href="https://developer.android.com/reference/android/content/Intent.html#ACTION_GET_CONTENT"><code translate="no" dir="ltr">ACTION_GET_CONTENT</code></a>,
<a href="https://developer.android.com/reference/android/content/Intent#ACTION_OPEN_DOCUMENT"><code translate="no" dir="ltr">ACTION_OPEN_DOCUMENT</code></a>,
<a href="https://developer.android.com/reference/android/content/Intent.html#ACTION_OPEN_DOCUMENT_TREE"><code translate="no" dir="ltr">ACTION_OPEN_DOCUMENT_TREE</code></a>,
and <a href="https://developer.android.com/reference/android/content/Intent.html#ACTION_CREATE_DOCUMENT"><code translate="no" dir="ltr">ACTION_CREATE_DOCUMENT</code></a>
intents as described in the SDK documents, and provide the user affordance
to access the document provider data by using <a href="https://developer.android.com/reference/android/provider/DocumentsProvider"><code translate="no" dir="ltr">DocumentsProvider</code></a> API.</li>
<li>[<a href="#3_2_3_1_common_application_intents">3.2.3.1</a>/H-0-2]*  MUST preload one
or more applications or service components with an intent handler, for
all the public intent filter patterns defined by the following application
intents listed <a href="https://developer.android.com/about/versions/11/reference/common-intents-30">here</a>.</li>
<li>[<a href="#3_2_3_1_common_application_intents">3.2.3.1</a>/H-SR] Are STRONGLY
RECOMMENDED to preload an email application which can handle <a href="https://developer.android.com/reference/android/content/Intent#ACTION_SENDTO">ACTION_SENDTO</a>
or <a href="https://developer.android.com/reference/android/content/Intent#ACTION_SEND">ACTION_SEND</a>
or <a href="https://developer.android.com/reference/android/content/Intent#ACTION_SEND_MULTIPLE">ACTION_SEND_MULTIPLE</a>
intents to send an email.</li>
<li>[<a href="#3_4_web_compatibility">3.4</a>.1/H-0-1] MUST provide a complete
implementation of the <code translate="no" dir="ltr">android.webkit.Webview</code> API.</li>
<li>[<a href="#3_4_web_compatibility">3.4</a>.2/H-0-1] MUST include a standalone Browser
application for general user web browsing.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.1/H-SR] Are STRONGLY RECOMMENDED
to implement a default launcher that supports in-app pinning of shortcuts,
widgets and <a href="https://developer.android.com/reference/android/appwidget/AppWidgetProviderInfo.html#widgetFeatures">widgetFeatures</a>.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.1/H-SR] Are STRONGLY RECOMMENDED
to implement a default launcher that provides quick access to the additional
shortcuts provided by third-party apps through the <a href="https://developer.android.com/reference/android/content/pm/ShortcutManager.html">ShortcutManager</a>
API.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.1/H-SR] Are STRONGLY RECOMMENDED
to include a default launcher app that shows badges for the app icons.</li>
<li>[<a href="#3_8_user-interface_compatibility">3.8</a>.2/H-SR] Are STRONGLY RECOMMENDED
to support third-party app widgets.</li>
<li>[<a href="#3_8_user-interface_compatibility">3.8</a>.3/H-0-1] MUST allow third-party
apps to notify users of notable events through the <a href="https://developer.android.com/reference/android/app/Notification.html"><code translate="no" dir="ltr">Notification</code></a> and
<a href="https://developer.android.com/reference/android/app/NotificationManager.html"><code translate="no" dir="ltr">NotificationManager</code></a>
API classes.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.3/H-0-2] MUST support rich
notifications.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.3/H-0-3] MUST support heads-up
notifications.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.3/H-0-4] MUST include a
notification shade, providing the user the ability to directly control (e.g.
reply, snooze, dismiss, block) the notifications through user affordance such as
action buttons or the control panel as implemented in the AOSP.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.3/H-0-5] MUST display the choices
provided through <a href="https://developer.android.com/reference/android/app/RemoteInput.Builder.html#setChoices%28java.lang.CharSequence%5B%5D%29"><code translate="no" dir="ltr">RemoteInput.Builder setChoices()</code></a>
in the notification shade.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.3/H-SR] Are STRONGLY RECOMMENDED
to display the first choice provided through <a href="https://developer.android.com/reference/android/app/RemoteInput.Builder.html#setChoices%28java.lang.CharSequence%5B%5D%29"><code translate="no" dir="ltr">RemoteInput.Builder setChoices()</code></a>
in the notification shade without additional user interaction.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.3/H-SR] Are STRONGLY RECOMMENDED
to display all the choices provided through <a href="https://developer.android.com/reference/android/app/RemoteInput.Builder.html#setChoices%28java.lang.CharSequence%5B%5D%29"><code translate="no" dir="ltr">RemoteInput.Builder setChoices()</code></a>
in the notification shade when the user expands all notifications in the
notification shade.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.3.1/H-SR] Are STRONGLY RECOMMENDED
to display actions for which <a href="https://developer.android.com/reference/android/app/Notification.Action.Builder.html#setContextual%28boolean%29"><code translate="no" dir="ltr">Notification.Action.Builder.setContextual</code></a>
is set as <code translate="no" dir="ltr">true</code> in-line with the replies displayed by
<a href="https://developer.android.com/reference/android/app/RemoteInput.Builder.html#setChoices%28java.lang.CharSequence%5B%5D%29"><code translate="no" dir="ltr">Notification.Remoteinput.Builder.setChoices</code></a>.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.4/H-SR] Are STRONGLY RECOMMENDED
to implement an assistant on the device to handle the <a href="http://developer.android.com/reference/android/content/Intent.html#ACTION_ASSIST">Assist action</a>.</li>
</ul>

<p>If Handheld device implementations support Assist action, they:</p>

<ul>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.4/H-SR] Are STRONGLY RECOMMENDED
to use long press on <code translate="no" dir="ltr">HOME</code> key as the designated interaction to launch the
assist app as described in <a href="#7_2_3_navigation_keys">section 7.2.3</a>. MUST launch
the user-selected assist app, in other words the app that implements
<a href="https://developer.android.com/reference/android/service/voice/VoiceInteractionService"><code translate="no" dir="ltr">VoiceInteractionService</code></a>
, or an activity handling the <code translate="no" dir="ltr">ACTION_ASSIST</code> intent.</li>
</ul>

<p>If Handheld device implementations support <a href="https://developer.android.com/preview/features/conversations#api-notifications"><code translate="no" dir="ltr">conversation notifications</code></a>
and group them into a separate section from alerting and silent non-conversation
notifications, they:</p>

<ul>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.4/H-1-1]* MUST display
conversation notifications ahead of non conversation notifications with
the exception of ongoing foreground service notifications and
<a href="https://developer.android.com/reference/android/app/NotificationManager#IMPORTANCE_HIGH">importance:high</a>
notifications.</li>
</ul>

<p>If Android Handheld device implementations support a lock screen, they:</p>

<ul>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.10/H-1-1] MUST display the Lock
screen Notifications including the Media Notification Template.</li>
</ul>

<p>If Handheld device implementations support a secure lock screen, they:</p>

<ul>
<li>[<a href="#3_9_device_administration">3.9</a>/H-1-1] MUST implement the full range of
<a href="http://developer.android.com/guide/topics/admin/device-admin.html">device administration</a>
policies defined in the Android SDK documentation.</li>
<li>[<a href="#3_9_device_administration">3.9</a>/H-1-2]  MUST declare the support of
managed profiles via the <code translate="no" dir="ltr">android.software.managed_users</code> feature flag, except when the device is configured so that it would <a href="http://developer.android.com/reference/android/app/ActivityManager.html#isLowRamDevice%28%29">report</a>
itself as a low RAM device or so that it allocates internal (non-removable)
storage as shared storage.</li>
</ul>

<p>If Handheld device implementations include support for
<a href="https://developer.android.com/reference/android/service/controls/ControlsProviderService"><code translate="no" dir="ltr">ControlsProviderService</code></a>
and <a href="https://developer.android.com/reference/android/service/controls/Control"><code translate="no" dir="ltr">Control</code></a>
APIs and allow third-party applications to publish <a href="https://developer.android.com/preview/features/device-control"><code translate="no" dir="ltr">device controls</code></a>, then they:</p>

<ul>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.16/H-1-1] MUST declare the feature
flag <a href="https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_CONTROLS"><code translate="no" dir="ltr">android.software.controls</code></a>
and set it to <code translate="no" dir="ltr">true</code>.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.16/H-1-2] MUST provide a user
affordance with the ability to add, edit, select, and operate the user’s
favorite device controls from the controls registered by the third-party
applications through the <a href="https://developer.android.com/reference/android/service/controls/ControlsProviderService"><code translate="no" dir="ltr">ControlsProviderService</code></a>
and the <a href="https://developer.android.com/reference/android/service/controls/Control#getDeviceType%28%29"><code translate="no" dir="ltr">Control</code></a>
APIs.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.16/H-1-3] MUST provide access to
this user affordance within three interactions from a default Launcher.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.16/H-1-4] MUST accurately render
in this user affordance the name and icon of each third-party app that
provides controls via the <a href="https://developer.android.com/reference/android/service/controls/ControlsProviderService"><code translate="no" dir="ltr">ControlsProviderService</code></a>
API as well as any specified fields provided by the <a href="https://developer.android.com/reference/android/service/controls/Control"><code translate="no" dir="ltr">Control</code></a>
APIs.</li>
</ul>

<p>Conversely, If Handheld device implementations do not implement such controls,
they:</p>

<ul>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.16/H-2-1] MUST report <code translate="no" dir="ltr">null</code> for
the <a href="https://developer.android.com/reference/android/service/controls/ControlsProviderService"><code translate="no" dir="ltr">ControlsProviderService</code></a>
and the <a href="https://developer.android.com/reference/android/service/controls/Control"><code translate="no" dir="ltr">Control</code></a>
APIs.</li>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.16/H-2-2] MUST declare the feature
flag <a href="https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_CONTROLS"><code translate="no" dir="ltr">android.software.controls</code></a>
and set it to <code translate="no" dir="ltr">false</code>.</li>
</ul>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#3_10_accessibility">3.10</a>/H-0-1] MUST support third-party accessibility
services.</li>
<li>[<a href="#3_10_accessibility">3.10</a>/H-SR] Are STRONGLY RECOMMENDED to preload
accessibility services on the device comparable with or exceeding functionality
of the Switch Access and TalkBack (for languages supported by the preinstalled
Text-to-speech engine) accessibility services as provided in the <a href="https://github.com/google/talkback">talkback open
source project</a>.</li>
<li>[<a href="#3_11_text_to_speech">3.11</a>/H-0-1] MUST support installation of
third-party TTS engines.</li>
<li>[<a href="#3_11_text_to_speech">3.11</a>/H-SR] Are STRONGLY RECOMMENDED to include a
TTS engine supporting the languages available on the device.</li>
<li>[<a href="#3_13_quick_settings">3.13</a>/H-SR] Are STRONGLY RECOMMENDED to include a
Quick Settings UI component.</li>
</ul>

<p>If Android handheld device implementations declare <code translate="no" dir="ltr">FEATURE_BLUETOOTH</code> or
<code translate="no" dir="ltr">FEATURE_WIFI</code> support, they:</p>

<ul>
<li>[<a href="#3_16_companion_device_pairing">3.16</a>/H-1-1] MUST support the companion device pairing
feature.</li>
</ul>

<p>If the navigation function is provided as an on-screen, gesture-based action:</p>

<ul>
<li>[<a href="#7_2_input_devices">7.2</a>.3/H] The gesture recognition zone for the Home
function SHOULD be no higher than 32 dp in height from the bottom of the
screen.</li>
</ul>

<p>If Handheld device implementations provide a navigation function as a gesture
from anywhere on the left and right edges of the screen:</p>

<ul>
<li>[<a href="#7_2_input_devices">7.2</a>.3/H-0-1] The navigation function&#39;s gesture area
MUST be less than 40 dp in width on each side. The gesture area SHOULD be
24 dp in width by default.</li>
</ul>

<p>If Handheld device implementations support a secure lock screen and have greater
than or equal to 2GB of memory available to the kernel and userspace, they:</p>

<ul>
<li>[3.9/H-1-2] MUST declare the support of managed profiles via the
<code translate="no" dir="ltr">android.software.managed_users</code> feature flag.</li>
</ul>

<h4 id="224_performance_and_power" data-text="2.2.4. Performance and Power">2.2.4. Performance and Power</h4>

<ul>
<li>[<a href="#8_1_user_experience_consistency">8.1</a>/H-0-1] <strong>Consistent frame latency</strong>.
Inconsistent frame latency or a delay to render frames MUST NOT happen more
often than 5 frames in a second, and SHOULD be below 1 frames in a second.</li>
<li>[<a href="#8_1_user_experience_consistency">8.1</a>/H-0-2] <strong>User interface latency</strong>.
Device implementations MUST ensure low latency user experience by scrolling a
list of 10K list entries as defined by the Android Compatibility Test Suite
(CTS) in less than 36 secs.</li>
<li>[<a href="#8_1_user_experience_consistency">8.1</a>/H-0-3] <strong>Task switching</strong>. When
multiple applications have been launched, re-launching an already-running
application after it has been launched MUST take less than 1 second.</li>
</ul>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#8_2_file_io_access_performance">8.2</a>/H-0-1] MUST ensure a sequential
write performance of at least 5 MB/s.</li>
<li>[<a href="#8_2_file_io_access_performance">8.2</a>/H-0-2] MUST ensure a random write
performance of at least 0.5 MB/s.</li>
<li>[<a href="#8_2_file_io_access_performance">8.2</a>/H-0-3] MUST ensure a sequential read
performance of at least 15 MB/s.</li>
<li>[<a href="#8_2_file_io_access_performance">8.2</a>/H-0-4] MUST ensure a random read
performance of at least 3.5 MB/s.</li>
</ul>

<p>If Handheld device implementations include features to improve device power
management that are included in AOSP or extend the features that are included
in AOSP, they:</p>

<ul>
<li>[<a href="#8_3_power_saving_modes">8.3</a>/H-1-1] MUST provide user affordance to enable
and disable the battery saver feature.</li>
<li>[<a href="#8_3_power_saving_modes">8.3</a>/H-1-2] MUST provide user affordance to display
all apps that are exempted from App Standby and Doze power-saving modes.</li>
</ul>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/H-0-1] MUST provide a
per-component power profile that defines the <a href="http://source.android.com/devices/tech/power/values.html">current consumption value</a>
for each hardware component and the approximate battery drain caused by the
components over time as documented in the Android Open Source Project site.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/H-0-2] MUST report all power
consumption values in milliampere hours (mAh).</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/H-0-3] MUST report CPU power
consumption per each process&#39;s UID. The Android Open Source Project meets the
requirement through the <code translate="no" dir="ltr">uid_cputime</code> kernel module implementation.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/H-0-4] MUST make this power usage
available via the <a href="http://source.android.com/devices/tech/power/batterystats.html"><code translate="no" dir="ltr">adb shell dumpsys batterystats</code></a>
shell command to the app developer.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/H] SHOULD be attributed to the
hardware component itself if unable to attribute hardware component power usage
to an application.</li>
</ul>

<p>If Handheld device implementations include a screen or video output, they:</p>

<ul>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/H-1-1] MUST honor the
<a href="http://developer.android.com/reference/android/content/Intent.html#ACTION_POWER_USAGE_SUMMARY"><code translate="no" dir="ltr">android.intent.action.POWER_USAGE_SUMMARY</code></a>
intent and display a settings menu that shows this power usage.</li>
</ul>

<h4 id="225_security_model" data-text="2.2.5. Security Model">2.2.5. Security Model</h4>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#9_1_permissions">9.1</a>/H-0-1] MUST allow third-party apps to access the
usage statistics via the <code translate="no" dir="ltr">android.permission.PACKAGE_USAGE_STATS</code> permission and
provide a user-accessible mechanism to grant or revoke access to such apps in
response to the <a href="https://developer.android.com/reference/android/provider/Settings.html#ACTION&amp;lowbar;USAGE&amp;lowbar;ACCESS&amp;lowbar;SETTINGS"><code translate="no" dir="ltr">android.settings.ACTION_USAGE_ACCESS_SETTINGS</code></a>
intent.</li>
</ul>

<p>Handheld device implementations:</p>

<ul>
<li>[<a href="#9_11_permissions">9.11</a>/H-0-2] MUST back up the keystore implementation
 with an isolated execution environment.</li>
<li>[<a href="#9_11_permissions">9.11</a>/H-0-3] MUST have implementations of RSA, AES,
 ECDSA, and HMAC cryptographic algorithms and MD5, SHA1, and SHA-2 family
 hash functions to properly support the Android Keystore system&#39;s supported
 algorithms in an area that is securely isolated from the code running on
 the kernel and above. Secure isolation MUST block all potential mechanisms
 by which kernel or userspace code might access the internal state of the
 isolated environment, including DMA. The upstream Android Open Source
 Project (AOSP) meets this requirement by using the <a href="https://source.android.com/security/trusty/">Trusty</a> implementation, but another
 ARM TrustZone-based solution or a third-party reviewed secure
 implementation of a proper hypervisor-based isolation are alternative
 options.</li>
<li>[<a href="#9_11_permissions">9.11</a>/H-0-4] MUST perform the lock screen
 authentication in the isolated execution environment and only when
 successful, allow the authentication-bound keys to be used. Lock screen
 credentials MUST be stored in a way that allows only the isolated execution
 environment to perform lock screen authentication. The upstream Android
 Open Source Project provides the
 <a href="http://source.android.com/devices/tech/security/authentication/gatekeeper.html">Gatekeeper Hardware Abstraction Layer (HAL)</a>
 and Trusty, which can be used to satisfy this requirement.</li>
<li>[<a href="#9_11_permissions">9.11</a>/H-0-5] MUST support key attestation where the
 attestation signing key is protected by secure hardware and signing is
 performed in secure hardware. The attestation signing keys MUST be shared
 across large enough number of devices to prevent the keys from being used
 as device identifiers. One way of meeting this requirement is to share the
 same attestation key unless at least 100,000 units of a given SKU are
 produced. If more than 100,000 units of an SKU are produced, a different
 key MAY be used for each 100,000 units.</li>
<li>[9/H-0-1] MUST declare the ‘android.hardware.security.model.compatible’
 feature.</li>
</ul>

<p>Note that if a device implementation is already launched on an earlier Android
version, such a device is exempted from the requirement to have a keystore
backed by an isolated execution environment and support the key attestation,
unless it declares the <code translate="no" dir="ltr">android.hardware.fingerprint</code> feature which requires a
keystore backed by an isolated execution environment.</p>

<p>When Handheld device implementations support a secure lock screen, they:</p>

<ul>
<li>[<a href="#9_11_permissions">9.11</a>/H-1-1] MUST allow the user to choose the shortest
sleep timeout, that is a transition time from the unlocked to the locked
state, as 15 seconds or less.</li>
<li>[<a href="#9_11_permissions">9.11</a>/H-1-2] MUST provide user affordance to hide
notifications and disable all forms of authentication except for the
primary authentication described in
<a href="#9_11_1_secure-lock-screen">9.11.1 Secure Lock Screen</a>. The AOSP meets the
requirement as lockdown mode.</li>
</ul>

<p>If Handheld device implementations include multiple users and
do not declare the <code translate="no" dir="ltr">android.hardware.telephony</code> feature flag, they:</p>

<ul>
<li>[<a href="#9_5_multi-user-support">9.5</a>/H-2-1] MUST support restricted profiles,
a feature that allows device owners to manage additional users and their
capabilities on the device. With restricted profiles, device owners can
quickly set up separate environments for additional users to work in,
with the ability to manage finer-grained restrictions in the apps that
are available in those environments.</li>
</ul>

<p>If Handheld device implementations include multiple users and
declare the <code translate="no" dir="ltr">android.hardware.telephony</code> feature flag, they:</p>

<ul>
<li>[<a href="#9_5_multi-user-support">9.5</a>/H-3-1] MUST NOT support restricted
profiles but MUST align with the AOSP implementation of controls
to enable /disable other users from accessing the voice calls and SMS.</li>
</ul>

<p>Android, through the System API VoiceInteractionService supports a mechanism for
secure always-on hotword detection without mic access indication</p>

<p>If Handheld device implementations support the System API
<code translate="no" dir="ltr">HotwordDetectionService</code> or a another mechanism for hotword detection without
mic access indication, they:</p>

<ul>
<li>[9.8/H-1-1] MUST make sure the hotword detection service can only transmit
data to the System or ContentCaptureService</li>
<li>[9.8/H-1-2] MUST make sure the hotword detection service can only transmit
mic audio data or data derived from it to the system server through
<code translate="no" dir="ltr">HotwordDetectionService</code> API, or to <code translate="no" dir="ltr">ContentCaptureService</code> through
<code translate="no" dir="ltr">ContentCaptureManager</code> API.</li>
<li>[9.8/H-1-3] MUST NOT supply mic audio that is longer than 30 seconds for an
individual hardware-triggered request to the hotword detection service.</li>
<li>[9.8/H-1-4] MUST NOT supply buffered mic audio older than 8 seconds for an
individual request to the hotword detection service.</li>
<li>[9.8/H-1-5] MUST NOT supply buffered mic audio older than 30 seconds to the
voice interaction service or similar entity.</li>
<li>[9.8/H-1-6] MUST NOT allow more than 100 bytes of data to be transmitted out
of the hotword detection service on each successful hotword result.</li>
<li>[9.8/H-1-7] MUST NOT allow more than 5 bits of data to be transmitted  out
of the hotword detection service on each negative hotword result.</li>
<li>[9.8/H-1-8] MUST only allow transmission of data out of the hotword
detection service on a hotword validation request from the system server.</li>
<li>[9.8/H-1-9] MUST NOT allow a user-installable application to provide the
hotword detection service.</li>
<li>[9.8/H-1-10] MUST NOT surface in the UI quantitative data about mic usage by
the hotword detection service.</li>
<li>[9.8/H-1-11] MUST log the number of bytes included in every transmission
from the hotword detection service to allow inspectability for security
researchers.</li>
<li>[9.8/H-1-12] MUST support a debug mode that logs raw contents of every
transmission from the hotword detection service to allow inspectability for
security researchers.</li>
<li>[9.8/H-1-13] MUST restart the process hosting the hotword detection service
at least once every hour or every 30 hardware-trigger events, whichever
comes first.</li>
<li>[9.8/H-1-14] MUST display the microphone indicator, as required in
[9.8/C-3-1], when a successful hotword result is transmitted to the voice
interaction service or similar entity.</li>
<li>[9.8/H-SR] Are STRONGLY RECOMMENDED to notify users before setting an
application as the provider of the hotword detection service.</li>
<li>[9.8/H-SR] Are STRONGLY RECOMMENDED to disallow the transmission of
unstructured data out of the hotword detection service.</li>
</ul>

<p>If device implementations include an application that uses the System API
<code translate="no" dir="ltr">HotwordDetectionService</code>, or similar mechanism for hotword detection without
mic usage indication, the application:</p>

<ul>
<li>[9.8/H-2-1] MUST provide explicit notice to the user for each hotword phrase
supported.</li>
<li>[9.8/H-2-2] MUST NOT preserve raw audio data, or data derived from it,
through the hotword detection service.</li>
<li>[9.8/H-2-3] MUST NOT transmit from the hotword detection service, audio
data, data that can be used to reconstruct (wholly or partially) the audio,
or audio contents unrelated to the hotword itself, except to the
<code translate="no" dir="ltr">ContentCaptureService</code>.</li>
</ul>

<p>If Handheld device implementations declare <code translate="no" dir="ltr">android.hardware.microphone</code>, they:</p>

<ul>
<li>[<a href="#9_8_2_privacy">9.8.2</a>/H-4-1] MUST display the microphone indicator when
an app is accessing audio data from the microphone, but not when the
microphone is only accessed by <code translate="no" dir="ltr">HotwordDetectionService</code>, <code translate="no" dir="ltr">SOURCE_HOTWORD</code>,
<code translate="no" dir="ltr">ContentCaptureService</code> or apps holding the roles called out in
<a href="#9_1_Permissions">section 9.1</a> with CDD identifier [C-4-X].
.</li>
<li>[<a href="#9_8_2_privacy">9.8.2</a>/H-4-2] MUST display the list of Recent and Active
apps using microphone as returned from
<code translate="no" dir="ltr">PermissionManager.getIndicatorAppOpUsageData()</code>, along with any attribution
messages associated with them.</li>
<li>[<a href="#9_8_2_privacy">9.8.2</a>/H-4-3] MUST not hide the microphone indicator for
system apps that have visible user interfaces or direct user interaction.</li>
<li>[<a href="#9_8_2_privacy">9.8.2</a>/H-4-4] MUST display the list of Recent and Active
apps using the microphone as returned from <code translate="no" dir="ltr">PermissionManager.getIndicatorAppOpUsageData()</code>,
along with any attribution messages associated with them.</li>
</ul>

<p>If Handheld device implementations declare <code translate="no" dir="ltr">android.hardware.camera.any</code>, they:</p>

<ul>
<li>[<a href="#9_8_2_privacy">9.8.2</a>/H-5-1] MUST display the camera indicator when an
app is accessing live camera data, but not when the camera is only being
accessed by app(s) holding the roles called out in
<a href="#9_1_Permissions">section 9.1</a> with CDD identifier [C-4-X].</li>
<li>[<a href="#9_8_2_privacy">9.8.2</a>/H-5-2] MUST display Recent and Active apps using
camera as returned from <code translate="no" dir="ltr">PermissionManager.getIndicatorAppOpUsageData()</code>,
along with any attribution messages associated with them.</li>
<li>[<a href="#9_8_2_privacy">9.8.2</a>/H-5-3] MUST not hide the camera indicator for
system apps that have visible user interfaces or direct user interaction.</li>
</ul>

<h4 id="226_developer_tools_and_options_compatibility" data-text="2.2.6. Developer Tools and Options Compatibility">2.2.6. Developer Tools and Options Compatibility</h4>

<p>Handheld device implementations (* Not applicable for Tablet):</p>

<ul>
<li>[<a href="#6_1_developer_tools">6.1</a>/H-0-1]* MUST support the shell command
<code translate="no" dir="ltr">cmd testharness</code>.</li>
</ul>

<p>Handheld device implementations  (* Not applicable for Tablet):</p>

<ul>
<li><a href="https://developer.android.com/studio/command-line/perfetto"><strong>Perfetto</strong></a>
<ul>
<li>[<a href="#6_1_developer_tools">6.1</a>/H-0-2]* MUST expose a <code translate="no" dir="ltr">/system/bin/perfetto</code>
binary to the shell user which cmdline complies with
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[<a href="#6_1_developer_tools">6.1</a>/H-0-3]* The perfetto binary MUST accept as
input a protobuf config that complies with the schema defined in
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[<a href="#6_1_developer_tools">6.1</a>/H-0-4]* The perfetto binary MUST write as
output a protobuf trace that complies with the schema defined in
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[<a href="#6_1_developer_tools">6.1</a>/H-0-5]* MUST provide, through the perfetto
binary, at least the data sources described  in <a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[<a href="#6_1_developer_tools">6.1</a>/H-0-6]* The perfetto traced daemon MUST be
enabled by default (system property <code translate="no" dir="ltr">persist.traced.enable</code>).</li>
</ul></li>
</ul>

<h4 id="227_handheld_media_performance_class" data-text="2.2.7. Handheld Media Performance Class">2.2.7. Handheld Media Performance Class</h4>

<p>See Section 7.11 for the definition of media performance class.</p>

<h4 id="2271_media" data-text="2.2.7.1. Media">2.2.7.1. Media</h4>

<p>If Handheld device implementations return <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.R</code> for <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.MEDIA_PERFORMANCE_CLASS</code>, then they:</p>

<ul>
<li>[5.1/H-1-1] MUST advertise the maximum number of hardware video decoder
sessions that can be run concurrently in any codec combination via the
<code translate="no" dir="ltr">CodecCapabilities.getMaxSupportedInstances()</code>
and <code translate="no" dir="ltr">VideoCapabilities.getSupportedPerformancePoints()</code>
methods.</li>
<li>[5.1/H-1-2] MUST support 6 instances of hardware video decoder sessions
(AVC or HEVC) in any codec combination running concurrently at 720p
resolution@30 fps.</li>
<li>[5.1/H-1-3] MUST advertise the maximum number of hardware video encoder
sessions that can be run concurrently in any codec combination via the
<code translate="no" dir="ltr">CodecCapabilities.getMaxSupportedInstances()</code>
and <code translate="no" dir="ltr">VideoCapabilities.getSupportedPerformancePoints()</code> methods.</li>
<li>[5.1/H-1-4] MUST support 6 instances of hardware video encoder sessions
(AVC or HEVC) in any codec combination running concurrently at 720p
resolution@30 fps.</li>
<li>[5.1/H-1-5] MUST advertise the maximum number of hardware video encoder
and decoder sessions that can be run concurrently in any codec combination
via the <code translate="no" dir="ltr">CodecCapabilities.getMaxSupportedInstances()</code>
and <code translate="no" dir="ltr">VideoCapabilities.getSupportedPerformancePoints()</code> methods.</li>
<li>[5.1/H-1-6] MUST support 6 instances of hardware video decoder and hardware
video encoder sessions (AVC or HEVC) in any codec combination running
concurrently at 720p@30 fps resolution.</li>
<li>[5.1/H-1-7] MUST have a codec initialization latency of 65 ms or less for a
1080p or smaller video encoding session for all hardware video encoders
when under load. Load here is defined as a concurrent 1080p to 720p
video-only transcoding session using hardware video codecs together with the
1080p audio-video recording initialization.</li>
<li>[5.1/H-1-8] MUST have a codec initialization latency of 50 ms or less for a
128 kbps or lower bitrate audio encoding session for all audio encoders when
under load.Load here is defined as a concurrent 1080p to 720p video-only
transcoding session using hardware video codecs together with the 1080p
audio-video recording initialization.</li>
<li>[5.3/H-1-1] MUST NOT drop more than 1 frame in 10 seconds
(i.e less than 0.333 percent frame drop)  for a 1080p 30 fps video session
under load. Load is defined as a concurrent 1080p to 720p video-only
transcoding session using hardware video codecs, as well as a
128 kbps AAC audio playback.</li>
<li>[5.3/H-1-2] MUST NOT drop  more than 1 frame in 10 seconds  during a video
resolution change in a 30 fps video session under load. Load is defined as a
concurrent 1080p to 720p video-only transcoding session using hardware video
codecs, as well as a 128Kbps AAC audio playback.</li>
<li>[5.6/H-1-1] MUST have a tap-to-tone latency of less than 100 milliseconds
using the OboeTester tap-to-tone test or CTS Verifier tap-to-tone test.</li>
</ul>

<p>If Handheld device implementations return <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.S</code>
for <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.MEDIA_PERFORMANCE_CLASS</code>, then they:</p>

<ul>
<li>[5.1/H-1-1] MUST advertise the maximum number of hardware video decoder
sessions that can be run concurrently in any codec combination via the
<code translate="no" dir="ltr">CodecCapabilities.getMaxSupportedInstances()</code>
and <code translate="no" dir="ltr">VideoCapabilities.getSupportedPerformancePoints()</code> methods.</li>
<li>[5.1/H-1-2] MUST support 6 instances of hardware video decoder sessions
(AVC, HEVC, VP9* or later) in any codec combination running
concurrently at 720p resolution@30 fps. *Only 2 instances are required if
VP9 codec is present.</li>
<li>[5.1/H-1-3] MUST advertise the maximum number of hardware video encoder
sessions that can be run concurrently in any codec combination via the
<code translate="no" dir="ltr">CodecCapabilities.getMaxSupportedInstances()</code>
and <code translate="no" dir="ltr">VideoCapabilities.getSupportedPerformancePoints()</code> methods.</li>
<li>[5.1/H-1-4] MUST support 6 instances of hardware video encoder
sessions (AVC, HEVC, VP9* or later) in any codec combination running
concurrently at 720p resolution@30fps.  *Only 2 instances are required
if VP9 codec is present.</li>
<li>[5.1/H-1-5] MUST advertise the maximum number of hardware video encoder and
decoder sessions that can be run concurrently in any codec combination via
the <code translate="no" dir="ltr">CodecCapabilities.getMaxSupportedInstances()</code>
and <code translate="no" dir="ltr">VideoCapabilities.getSupportedPerformancePoints()</code> methods.</li>
<li>[5.1/H-1-6] MUST support 6 instances of hardware video decoder and hardware
video encoder sessions (AVC, HEVC, VP9* or later) in any codec
combination running concurrently at 720p@30fps resolution.
*Only 2 instances are required if VP9 codec is present.</li>
<li>[5.1/H-1-7] MUST have a codec initialization latency of 50 ms or less for a
1080p or smaller video encoding session for all hardware video encoders
when under load. Load here is defined as a concurrent 1080p to 720p
video-only transcoding session using hardware video codecs together with the
1080p audio-video recording initialization.</li>
<li>[5.1/H-1-8] MUST have a codec initialization latency of  40 ms or less for a
128 kbps or lower bitrate audio encoding session for all audio encoders when
under load. Load here is defined as a concurrent 1080p to 720p video-only
transcoding session using hardware video codecs together with the 1080p
audio-video recording initialization.</li>
<li>[5.3/H-1-1] MUST NOT drop more than 2 frames in 10 seconds
(i.e less than 0.333 percent frame drop)  for a 1080p 60 fps video session
under load. Load is defined as a concurrent 1080p to 720p video-only
transcoding session using hardware video codecs, as well as a
128 kbps AAC audio playback.</li>
<li>[5.3/H-1-2] MUST NOT drop  more than 2 frames in 10 seconds  during a video
resolution change in a 60 fps video session under load. Load is defined as a
concurrent 1080p to 720p video-only transcoding session using hardware
video codecs, as well as a 128 kbps AAC audio playback.</li>
<li>[5.6/H-1-1] MUST have a tap-to-tone latency of less than 100 milliseconds
using the OboeTester tap-to-tone test or CTS Verifier tap-to-tone test.</li>
</ul>

<h4 id="2272_camera" data-text="2.2.7.2. Camera">2.2.7.2. Camera</h4>

<p>If Handheld device implementations return <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.R</code> for <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.MEDIA_PERFORMANCE_CLASS</code>, then they:</p>

<ul>
<li>[7.5/H-1-1] MUST have a primary rear facing camera with a resolution of at
least 12 megapixels supporting video capture at 4k@30fps. The primary
rear-facing camera is the rear-facing camera with the lowest camera ID.</li>
<li>[7.5/H-1-2] MUST have a primary front facing camera with a resolution of at
least 4 megapixels supporting video capture at 1080p@30fps. The primary
front-facing camera is the front-facing camera with the lowest camera ID.</li>
<li>[7.5/H-1-3] MUST support android.info.supportedHardwareLevel property as
FULL or better for back primary and LIMITED or better for front primary
camera.</li>
<li>[7.5/H-1-4] MUST support
CameraMetadata.SENSOR_INFO_TIMESTAMP_SOURCE_REALTIME
for both primary cameras.</li>
<li>[7.5/H-1-5] MUST have camera2 JPEG capture latency &lt; 1000ms for
1080p resolution as measured by the CTS camera PerformanceTest under
ITS lighting conditions (3000K) for both primary cameras.</li>
<li>[7.5/H-1-6] MUST have camera2 startup latency (open camera to first preview
frame) &lt; 600ms as measured by the CTS camera PerformanceTest under ITS
lighting conditions (3000K) for both primary cameras.</li>
</ul>

<p>If Handheld device implementations return <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.S</code>
for <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.MEDIA_PERFORMANCE_CLASS</code>, then they:</p>

<ul>
<li>[7.5/H-1-1] MUST have a primary rear facing camera with a resolution of
at least 12 megapixels supporting video capture at 4k@30fps. The primary
rear-facing camera is the rear-facing camera with the lowest camera ID.</li>
<li>[7.5/H-1-2] MUST have a primary front facing camera with a resolution of
at least 5 megapixels and support video capture at 1080p@30fps. The primary
front-facing camera is the front-facing camera with the lowest camera ID.</li>
<li>[7.5/H-1-3] MUST support <code translate="no" dir="ltr">android.info.supportedHardwareLevel</code> property as
<code translate="no" dir="ltr">FULL</code> or better for both primary cameras.</li>
<li>[7.5/H-1-4] MUST support
<code translate="no" dir="ltr">CameraMetadata.SENSOR_INFO_TIMESTAMP_SOURCE_REALTIME</code> for both primary
cameras.</li>
<li>[7.5/H-1-5] MUST have camera2 JPEG capture latency &lt; 1000 ms for
1080p resolution as measured by the CTS camera PerformanceTest under ITS
lighting conditions (3000K) for both primary cameras.</li>
<li>[7.5/H-1-6] MUST have camera2 startup latency (open camera to first preview
frame) &lt; 500 ms as measured by the CTS camera PerformanceTest under ITS
lighting conditions (3000K) for both primary cameras.</li>
<li>[7.5/H-1-7] For apps targeting API level 31 or higher, the camera device
MUST NOT support JPEG capture resolutions smaller than 1080p for both
primary cameras.</li>
<li>[7.5/H-1-8] MUST support <code translate="no" dir="ltr">CameraMetadata.REQUEST_AVAILABLE_CAPABILITIES_RAW</code>
and <code translate="no" dir="ltr">android.graphics.ImageFormat.RAW_SENSOR</code> for the primary back camera.</li>
</ul>

<h4 id="2273_hardware" data-text="2.2.7.3. Hardware">2.2.7.3. Hardware</h4>

<p>If Handheld device implementations return <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.R</code>
for <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.MEDIA_PERFORMANCE_CLASS</code>, then they:</p>

<ul>
<li>[7.1.1.1/H-1-1] MUST have screen resolution of at least 1080p.</li>
<li>[7.1.1.3/H-1-1] MUST have screen density of at least 400 dpi.</li>
<li>[7.6.1/H-1-1] MUST have at least 6 GB of physical memory.</li>
</ul>

<p>If Handheld device implementations return <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.S</code> for <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.MEDIA_PERFORMANCE_CLASS</code>, then they:</p>

<ul>
<li>[7.1.1.1/H-2-1] MUST have screen resolution of at least 1080p.</li>
<li>[7.1.1.3/H-2-1] MUST have screen density of at least 400 dpi.</li>
<li>[7.6.1/H-2-1] MUST have at least 6 GB of physical memory.</li>
</ul>

<h4 id="2274_performance" data-text="2.2.7.4. Performance">2.2.7.4. Performance</h4>

<p>If Handheld device implementations return <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.R</code> for <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.MEDIA_PERFORMANCE_CLASS</code>, then they:</p>

<ul>
<li>[8.2/H-1-1] MUST ensure a sequential write performance of at least 100 MB/s.</li>
<li>[8.2/H-1-2] MUST ensure a random write performance of at least 10 MB/s.</li>
<li>[8.2/H-1-3] MUST ensure a sequential read performance of at least 200 MB/s.</li>
<li>[8.2/H-1-4] MUST ensure a random read performance of at least 25 MB/s.</li>
</ul>

<p>If Handheld device implementations return <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.S</code> for <code translate="no" dir="ltr">android.os.Build.VERSION_CODES.MEDIA_PERFORMANCE_CLASS</code>, then they:</p>

<ul>
<li>[8.2/H-2-1] MUST ensure a sequential write performance of at least 125 MB/s.</li>
<li>[8.2/H-2-2] MUST ensure a random write performance of at least 10 MB/s.</li>
<li>[8.2/H-2-3] MUST ensure a sequential read performance of at least 250 MB/s.</li>
<li>[8.2/H-2-4] MUST ensure a random read performance of at least 40 MB/s.</li>
</ul>

<h3 id="23_television_requirements" data-text="2.3. Television Requirements">2.3. Television Requirements</h3>

<p>An <strong>Android Television device</strong> refers to an Android device implementation that
is an entertainment interface for consuming digital media, movies, games, apps,
and/or live TV for users sitting about ten feet away (a “lean back” or “10-foot
user interface”).</p>

<p>Android device implementations are classified as a Television if they meet all
the following criteria:</p>

<ul>
<li>Have provided a mechanism to remotely control the rendered user interface on
the display that might sit ten feet away from the user.</li>
<li>Have an embedded screen display with the diagonal length larger than 24
inches OR include a video output port, such as VGA, HDMI, DisplayPort, or a
wireless port for display.</li>
</ul>

<p>The additional requirements in the rest of this section are specific to Android
Television device implementations.</p>

<h4 id="231_hardware" data-text="2.3.1. Hardware">2.3.1. Hardware</h4>

<p>Television device implementations:</p>

<ul>
<li>[<a href="#7_2_input_devices">7.2</a>.2/T-0-1] MUST support <a href="https://developer.android.com/reference/android/content/res/Configuration.html#NAVIGATION_DPAD">D-pad</a>.</li>
<li>[<a href="#7_2_input_devices">7.2</a>.3/T-0-1] MUST provide the Home and Back
functions.</li>
<li>[<a href="#7_2_input_devices">7.2</a>.3/T-0-2] MUST send both the normal and long press
event of the Back function (<a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BACK"><code translate="no" dir="ltr">KEYCODE_BACK</code></a>)
to the foreground application.</li>
<li>[<a href="#7_2_input_devices">7.2</a>.6.1/T-0-1] MUST include support for game
controllers and declare the <code translate="no" dir="ltr">android.hardware.gamepad</code> feature flag.</li>
<li>[<a href="#7_2_input_devices">7.2</a>.7/T] SHOULD provide a remote control from which
users can access <a href="#7_2_2_non-touch_navigation">non-touch navigation</a> and
<a href="#7_2_3_navigation_keys">core navigation keys</a> inputs.</li>
</ul>

<p>If Television device implementations include a 3-axis gyroscope, they:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.4/T-1-1] MUST be able to report events up to a
frequency of at least 100 Hz.</li>
<li>[<a href="#7_3_sensors">7.3</a>.4/T-1-2] MUST be capable of measuring orientation changes
up to 1000 degrees per second.</li>
</ul>

<p>Television device implementations:</p>

<ul>
<li>[<a href="#7_4_data_connectivity">7.4</a>.3/T-0-1] MUST support Bluetooth and
Bluetooth LE.</li>
<li>[<a href="#7_6_memory_and_storage">7.6</a>.1/T-0-1] MUST have at least 4 GB of
non-volatile storage available for application private data
(a.k.a. &quot;/data&quot; partition).</li>
</ul>

<p>If Television device implementations include a USB port that supports host mode,
they:</p>

<ul>
<li>[<a href="#7_5_camera">7.5</a>.3/T-1-1] MUST include support for an external camera
that connects through this USB port but is not necessarily always connected.</li>
</ul>

<p>If TV device implementations are 32-bit:</p>

<ul>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/T-1-1] The memory available to the kernel
and userspace MUST be at least 896MB if any of the following densities are used:</p>

<ul>
<li>400dpi or higher on small/normal screens</li>
<li>xhdpi or higher on large screens</li>
<li>tvdpi or higher on extra large screens</li>
</ul></li>
</ul>

<p>If TV device implementations are 64-bit:</p>

<ul>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/T-2-1] The memory available to the kernel
and userspace MUST be at least 1280MB if any of the following densities are
used:</p>

<ul>
<li>400dpi or higher on small/normal screens</li>
<li>xhdpi or higher on large screens</li>
<li>tvdpi or higher on extra large screens</li>
</ul></li>
</ul>

<p>Note that the &quot;memory available to the kernel and userspace&quot; above refers to the
memory space provided in addition to any memory already
dedicated to hardware components such as radio, video, and so on that are not
under the kernel’s control on device implementations.</p>

<p>Television device implementations:</p>

<ul>
<li>[<a href="#7_8_audio">7.8</a>.1/T] SHOULD include a microphone.</li>
<li>[<a href="#7_8_audio">7.8</a>.2/T-0-1] MUST have an audio output and declare
<code translate="no" dir="ltr">android.hardware.audio.output</code>.</li>
</ul>

<h4 id="232_multimedia" data-text="2.3.2. Multimedia">2.3.2. Multimedia</h4>

<p>Television device implementations MUST support the following audio encoding
and decoding formats and make them available to third-party applications:</p>

<ul>
<li>[<a href="#5_1_media_codecs">5.1</a>/T-0-1] MPEG-4 AAC Profile (AAC LC)</li>
<li>[<a href="#5_1_media_codecs">5.1</a>/T-0-2] MPEG-4 HE AAC Profile (AAC+)</li>
<li>[<a href="#5_1_media_codecs">5.1</a>/T-0-3] AAC ELD (enhanced low delay AAC)</li>
</ul>

<p>Television device implementations MUST support the following video encoding
formats and make them available to third-party applications:</p>

<ul>
<li>[<a href="#5_2_video_encoding">5.2</a>/T-0-1] H.264</li>
<li>[<a href="#5_2_video_encoding">5.2</a>/T-0-2] VP8</li>
</ul>

<p>Television device implementations:</p>

<ul>
<li>[<a href="#5_2_video_encoding">5.2</a>.2/T-SR] Are STRONGLY RECOMMENDED to support
H.264 encoding of 720p and 1080p resolution videos at 30 frames per second.</li>
</ul>

<p>Television device implementations MUST support the following video decoding
formats and make them available to third-party applications:</p>

<ul>
<li>[<a href="#5_3_video_decoding">5.3.3</a>/T-0-1] MPEG-4 SP</li>
<li>[<a href="#5_3_video_decoding">5.3.4</a>/T-0-2] H.264 AVC</li>
<li>[<a href="#5_3_video_decoding">5.3.5</a>/T-0-3] H.265 HEVC</li>
<li>[<a href="#5_3_video_decoding">5.3.6</a>/T-0-4] VP8</li>
<li>[<a href="#5_3_video_decoding">5.3.7</a>/T-0-5] VP9</li>
<li>[<a href="#5_3_video_decoding">5.3.1</a>/T-0-6] MPEG-2</li>
</ul>

<p>Television device implementations MUST support MPEG-2 decoding, as detailed in
Section 5.3.1, at standard video frame rates and resolutions up to and
including:</p>

<ul>
<li>[<a href="#5_3_video_decoding">5.3.1</a>/T-1-1] HD 1080p at 59.94 frames per second
with Main Profile High Level.</li>
<li>[<a href="#5_3_video_decoding">5.3.1</a>/T-1-2] HD 1080i at 59.94 frames per second
with Main Profile High Level. They MUST deinterlace interlaced MPEG-2 video
and make it available to third-party applications.</li>
</ul>

<p>Television device implementations MUST support H.264 decoding, as detailed in
Section 5.3.4, at standard video frame rates and resolutions up to and
including:</p>

<ul>
<li>[<a href="#5_3_video_decoding">5.3.4</a>/T-1-1] HD 1080p at 60 frames per second with
Baseline Profile</li>
<li>[<a href="#5_3_video_decoding">5.3.4</a>/T-1-2] HD 1080p at 60 frames per second with
Main Profile</li>
<li>[<a href="#5_3_video_decoding">5.3.4</a>/T-1-3] HD 1080p at 60 frames per second with
High Profile Level 4.2</li>
</ul>

<p>Television device implementations  with H.265 hardware decoders MUST support
H.265 decoding, as detailed in Section 5.3.5, at standard video frame rates
and resolutions up to and including:</p>

<ul>
<li>[<a href="#5_3_video_decoding">5.3.5</a>/T-1-1] HD 1080p at 60 frames per second with
Main Profile Level 4.1</li>
</ul>

<p>If Television device implementations with H.265 hardware decoders support
H.265 decoding and the UHD decoding profile, they:</p>

<ul>
<li>[<a href="#5_3_video_decoding">5.3.5</a>/T-2-1] MUST support the UHD decoding profile
at 60 frames per second with Main10 Level 5 Main Tier profile</li>
</ul>

<p>Television device implementations MUST support VP8 decoding, as detailed in
Section 5.3.6, at standard video frame rates and resolutions up to and
including:</p>

<ul>
<li>[<a href="#5_3_video_decoding">5.3.6</a>/T-1-1] HD 1080p at 60 frames per second decoding profile</li>
</ul>

<p>Television device implementations  with VP9 hardware decoders MUST support VP9
decoding, as detailed in Section 5.3.7, at standard video frame rates and
resolutions up to and including:</p>

<ul>
<li>[<a href="#5_3_video_decoding">5.3.7</a>/T-1-1] HD 1080p at 60 frames per second with
profile 0 (8 bit color depth)</li>
</ul>

<p>If Television device implementations with VP9 hardware decoders support VP9
decoding and the UHD decoding profile, they:</p>

<ul>
<li>[<a href="#5_3_video_decoding">5.3.7</a>/T-2-1] MUST support the UHD decoding profile
at 60 frames per second with profile 0 (8 bit color depth).</li>
<li>[<a href="#5_3_video_decoding">5.3.7</a>/T-2-1] Are STRONGLY RECOMMENDED to support the
UHD decoding profile at 60 frames per second with profile 2 (10 bit color depth).</li>
</ul>

<p>Television device implementations:</p>

<ul>
<li>[<a href="#5_5_audio_playback">5.5</a>/T-0-1] MUST include support for system Master
Volume and digital audio output volume attenuation on supported outputs,
except for compressed audio passthrough output (where no audio decoding is done
on the device).</li>
</ul>

<p>If Television device implementations do not have a built in display,
but instead support an external display connected via HDMI, they:</p>

<ul>
<li>[<a href="#5_8_secure_media">5.8</a>/T-0-1] MUST set the HDMI output mode to
select the maximum resolution that can be supported with either a 50Hz or 60Hz
refresh rate.</li>
<li>[<a href="#5_8_secure_media">5.8</a>/T-SR] Are STRONGLY RECOMMENDED to provide a user
configurable HDMI refresh rate selector.</li>
<li>[<a href="#5_8_secure_media">5.8</a>] SHOULD set the HDMI output mode refresh rate
to either 50Hz or 60Hz, depending on the video refresh rate for the region the
device is sold in.</li>
</ul>

<p>If Television device implementations do not have a built in display,
but instead support an external display connected via HDMI, they:</p>

<ul>
<li>[<a href="#5_8_secure_media">5.8</a>/T-1-1] MUST support HDCP 2.2.</li>
</ul>

<p>If Television device implementations do not support UHD decoding, but
instead support an external display connected via HDMI, they:</p>

<ul>
<li>[<a href="#5_8_secure_media">5.8</a>/T-2-1] MUST support HDCP 1.4</li>
</ul>

<h4 id="233_software" data-text="2.3.3. Software">2.3.3. Software</h4>

<p>Television device implementations:</p>

<ul>
<li>[<a href="#3_0_intro">3</a>/T-0-1] MUST declare the features
<a href="http://developer.android.com/reference/android/content/pm/PackageManager.html#FEATURE_LEANBACK"><code translate="no" dir="ltr">android.software.leanback</code></a>
and <code translate="no" dir="ltr">android.hardware.type.television</code>.</li>
<li>[<a href="#3_2_3_1_common_application_intents">3.2.3.1</a>/T-0-1]  MUST preload one or
more applications or service components with an intent handler, for all the
public intent filter patterns defined by the following application intents
listed <a href="https://developer.android.com/about/versions/11/reference/common-intents-30">here</a>.</li>
<li>[<a href="#3_4_web_compatibility">3.4</a>.1/T-0-1] MUST provide a complete
implementation of the <code translate="no" dir="ltr">android.webkit.Webview</code> API.</li>
</ul>

<p>If Android Television device implementations support a lock screen,they:</p>

<ul>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.10/T-1-1] MUST display the Lock
screen Notifications including the Media Notification Template.</li>
</ul>

<p>Television device implementations:</p>

<ul>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.14/T-SR] Are STRONGLY RECOMMENDED
to support picture-in-picture (PIP) mode multi-window.</li>
<li>[<a href="#3_10_accessibility">3.10</a>/T-0-1] MUST support third-party accessibility
services.</li>
<li>[<a href="#3_10_accessibility">3.10</a>/T-SR] Are STRONGLY RECOMMENDED to
preload accessibility services on the device comparable with or exceeding
functionality of the Switch Access and TalkBack (for languages supported by
the preinstalled Text-to-speech engine) accessibility services as provided in
the <a href="https://github.com/google/talkback">talkback open source project</a>.</li>
</ul>

<p>If Television device implementations report the feature
<code translate="no" dir="ltr">android.hardware.audio.output</code>, they:</p>

<ul>
<li>[<a href="#3_11_text_to_speech">3.11</a>/T-SR] Are STRONGLY RECOMMENDED to include a
TTS engine supporting the languages available on the device.</li>
<li>[<a href="#3_11_text_to_speech">3.11</a>/T-1-1] MUST support installation of
third-party TTS engines.</li>
</ul>

<p>Television device implementations:</p>

<ul>
<li>[<a href="#3_12_tv_input_framework">3.12</a>/T-0-1] MUST support TV Input Framework.</li>
</ul>

<h4 id="234_performance_and_power" data-text="2.3.4. Performance and Power">2.3.4. Performance and Power</h4>

<ul>
<li>[<a href="#8_1_user_experience_consistency">8.1</a>/T-0-1] <strong>Consistent frame latency</strong>.
Inconsistent frame latency or a delay to render frames MUST NOT happen more
often than 5 frames in a second, and SHOULD be below 1 frames in a second.</li>
<li>[<a href="#8_2_file_io_access_performance">8.2</a>/T-0-1] MUST ensure a sequential
write performance of at least 5MB/s.</li>
<li>[<a href="#8_2_file_io_access_performance">8.2</a>/T-0-2] MUST ensure a random write
performance of at least 0.5MB/s.</li>
<li>[<a href="#8_2_file_io_access_performance">8.2</a>/T-0-3] MUST ensure a sequential
read performance of at least 15MB/s.</li>
<li>[<a href="#8_2_file_io_access_performance">8.2</a>/T-0-4] MUST ensure a random read
performance of at least 3.5MB/s.</li>
</ul>

<p>If Television device implementations include features to improve device power
management that are included in AOSP or extend the features that are included
in AOSP, they:</p>

<ul>
<li>[<a href="#8_3_power_saving_modes">8.3</a>/T-1-1] MUST provide user affordance to enable
and disable the battery saver feature.</li>
</ul>

<p>If Television device implementations do not have a battery they:</p>

<ul>
<li>[<a href="#8_3_power_saving_modes">8.3</a>/T-1-2] MUST register the device as
a batteryless device as described in <a href="https://source.android.com/devices/tech/power/batteryless">Supporting Batteryless Devices</a>.</li>
</ul>

<p>If Television device implementations have a battery they:</p>

<ul>
<li>[<a href="#8_3_power_saving_modes">8.3</a>/T-1-3] MUST provide user affordance to display
all apps that are exempted from App Standby and Doze power-saving modes.</li>
</ul>

<p>Television device implementations:</p>

<ul>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/T-0-1] MUST provide a
per-component power profile that defines the <a href="http://source.android.com/devices/tech/power/values.html">current consumption value</a>
for each hardware component and the approximate battery drain caused by the
components over time as documented in the Android Open Source Project site.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/T-0-2] MUST report all power
consumption values in milliampere hours (mAh).</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/T-0-3] MUST report CPU power
consumption per each process&#39;s UID. The Android Open Source Project meets the
requirement through the <code translate="no" dir="ltr">uid_cputime</code> kernel module implementation.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/T] SHOULD be attributed to the
hardware component itself if unable to attribute hardware component power usage
to an application.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/T-0-4] MUST make this power usage
available via the <a href="http://source.android.com/devices/tech/power/batterystats.html"><code translate="no" dir="ltr">adb shell dumpsys batterystats</code></a>
shell command to the app developer.</li>
</ul>

<h4 id="235_security_model" data-text="2.3.5. Security Model">2.3.5. Security Model</h4>

<p>Television device implementations:</p>

<ul>
<li>[<a href="#9_11_permissions">9.11</a>/T-0-1] MUST back up the keystore implementation
 with an isolated execution environment.</li>
<li>[<a href="#9_11_permissions">9.11</a>/T-0-2] MUST have implementations of RSA, AES,
 ECDSA and HMAC cryptographic algorithms and MD5, SHA1, and SHA-2 family
 hash functions to properly support the Android Keystore system&#39;s supported
 algorithms in an area that is securely isolated from the code running on
 the kernel and above. Secure isolation MUST block all potential mechanisms
 by which kernel or userspace code might access the internal state of the
 isolated environment, including DMA. The upstream Android Open Source
 Project (AOSP) meets this requirement by using the <a href="https://source.android.com/security/trusty/">Trusty</a> implementation, but another
 ARM TrustZone-based solution or a third-party reviewed secure
 implementation of a proper hypervisor-based isolation are alternative
 options.</li>
<li>[<a href="#9_11_permissions">9.11</a>/T-0-3] MUST perform the lock screen
 authentication in the isolated execution environment and only when
 successful, allow the authentication-bound keys to be used. Lock screen
 credentials MUST be stored in a way that allows only the isolated execution
 environment to perform lock screen authentication. The upstream Android
 Open Source Project provides the
 <a href="http://source.android.com/devices/tech/security/authentication/gatekeeper.html">Gatekeeper Hardware Abstraction Layer (HAL)</a>
 and Trusty, which can be used to satisfy this requirement.</li>
<li>[<a href="#9_11_permissions">9.11</a>/T-0-4] MUST support key attestation where the
 attestation signing key is protected by secure hardware and signing is
 performed in secure hardware. The attestation signing keys MUST be shared
 across large enough number of devices to prevent the keys from being used
 as device identifiers. One way of meeting this requirement is to share the
 same attestation key unless at least 100,000 units of a given SKU are
 produced. If more than 100,000 units of an SKU are produced, a different
 key MAY be used for each 100,000 units.</li>
<li>[9/T-0-1] MUST declare the ‘android.hardware.security.model.compatible’
 feature.</li>
</ul>

<p>Note that if a device implementation is already launched on an earlier Android
version, such a device is exempted from the requirement to have a keystore
backed by an isolated execution environment and support the key attestation,
unless it declares the <code translate="no" dir="ltr">android.hardware.fingerprint</code> feature which requires a
keystore backed by an isolated execution environment.</p>

<p>If Television device implementations support a secure lock screen, they:</p>

<ul>
<li>[<a href="#9_11_permissions">9.11</a>/T-1-1] MUST allow the user to choose the Sleep
 timeout for transition from the unlocked to the locked state, with a
 minimum allowable timeout up to 15 seconds or less.</li>
</ul>

<p>If Television device implementations include multiple users and
do not declare the <code translate="no" dir="ltr">android.hardware.telephony</code> feature flag, they:</p>

<ul>
<li>[<a href="#9_5_multi-user-support">9.5</a>/T-2-1] MUST support restricted profiles,
a feature that allows device owners to manage additional users and their
capabilities on the device. With restricted profiles, device owners can
quickly set up separate environments for additional users to work in,
with the ability to manage finer-grained restrictions in the apps that
are available in those environments.</li>
</ul>

<p>If Television device implementations include multiple users and
declare the <code translate="no" dir="ltr">android.hardware.telephony</code> feature flag, they:</p>

<ul>
<li>[<a href="#9_5_multi-user-support">9.5</a>/T-3-1] MUST NOT support restricted
profiles but MUST align with the AOSP implementation of controls
to enable /disable other users from accessing the voice calls and SMS.</li>
</ul>

<p>If Television device implementations declare <code translate="no" dir="ltr">android.hardware.microphone</code>, they:</p>

<ul>
<li>[[<a href="#9_8_2_privacy">9.8.2</a>/T-4-1]  MUST display the microphone indicator when
an app is accessing audio data from the microphone, but not when the
microphone is only accessed by HotwordDetectionService, SOURCE_HOTWORD,
ContentCaptureService, or apps holding the roles called out in Section 9.1
Permissions with CDD identifier C-3-X].</li>
<li>[[<a href="#9_8_2_privacy">9.8.2</a>/T-4-2] MUST not hide the microphone indicator for
system apps that have visible user interfaces or direct user interaction.</li>
</ul>

<p>If Television device implementations declare <code translate="no" dir="ltr">android.hardware.camera.any</code>, they:</p>

<ul>
<li>[[<a href="#9_8_2_privacy">9.8.2</a>/T-5-1] MUST display the camera indicator when an
app is accessing live camera data, but not when the camera is only
being accessed by app(s) holding the roles called out in Section 9.1
Permissions with CDD identifier [C-3-X].</li>
<li>[[<a href="#9_8_2_privacy">9.8.2</a>/T-5-2] MUST not hide the camera indicator for
system apps that have visible user interfaces or direct user interaction.</li>
</ul>

<h4 id="236_developer_tools_and_options_compatibility" data-text="2.3.6. Developer Tools and Options Compatibility">2.3.6. Developer Tools and Options Compatibility</h4>

<p>Television device implementations:</p>

<ul>
<li><a href="https://developer.android.com/studio/command-line/perfetto"><strong>Perfetto</strong></a>
<ul>
<li>[<a href="#6_1_developer_tools">6.1</a>/T-0-1] MUST expose a <code translate="no" dir="ltr">/system/bin/perfetto</code>
binary to the shell user which cmdline complies with
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[<a href="#6_1_developer_tools">6.1</a>/T-0-2] The perfetto binary MUST accept as
input a protobuf config that complies with the schema defined in
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[<a href="#6_1_developer_tools">6.1</a>/T-0-3] The perfetto binary MUST write as
output a protobuf trace that complies with the schema defined in
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[<a href="#6_1_developer_tools">6.1</a>/T-0-4] MUST provide, through the perfetto
binary, at least the data sources described  in <a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
</ul></li>
</ul>

<h3 id="24_watch_requirements" data-text="2.4. Watch Requirements">2.4. Watch Requirements</h3>

<p>An <strong>Android Watch device</strong> refers to an Android device implementation intended to
be worn on the body, perhaps on the wrist.</p>

<p>Android device implementations are classified as a Watch if they meet all the
following criteria:</p>

<ul>
<li>Have a screen with the physical diagonal length in the range from 1.1 to 2.5
inches.</li>
<li>Have a mechanism provided to be worn on the body.</li>
</ul>

<p>The additional requirements in the rest of this section are specific to Android
Watch device implementations.</p>

<h4 id="241_hardware" data-text="2.4.1. Hardware">2.4.1. Hardware</h4>

<p>Watch device implementations:</p>

<ul>
<li><p>[<a href="#7_1_display_and_graphics">7.1</a>.1.1/W-0-1] MUST have a screen with the
physical diagonal size in the range from 1.1 to 2.5 inches.</p></li>
<li><p>[<a href="#7_2_input_devices">7.2</a>.3/W-0-1] MUST have the Home function available
to the user, and the Back function except for when it is in <code translate="no" dir="ltr">UI_MODE_TYPE_WATCH</code>.</p></li>
<li><p>[<a href="#7_2_input_devices">7.2</a>.4/W-0-1] MUST support touchscreen input.</p></li>
<li><p>[<a href="#7_3_sensors">7.3</a>.1/W-SR] Are STRONGLY RECOMMENDED to include a 3-axis
accelerometer.</p></li>
</ul>

<p>If Watch device implementations include a GPS/GNSS receiver and report the
capability to applications through the <code translate="no" dir="ltr">android.hardware.location.gps</code> feature
flag, they:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.3/W-1-1] MUST report GNSS measurements, as soon as they
are found, even if a location calculated from GPS/GNSS is not yet reported.</li>
<li>[<a href="#7_3_sensors">7.3</a>.3/W-1-2] MUST report GNSS pseudoranges and pseudorange
rates, that, in open-sky conditions after determining the location, while
stationary or moving with less than 0.2 meter per second squared of
acceleration, are sufficient to calculate position within 20 meters, and speed
within 0.2 meters per second, at least 95% of the time.</li>
</ul>

<p>If Watch device implementations include a 3-axis gyroscope, they:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.4/W-2-1] MUST be capable of measuring orientation changes
up to 1000 degrees per second.</li>
</ul>

<p>Watch device implementations:</p>

<ul>
<li><p>[<a href="#7_4_data_connectivity">7.4</a>.3/W-0-1] MUST support Bluetooth.</p></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/W-0-1] MUST have at least 1 GB of
non-volatile storage available for application private data (a.k.a. &quot;/data&quot; partition).</p></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/W-0-2] MUST have at least 416 MB memory
available to the kernel and userspace.</p></li>
<li><p>[<a href="#7_8_audio">7.8</a>.1/W-0-1] MUST include a microphone.</p></li>
<li><p>[<a href="#7_8_audio">7.8</a>.2/W] MAY have audio output.</p></li>
</ul>

<h4 id="242_multimedia" data-text="2.4.2. Multimedia">2.4.2. Multimedia</h4>

<p>No additional requirements.</p>

<h4 id="243_software" data-text="2.4.3. Software">2.4.3. Software</h4>

<p>Watch device implementations:</p>

<ul>
<li>[<a href="#3_0_intro">3</a>/W-0-1] MUST declare the feature
<code translate="no" dir="ltr">android.hardware.type.watch</code>.</li>
<li>[<a href="#3_0_intro">3</a>/W-0-2] MUST support uiMode =
<a href="http://developer.android.com/reference/android/content/res/Configuration.html#UI_MODE_TYPE_WATCH">UI_MODE_TYPE_WATCH</a>.</li>
<li>[<a href="#3_2_3_1_common_application_intents">3.2.3.1</a>/W-0-1]  MUST preload one
or more applications or service components with an intent handler, for
all the public intent filter patterns defined by the following application
intents listed <a href="https://developer.android.com/about/versions/11/reference/common-intents-30">here</a>.</li>
</ul>

<p>Watch device implementations:</p>

<ul>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.4/W-SR] Are STRONGLY RECOMMENDED
to implement an assistant on the device to handle the <a href="http://developer.android.com/reference/android/content/Intent.html#ACTION_ASSIST">Assist action</a>.</li>
</ul>

<p>Watch device implementations that declare the <code translate="no" dir="ltr">android.hardware.audio.output</code>
feature flag:</p>

<ul>
<li>[<a href="#3_10_accessibility">3.10</a>/W-1-1] MUST support third-party accessibility
services.</li>
<li>[<a href="#3_10_accessibility">3.10</a>/W-SR] Are STRONGLY RECOMMENDED to preload
accessibility services on the device comparable with or exceeding functionality
of the Switch Access and TalkBack (for languages supported by the preinstalled
Text-to-speech engine) accessibility services as provided in the
<a href="https://github.com/google/talkback">talkback open source project</a>.</li>
</ul>

<p>If Watch device implementations report the feature android.hardware.audio.output,
they:</p>

<ul>
<li><p>[<a href="#3_11_text_to_speech">3.11</a>/W-SR] Are STRONGLY RECOMMENDED to include a
TTS engine supporting the languages available on the device.</p></li>
<li><p>[<a href="#3_11_text_to_speech">3.11</a>/W-0-1] MUST support installation of
third-party TTS engines.</p></li>
</ul>

<h4 id="244_performance_and_power" data-text="2.4.4. Performance and Power">2.4.4. Performance and Power</h4>

<p>If Watch device implementations include features to improve device power
management that are included in AOSP or extend the features that are included
in AOSP, they:</p>

<ul>
<li>[<a href="#8_3_power_saving_modes">8.3</a>/W-SR] Are STRONGLY RECOMMENDED to provide
user affordance to display all apps that are exempted from App Standby and
Doze power-saving modes.</li>
<li>[<a href="#8_3_power_saving_modes">8.3</a>/W-SR] Are STRONGLY RECOMMENDED to provide
user affordance to enable and disable the battery saver feature.</li>
</ul>

<p>Watch device implementations:</p>

<ul>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/W-0-1] MUST provide a
per-component power profile that defines the <a href="http://source.android.com/devices/tech/power/values.html">current consumption value</a>
for each hardware component and the approximate battery drain caused by the
components over time as documented in the Android Open Source Project site.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/W-0-2] MUST report all power
consumption values in milliampere hours (mAh).</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/W-0-3] MUST report CPU power
consumption per each process&#39;s UID. The Android Open Source Project meets the
requirement through the <code translate="no" dir="ltr">uid_cputime</code> kernel module implementation.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/W-0-4] MUST make this power usage
available via the <a href="http://source.android.com/devices/tech/power/batterystats.html"><code translate="no" dir="ltr">adb shell dumpsys batterystats</code></a>
shell command to the app developer.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/W] SHOULD be attributed to the
hardware component itself if unable to attribute hardware component power usage
to an application.</li>
</ul>

<h4 id="245_security_model" data-text="2.4.5. Security Model">2.4.5. Security Model</h4>

<p>Watch device implementations:</p>

<ul>
<li>[9/H-0-1] MUST declare the ‘android.hardware.security.model.compatible’
feature.</li>
</ul>

<p>If Watch device implementations include multiple users and
do not declare the <code translate="no" dir="ltr">android.hardware.telephony</code> feature flag, they:</p>

<ul>
<li>[<a href="#9_5_multi-user-support">9.5</a>/W-1-1] MUST support restricted profiles,
a feature that allows device owners to manage additional users and their
capabilities on the device. With restricted profiles, device owners can
quickly set up separate environments for additional users to work in,
with the ability to manage finer-grained restrictions in the apps that
are available in those environments.</li>
</ul>

<p>If Watch device implementations include multiple users and
declare the <code translate="no" dir="ltr">android.hardware.telephony</code> feature flag, they:</p>

<ul>
<li>[<a href="#9_5_multi-user-support">9.5</a>/W-2-1] MUST NOT support restricted
profiles but MUST align with the AOSP implementation of controls
to enable /disable other users from accessing the voice calls and SMS.</li>
</ul>

<h3 id="25_automotive_requirements" data-text="2.5. Automotive Requirements">2.5. Automotive Requirements</h3>

<p><strong>Android Automotive implementation</strong> refers to a vehicle head unit running
Android as an operating system for part or all of the system and/or
infotainment functionality.</p>

<p>Android device implementations are classified as an Automotive if they declare
the feature <code translate="no" dir="ltr">android.hardware.type.automotive</code> or meet all the following
criteria.</p>

<ul>
<li>Are embedded as part of, or pluggable to, an automotive vehicle.</li>
<li>Are using a screen in the driver&#39;s seat row as the primary display.</li>
</ul>

<p>The additional requirements in the rest of this section are specific to Android
Automotive device implementations.</p>

<h4 id="251_hardware" data-text="2.5.1. Hardware">2.5.1. Hardware</h4>

<p>Automotive device implementations:</p>

<ul>
<li>[<a href="#7_1_display_and-graphics">7.1</a>.1.1/A-0-1] MUST have a screen at least 6
inches in physical diagonal size.</li>
<li><p>[<a href="#7_1_display_and_graphics">7.1</a>.1.1/A-0-2] MUST have a screen size layout
of at least 750 dp x 480 dp.</p></li>
<li><p>[<a href="#7_2_input_devices">7.2</a>.3/A-0-1] MUST provide the Home function and MAY
provide Back and Recent functions.</p></li>
<li><p>[<a href="#7_2_input_devices">7.2</a>.3/A-0-2] MUST send both the normal and long press
event of the Back function (<a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BACK"><code translate="no" dir="ltr">KEYCODE_BACK</code></a>)
to the foreground application.</p></li>
<li><p>[<a href="#7_3_sensors">7.3</a>/A-0-1] MUST implement and report
<a href="https://developer.android.com/reference/android/car/VehiclePropertyIds.html#GEAR_SELECTION"><code translate="no" dir="ltr">GEAR_SELECTION</code></a>,
<a href="https://developer.android.com/reference/android/car/VehiclePropertyIds.html#NIGHT_MODE"><code translate="no" dir="ltr">NIGHT_MODE</code></a>,
<a href="https://developer.android.com/reference/android/car/VehiclePropertyIds.html#PERF_VEHICLE_SPEED"><code translate="no" dir="ltr">PERF_VEHICLE_SPEED</code></a>
and <a href="https://developer.android.com/reference/android/car/VehiclePropertyIds.html#PARKING_BRAKE_ON"><code translate="no" dir="ltr">PARKING_BRAKE_ON</code></a>.</p></li>
<li><p>[<a href="#7_3_sensors">7.3</a>/A-0-2] The value of the
<a href="https://developer.android.com/reference/android/car/VehiclePropertyIds.html#NIGHT_MODE"><code translate="no" dir="ltr">NIGHT_MODE</code></a>
flag MUST be consistent with dashboard day/night mode and SHOULD be based on
ambient light sensor input. The underlying ambient light sensor MAY be the same
as <a href="#7_3_7_photometer">Photometer</a>.</p></li>
<li><p>[<a href="#7_3_sensors">7.3</a>/A-0-3] MUST provide sensor additional info field
<a href="https://developer.android.com/reference/android/hardware/SensorAdditionalInfo.html#TYPE_SENSOR_PLACEMENT"><code translate="no" dir="ltr">TYPE_SENSOR_PLACEMENT</code></a>
as part of SensorAdditionalInfo for every sensor provided.</p></li>
<li><p>[<a href="#7_3_sensors">7.3</a>/A-0-1] MAY dead reckon <a href="https://developer.android.com/reference/android/location/Location">Location</a>
by fusing GPS/GNSS with additional sensors. If <a href="https://developer.android.com/reference/android/location/Location">Location</a>
is dead reckoned, it is STRONGLY RECOMMENDED to implement and report the
corresponding <a href="https://developer.android.com/reference/android/hardware/Sensor">Sensor</a>
types and/or <a href="https://developer.android.com/reference/android/car/VehiclePropertyIds">Vehicle Property IDs</a>
used.</p></li>
<li><p>[<a href="#7_3_sensors">7.3</a>/A-0-2] The <a href="https://developer.android.com/reference/android/location/Location">Location</a>
requested via <a href="https://developer.android.com/reference/android/location/LocationManager">LocationManager#requestLocationUpdates()</a>
MUST NOT be map matched.</p></li>
</ul>

<p>If Automotive device implementations support OpenGL ES 3.1, they:</p>

<ul>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.4.1/A-0-1] MUST declare
OpenGL ES 3.1 or higher.</li>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.4.1/A-0-2] MUST support Vulkan 1.1.</li>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.4.1/A-0-3] MUST include Vulkan loader
and export all symbols.</li>
</ul>

<p>If Automotive device implementations include a 3-axis accelerometer, they:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.1/A-1-1] MUST be able to report events up to a
frequency of at least 100 Hz.</li>
<li>[<a href="#7_3_sensors">7.3</a>.1/A-1-2] MUST comply with the Android
<a href="http://source.android.com/devices/sensors/sensor-types.html#auto_axes">car sensor coordinate system</a>.</li>
</ul>

<p>If Automotive device implementations include a 3-axis gyroscope, they:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.4/A-2-1] MUST be able to report events up to a
frequency of at least 100 Hz.</li>
<li>[<a href="#7_3_sensors">7.3</a>.4/A-2-3] MUST be capable of measuring orientation changes
up to 250 degrees per second.</li>
<li>[<a href="#7_3_sensors">7.3</a>.4/A-SR] Are STRONGLY RECOMMENDED to configure the
gyroscope’s measurement range to +/-250dps in order to maximize the resolution
possible</li>
</ul>

<p>If Automotive device implementations include a GPS/GNSS receiver, but do not
include cellular network-based data connectivity, they:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.3/A-3-1] MUST determine location the very first time
 the GPS/GNSS receiver is turned on or after 4+ days within 60 seconds.</li>
<li>[<a href="#7_3_sensors">7.3</a>.3/A-3-2] MUST meet the time-to-first-fix criteria as
 described in <a href="#7_3_3_gps">7.3.3/C-1-2</a> and <a href="#7_3_3_gps">7.3.3/C-1-6</a>
 for all other location requests (i.e requests which are not the first time
 ever or after 4+ days). The requirement <a href="#7_3_3_gps">7.3.3/C-1-2</a> is
 typically met in vehicles without cellular network-based data connectivity,
 by using GNSS orbit predictions calculated on the receiver, or using the
 last known vehicle location along with the ability to dead reckon for at
 least 60 seconds with a position accuracy satisfying
 <a href="#7_3_3_gps">7.3.3/C-1-3</a>, or a combination of both.</li>
</ul>

<p>Automotive device implementations:</p>

<ul>
<li>[<a href="#7_4_data_connectivity">7.4</a>.3/A-0-1] MUST support Bluetooth and SHOULD
support Bluetooth LE.</li>
<li>[<a href="#7_4_data_connectivity">7.4</a>.3/A-0-2] Android Automotive implementations
MUST support the following Bluetooth profiles:
<ul>
<li>Phone calling over Hands-Free Profile (HFP).</li>
<li>Media playback over Audio Distribution Profile (A2DP).</li>
<li>Media playback control over Remote Control Profile (AVRCP).</li>
<li>Contact sharing using the Phone Book Access Profile (PBAP).</li>
</ul></li>
<li><p>[<a href="#7_4_data_connectivity">7.4</a>.3/A-SR] Are STRONGLY RECOMMENDED to support
Message Access Profile (MAP).</p></li>
<li><p>[<a href="#7_4_data_connectivity">7.4</a>.5/A] SHOULD include support for cellular
network-based data connectivity.</p></li>
<li><p>[<a href="#7_4_data_connectivity">7.4</a>.5/A] MAY use the System API
<code translate="no" dir="ltr">NetworkCapabilities#NET_CAPABILITY_OEM_PAID</code> constant for
networks that should be available to system apps.</p></li>
</ul>

<p>An exterior view camera is a camera that images scenes outside of the device
implementation, like a dashcam.</p>

<p>Automotive device implementations:</p>

<ul>
<li>SHOULD include one or more exterior view cameras.</li>
</ul>

<p>If Automotive device implementations include an exterior view camera, for such
a camera, they:</p>

<ul>
<li>[<a href="#7_5_cameras">7.5</a>/A-1-1] MUST NOT have exterior view cameras accessible
via the <a href="https://developer.android.com/guide/topics/media/camera">Android Camera APIs</a>, unless they comply
with camera <a href="#7_5_cameras">core requirements</a>.</li>
<li>[<a href="#7_5_cameras">7.5</a>/A-SR] Are STRONGLY RECOMMENDED not to rotate or
horizontally mirror the camera preview.</li>
<li>[<a href="#7_5_cameras">7.5</a>.5/A-SR] Are STRONGLY RECOMMENDED to be oriented so that
the long dimension of the camera aligns with the horizon.</li>
<li>[<a href="#7_5_cameras">7.5</a>/A-SR] Are STRONGLY RECOMMENDED to have a resolution
of at least 1.3 megapixels.</li>
<li>SHOULD have either fixed-focus or EDOF (extended depth of field) hardware.</li>
<li>SHOULD support <a href="https://source.android.com/devices/graphics/sync">Android Synchronization Framework</a>.</li>
<li>MAY have either hardware auto-focus or software auto-focus implemented in
the camera driver.</li>
</ul>

<p>Automotive device implementations:</p>

<ul>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/A-0-1] MUST have at least 4 GB of
non-volatile storage available for application private data
(a.k.a. &quot;/data&quot; partition).</p></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/A] SHOULD format the data partition
to offer improved performance and longevity on flash storage, for example
using <code translate="no" dir="ltr">f2fs</code> file-system.</p></li>
</ul>

<p>If Automotive device implementations provide shared external storage via a
portion of the internal non-removable storage, they:</p>

<ul>
<li>[<a href="#7_6_memory_and_storage">7.6</a>.1/A-SR] Are STRONGLY RECOMMENDED to reduce
I/O overhead on operations performed on the external storage, for example by
using <code translate="no" dir="ltr">SDCardFS</code>.</li>
</ul>

<p>If Automotive device implementations are 32-bit:</p>

<ul>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/A-1-1] The memory available to the kernel
and userspace MUST be at least 512MB if any of the following densities are used:</p>

<ul>
<li>280dpi or lower on small/normal screens</li>
<li>ldpi or lower on extra large screens</li>
<li>mdpi or lower on large screens</li>
</ul></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/A-1-2] The memory available to the kernel
and userspace MUST be at least 608MB if any of the following densities are used:</p>

<ul>
<li>xhdpi or higher on small/normal screens</li>
<li>hdpi or higher on large screens</li>
<li>mdpi or higher on extra large screens</li>
</ul></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/A-1-3] The memory available to the kernel
and userspace MUST be at least 896MB if any of the following densities are used:</p>

<ul>
<li>400dpi or higher on small/normal screens</li>
<li>xhdpi or higher on large screens</li>
<li>tvdpi or higher on extra large screens</li>
</ul></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/A-1-4] The memory available to the kernel
and userspace MUST be at least 1344MB if any of the following densities are
used:</p>

<ul>
<li>560dpi or higher on small/normal screens</li>
<li>400dpi or higher on large screens</li>
<li>xhdpi or higher on extra large screens</li>
</ul></li>
</ul>

<p>If Automotive device implementations are 64-bit:</p>

<ul>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/A-2-1] The memory available to the kernel
and userspace MUST be at least 816MB if any of the following densities are used:</p>

<ul>
<li>280dpi or lower on small/normal screens</li>
<li>ldpi or lower on extra large screens</li>
<li>mdpi or lower on large screens</li>
</ul></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/A-2-2] The memory available to the kernel
and userspace MUST be at least 944MB if any of the following densities are used:</p>

<ul>
<li>xhdpi or higher on small/normal screens</li>
<li>hdpi or higher on large screens</li>
<li>mdpi or higher on extra large screens</li>
</ul></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/A-2-3] The memory available to the kernel
and userspace MUST be at least 1280MB if any of the following densities are used:</p>

<ul>
<li>400dpi or higher on small/normal screens</li>
<li>xhdpi or higher on large screens</li>
<li>tvdpi or higher on extra large screens</li>
</ul></li>
<li><p>[<a href="#7_6_memory_and_storage">7.6</a>.1/A-2-4] The memory available to the kernel
and userspace MUST be at least 1824MB if any of the following densities are used:</p>

<ul>
<li>560dpi or higher on small/normal screens</li>
<li>400dpi or higher on large screens</li>
<li>xhdpi or higher on extra large screens</li>
</ul></li>
</ul>

<p>Note that the &quot;memory available to the kernel and userspace&quot; above refers to the
memory space provided in addition to any memory already dedicated to hardware
components such as radio, video, and so on that are not under the kernel’s
control on device implementations.</p>

<p>Automotive device implementations:</p>

<ul>
<li>[<a href="#7_7_usb">7.7</a>.1/A] SHOULD include a USB port supporting peripheral mode.</li>
</ul>

<p>Automotive device implementations:</p>

<ul>
<li>[<a href="#7_8_audio">7.8</a>.1/A-0-1] MUST include a microphone.</li>
</ul>

<p>Automotive device implementations:</p>

<ul>
<li>[<a href="#7_8_audio">7.8</a>.2/A-0-1] MUST have an audio output and declare
<code translate="no" dir="ltr">android.hardware.audio.output</code>.</li>
</ul>

<h4 id="252_multimedia" data-text="2.5.2. Multimedia">2.5.2. Multimedia</h4>

<p>Automotive device implementations MUST support the following audio encoding
and decoding formats and make them available to third-party applications:</p>

<ul>
<li>[<a href="#5_1_media_codecs">5.1</a>/A-0-1] MPEG-4 AAC Profile (AAC LC)</li>
<li>[<a href="#5_1_media_codecs">5.1</a>/A-0-2] MPEG-4 HE AAC Profile (AAC+)</li>
<li>[<a href="#5_1_media_codecs">5.1</a>/A-0-3] AAC ELD (enhanced low delay AAC)</li>
</ul>

<p>Automotive device implementations MUST support the following video encoding
formats and make them available to third-party applications:</p>

<ul>
<li>[<a href="#5_2_video_encoding">5.2</a>/A-0-1] H.264 AVC</li>
<li>[<a href="#5_2_video_encoding">5.2</a>/A-0-2] VP8</li>
</ul>

<p>Automotive device implementations MUST support the following video decoding
formats and make them available to third-party applications:</p>

<ul>
<li>[<a href="#5_3_video_decoding">5.3</a>/A-0-1] H.264 AVC</li>
<li>[<a href="#5_3_video_decoding">5.3</a>/A-0-2] MPEG-4 SP</li>
<li>[<a href="#5_3_video_decoding">5.3</a>/A-0-3] VP8</li>
<li>[<a href="#5_3_video_decoding">5.3</a>/A-0-4] VP9</li>
</ul>

<p>Automotive device implementations are STRONGLY RECOMMENDED to support the
following video decoding:</p>

<ul>
<li>[<a href="#5_3_video_decoding">5.3</a>/A-SR] H.265 HEVC</li>
</ul>

<h4 id="253_software" data-text="2.5.3. Software">2.5.3. Software</h4>

<p>Automotive device implementations:</p>

<ul>
<li><p>[<a href="#3_0_intro">3</a>/A-0-1] MUST declare the feature
<code translate="no" dir="ltr">android.hardware.type.automotive</code>.</p></li>
<li><p>[<a href="#3_0_intro">3</a>/A-0-2] MUST support uiMode = <a href="http://developer.android.com/reference/android/content/res/Configuration.html#UI_MODE_TYPE_CAR"><code translate="no" dir="ltr">UI_MODE_TYPE_CAR</code></a>.</p></li>
<li><p>[<a href="#3_0_intro">3</a>/A-0-3] MUST support all public APIs in the
<a href="https://developer.android.com/reference/android/car/package-summary"><code translate="no" dir="ltr">android.car.*</code></a>
namespace.</p></li>
</ul>

<p>If Automotive device implementations provide a proprietary API using
<a href="https://developer.android.com/reference/android/car/hardware/property/CarPropertyManager"><code translate="no" dir="ltr">android.car.CarPropertyManager</code></a> with
<a href="https://developer.android.com/reference/android/car/VehiclePropertyIds"><code translate="no" dir="ltr">android.car.VehiclePropertyIds</code></a>,
they:</p>

<ul>
<li>[<a href="#3_0_intro">3</a>/A-1-1] MUST NOT attach special privileges to system
application&#39;s use of these properties, or prevent third-party applications
from using these properties.</li>
<li>[<a href="#3_0_intro">3</a>/A-1-2] MUST NOT replicate a vehicle property that already
exists in the <a href="https://developer.android.com/reference/android/car/VehiclePropertyIds">SDK</a>.</li>
</ul>

<p>Automotive device implementations:</p>

<ul>
<li><p>[<a href="#3_2_soft_api_compatibility">3.2</a>.1/A-0-1] MUST support and enforce all
permissions constants as documented by the <a href="https://developer.android.com/reference/android/car/Car">Automotive Permission reference page</a>.</p></li>
<li><p>[<a href="#3_2_3_1_common_application_intents">3.2.3.1</a>/A-0-1]  MUST preload one or
more applications or service components with an intent handler, for all the
public intent filter patterns defined by the following application intents
listed <a href="https://developer.android.com/about/versions/11/reference/common-intents-30">here</a>.</p></li>
<li><p>[<a href="#3_4_web_compatibility">3.4</a>.1/A-0-1] MUST provide a complete
implementation of the <code translate="no" dir="ltr">android.webkit.Webview</code> API.</p></li>
<li><p>[<a href="#3_8_user_interface_compatibility">3.8</a>.3/A-0-1] MUST display
notifications that use the <a href="https://developer.android.com/reference/android/app/Notification.CarExtender.html"><code translate="no" dir="ltr">Notification.CarExtender</code></a>
API when requested by third-party applications.</p></li>
<li><p>[<a href="#3_8_user-interface-compatibility">3.8</a>.4/A-SR] Are Strongly Recommended
to implement an assistant on the device to handle the <a href="http://developer.android.com/reference/android/content/Intent.html#ACTION_ASSIST">Assist action</a>.</p></li>
</ul>

<p>If Automotive device implementations include a push-to-talk button, they:</p>

<ul>
<li>[<a href="#3_8_user_interface_compatibility">3.8</a>.4/A-1-1] MUST use a short press of
the push-to-talk button as the designated interaction to launch the
user-selected assist app, in other words the app that implements
<a href="https://developer.android.com/reference/android/service/voice/VoiceInteractionService"><code translate="no" dir="ltr">VoiceInteractionService</code></a>.</li>
</ul>

<p>Automotive device implementations:</p>

<ul>
<li>[<a href="#3_8_3_1_presentation_of_notifications">3.8.3.1</a>/A-0-1] MUST correctly
render resources as described in the <a href="https://developer.android.com/training/cars/notifications"><code translate="no" dir="ltr">Notifications on Automotive OS</code></a>
SDK documentation.</li>
<li>[<a href="#3_8_3_1_presentation_of_notifications">3.8.3.1</a>/A-0-2] MUST display
PLAY and MUTE for notification actions in the place of those provided through
<a href="https://developer.android.com/reference/android/app/Notification.Builder#addAction%28android.app.Notification.Action%29"><code translate="no" dir="ltr">Notification.Builder.addAction()</code></a></li>
<li>[<a href="#3_8_3_1_presentation_of_notifications">3.8.3.1</a>/A] SHOULD restrict the
use of rich management tasks such as per-notification-channel controls.
MAY use UI affordance per application to reduce controls.</li>
</ul>

<p>If Automotive device implementations support User HAL properties, they:</p>

<ul>
<li>[<a href="#3_9_3_managed_user_support">3.9.3</a>/A-1-1] MUST implement all of the
<a href="https://source.android.com/devices/automotive/users_accounts/user_hal#lifecyle"><code translate="no" dir="ltr">User lifecycle properties</code></a>
<ul>
<li><code translate="no" dir="ltr">INITIAL_USER_INFO</code>, <code translate="no" dir="ltr">SWITCH_USER</code>, <code translate="no" dir="ltr">CREATE_USER</code>, <code translate="no" dir="ltr">REMOVE_USER</code>.</li>
</ul></li>
</ul>

<p>Automotive device implementations:</p>

<ul>
<li>[<a href="#3_14_media_ui">3.14</a>/A-0-1] MUST include a UI framework to support
third-party apps using the media APIs as described in section
<a href="#3_14_media_ui">3.14</a>.</li>
<li>[<a href="#3_14_media_ui">3.14</a>/A-0-2] MUST allow the user to safely interact
with Media Applications while driving.</li>
<li>[<a href="#3_14_media_ui">3.14</a>/A-0-3] MUST support the
<a href="https://developer.android.com/reference/android/car/Car#CAR_INTENT_ACTION_MEDIA_TEMPLATE"><code translate="no" dir="ltr">CAR_INTENT_ACTION_MEDIA_TEMPLATE</code></a>
implicit Intent action with the
<a href="https://developer.android.com/reference/android/car/Car#CAR_EXTRA_MEDIA_PACKAGE"><code translate="no" dir="ltr">CAR_EXTRA_MEDIA_PACKAGE</code></a>
extra.</li>
<li>[<a href="#3_14_media_ui">3.14</a>/A-0-4] MUST provide an affordance to navigate into
a Media Application’s
<a href="https://developer.android.com/reference/android/content/Intent.html#ACTION_APPLICATION_PREFERENCES">preference
activity</a>,
but MUST only enable it when Car UX Restrictions are not in effect.</li>
<li>[<a href="#3_14_media_ui">3.14</a>/A-0-5] MUST display
<a href="https://developer.android.com/reference/android/support/v4/media/session/PlaybackStateCompat.html#getErrorMessage%28%29">error messages</a>
set by Media Applications, and MUST support the optional extras
<a href="https://developer.android.com/training/cars/media#require-sign-in"><code translate="no" dir="ltr">ERROR_RESOLUTION_ACTION_LABEL</code></a>
and <a href="https://developer.android.com/training/cars/media#require-sign-in"><code translate="no" dir="ltr">ERROR_RESOLUTION_ACTION_INTENT</code></a>.</li>
<li>[<a href="#3_14_media_ui">3.14</a>/A-0-6] MUST support an in-app search affordance for
apps that support searching.</li>
<li>[<a href="#3_14_media_ui">3.14</a>/A-0-7] MUST respect
<a href="https://developer.android.com/training/cars/media#default-content-style"><code translate="no" dir="ltr">CONTENT_STYLE_BROWSABLE_HINT</code></a>
and <a href="https://developer.android.com/training/cars/media#default-content-style"><code translate="no" dir="ltr">CONTENT_STYLE_PLAYABLE_HINT</code></a>
definitions when displaying the <a href="https://developer.android.com/reference/android/media/browse/MediaBrowser.html">MediaBrowser</a>
hierarchy.</li>
</ul>

<p>If Automotive device implementations include a default launcher app, they:</p>

<ul>
<li>[<a href="#3_14_media_ui">3.14</a>/A-1-1] MUST include media services and open them
with the <a href="https://developer.android.com/reference/android/car/Car#CAR_INTENT_ACTION_MEDIA_TEMPLATE"><code translate="no" dir="ltr">CAR_INTENT_ACTION_MEDIA_TEMPLATE</code></a>
intent.</li>
</ul>

<p>Automotive device implementations:</p>

<ul>
<li>[<a href="#3_8_user-interface-compatibility">3.8</a>/A] MAY restrict the application
 requests to enter a full screen mode as described in <a href="https://developer.android.com/training/system-ui/immersive"><code translate="no" dir="ltr">immersive documentation</code></a>.</li>
<li>[<a href="#3_8_user-interface-compatibility">3.8</a>/A] MAY keep the status bar and
the navigation bar visible at all times.</li>
<li>[<a href="#3_8_user-interface-compatibility">3.8</a>/A] MAY restrict the application
requests to change the colors behind the system UI elements, to ensure
those elements are clearly visible at all times.</li>
</ul>

<h4 id="254_performance_and_power" data-text="2.5.4. Performance and Power">2.5.4. Performance and Power</h4>

<p>Automotive device implementations:</p>

<ul>
<li>[<a href="#8_2_file_i/o_access_performance">8.2</a>/A-0-1] MUST report the number of
bytes read and written to non-volatile storage per each process&#39;s UID so the
stats are available to developers through System API
<code translate="no" dir="ltr">android.car.storagemonitoring.CarStorageMonitoringManager</code>. The Android Open
Source Project meets the requirement through the <code translate="no" dir="ltr">uid_sys_stats</code> kernel module.</li>
<li>[<a href="#8_3_power_saving_modes">8.3</a>/A-1-3] MUST support <a href="https://source.android.com/devices/automotive/power/garage_mode">Garage Mode</a>.</li>
<li>[<a href="#8_3_power_saving_modes">8.3</a>/A] SHOULD be in Garage Mode for at least
15 minutes after every drive unless:
<ul>
<li>The battery is drained.</li>
<li>No idle jobs are scheduled.</li>
<li>The driver exits Garage Mode.</li>
</ul></li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/A-0-1] MUST provide a
per-component power profile that defines the <a href="http://source.android.com/devices/tech/power/values.html">current consumption value</a>
for each hardware component and the approximate battery drain caused by the
components over time as documented in the Android Open Source Project site.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/A-0-2] MUST report all power
consumption values in milliampere hours (mAh).</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/A-0-3] MUST report CPU power
consumption per each process&#39;s UID. The Android Open Source Project meets the
requirement through the <code translate="no" dir="ltr">uid_cputime</code> kernel module implementation.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/A] SHOULD be attributed to the
hardware component itself if unable to attribute hardware component power usage
to an application.</li>
<li>[<a href="#8_4_power_consumption_accounting">8.4</a>/A-0-4] MUST make this power usage
available via the <a href="http://source.android.com/devices/tech/power/batterystats.html"><code translate="no" dir="ltr">adb shell dumpsys batterystats</code></a>
shell command to the app developer.</li>
</ul>

<h4 id="255_security_model" data-text="2.5.5. Security Model">2.5.5. Security Model</h4>

<p>If Automotive device implementations support multiple users, they:</p>

<ul>
<li>[<a href="#9_5_multi-user_support">9.5</a>/A-1-1] MUST NOT allow users to interact with
nor switch into the <a href="https://source.android.com/devices/tech/admin/multi-user#user_types">Headless System User</a>,
except for <a href="https://source.android.com/devices/tech/admin/provision">device provisioning</a>.</li>
<li>[<a href="#9_5_multi-user_support">9.5</a>/A-1-2] MUST switch into a <a href="https://source.android.com/devices/tech/admin/multi-user#user_types">Secondary User</a>
before <a href="https://developer.android.com/reference/android/content/Intent.html#ACTION_BOOT_COMPLETED"><code translate="no" dir="ltr">BOOT_COMPLETED</code></a>.</li>
<li>[<a href="#9_5_multi-user_support">9.5</a>/A-1-3] MUST support the ability to create
a <a href="https://source.android.com/devices/tech/admin/multi-user#user_types">Guest User</a>
even when the maximum number of Users on a device has been reached.</li>
</ul>

<p>Automotive device implementations:</p>

<ul>
<li>[<a href="#9_11_permissions">9.11</a>/A-0-1] MUST back up the keystore implementation
 with an isolated execution environment.</li>
<li>[<a href="#9_11_permissions">9.11</a>/A-0-2] MUST have implementations of RSA, AES,
 ECDSA and HMAC cryptographic algorithms and MD5, SHA1, and SHA-2 family
 hash functions to properly support the Android Keystore system&#39;s supported
 algorithms in an area that is securely isolated from the code running on
 the kernel and above. Secure isolation MUST block all potential mechanisms
 by which kernel or userspace code might access the internal state of the
 isolated environment, including DMA. The upstream Android Open Source
 Project (AOSP) meets this requirement by using the <a href="https://source.android.com/security/trusty/">Trusty</a> implementation, but another
 ARM TrustZone-based solution or a third-party reviewed secure
 implementation of a proper hypervisor-based isolation are alternative
 options.</li>
<li>[<a href="#9_11_permissions">9.11</a>/A-0-3] MUST perform the lock screen
 authentication in the isolated execution environment and only when
 successful, allow the authentication-bound keys to be used. Lock screen
 credentials MUST be stored in a way that allows only the isolated execution
 environment to perform lock screen authentication. The upstream Android
 Open Source Project provides the
 <a href="http://source.android.com/devices/tech/security/authentication/gatekeeper.html">Gatekeeper Hardware Abstraction Layer (HAL)</a>
 and Trusty, which can be used to satisfy this requirement.</li>
<li>[<a href="#9_11_permissions">9.11</a>/A-0-4] MUST support key attestation where the
 attestation signing key is protected by secure hardware and signing is
 performed in secure hardware. The attestation signing keys MUST be shared
 across large enough number of devices to prevent the keys from being used
 as device identifiers. One way of meeting this requirement is to share the
 same attestation key unless at least 100,000 units of a given SKU are
 produced. If more than 100,000 units of an SKU are produced, a different
 key MAY be used for each 100,000 units.</li>
<li>[9/A-0-1] MUST declare the ‘android.hardware.security.model.compatible’
 feature.</li>
</ul>

<p>Note that if a device implementation is already launched on an earlier Android
version, such a device is exempted from the requirement to have a keystore
backed by an isolated execution environment and support the key attestation,
unless it declares the <code translate="no" dir="ltr">android.hardware.fingerprint</code> feature which requires a
keystore backed by an isolated execution environment.</p>

<p>Automotive device implementations:</p>

<ul>
<li>[<a href="#9_14_automotive_system_isolation">9.14</a>/A-0-1] MUST gatekeep messages
from Android framework vehicle subsystems, e.g., whitelisting permitted message
types and message sources.</li>
<li>[<a href="#9_14_automotive_system_isolation">9.14</a>/A-0-2] MUST watchdog against
denial of service attacks from the Android framework or third-party apps. This
guards against malicious software flooding the vehicle network with traffic,
which may lead to malfunctioning vehicle subsystems.</li>
</ul>

<h4 id="256_developer_tools_and_options_compatibility" data-text="2.5.6. Developer Tools and Options Compatibility">2.5.6. Developer Tools and Options Compatibility</h4>

<p>Automotive device implementations:</p>

<ul>
<li><a href="https://developer.android.com/studio/command-line/perfetto"><strong>Perfetto</strong></a>
<ul>
<li>[<a href="#6_1_developer_tools">6.1</a>/A-0-1] MUST expose a <code translate="no" dir="ltr">/system/bin/perfetto</code>
binary to the shell user which cmdline complies with
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[<a href="#6_1_developer_tools">6.1</a>/A-0-2] The perfetto binary MUST accept as
input a protobuf config that complies with the schema defined in
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[<a href="#6_1_developer_tools">6.1</a>/A-0-3] The perfetto binary MUST write as
output a protobuf trace that complies with the schema defined in
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[<a href="#6_1_developer_tools">6.1</a>/A-0-4] MUST provide, through the perfetto
binary, at least the data sources described  in <a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
</ul></li>
</ul>

<h3 id="26_tablet_requirements" data-text="2.6. Tablet Requirements">2.6. Tablet Requirements</h3>

<p>An <strong>Android Tablet device</strong> refers to an Android device implementation that
typically meets all the following criteria:</p>

<ul>
<li>Used by holding in both hands.</li>
<li>Does not have a clamshell or convertible configuration.</li>
<li>Physical keyboard implementations used with the device connect by
means of a standard connection (e.g. USB, Bluetooth).</li>
<li>Has a power source that provides mobility, such as a battery.</li>
</ul>

<p>Tablet device implementations have similar requirements to handheld device
implementations. The exceptions are indicated by an * in that section
and noted for reference in this section.</p>

<h4 id="261_hardware" data-text="2.6.1. Hardware">2.6.1. Hardware</h4>

<p><strong>Screen Size</strong></p>

<ul>
<li>[<a href="#7_1_display_and_graphics">7.1</a>.1.1/Tab-0-1] MUST have a screen in the
range of 7 to 18 inches.</li>
</ul>

<p>** Gyroscope**</p>

<p>If Tablet device implementations include a 3-axis gyroscope, they:</p>

<ul>
<li>[<a href="#7_3_sensors">7.3</a>.4/Tab-1-1] MUST be capable of measuring orientation
changes up to 1000 degrees per second.</li>
</ul>

<p><strong>Minimum Memory and Storage (Section 7.6.1)</strong></p>

<p>The screen densities listed for small/normal screens in the handheld
requirements are not applicable to tablets.</p>

<p><strong>USB peripheral mode (Section 7.7.1)</strong></p>

<p>If tablet device implementations include a USB port supporting peripheral
mode, they:</p>

<ul>
<li>[<a href="#7_7_usb">7.7.1</a>/Tab] MAY implement the Android Open Accessory (AOA) API.</li>
</ul>

<p><strong>Virtual Reality Mode (Section 7.9.1)</strong></p>

<p><strong>Virtual Reality High Performance (Section 7.9.2)</strong></p>

<p>Virtual reality requirements are not applicable to tablets.</p>

<h4 id="262_security_model" data-text="2.6.2. Security Model">2.6.2. Security Model</h4>

<p><strong>Keys and Credentials (Section 9.11)</strong></p>

<p>Refer to Section [<a href="#9_11_permissions">9.11</a>].</p>

<p>If Tablet device implementations include multiple users and
do not declare the <code translate="no" dir="ltr">android.hardware.telephony</code> feature flag, they:</p>

<ul>
<li>[<a href="#9_5_multi-user-support">9.5</a>/T-1-1] MUST support restricted profiles,
a feature that allows device owners to manage additional users and their
capabilities on the device. With restricted profiles, device owners can
quickly set up separate environments for additional users to work in,
with the ability to manage finer-grained restrictions in the apps that
are available in those environments.</li>
</ul>

<p>If Tablet device implementations include multiple users and
declare the <code translate="no" dir="ltr">android.hardware.telephony</code> feature flag, they:</p>

<ul>
<li>[<a href="#9_5_multi-user-support">9.5</a>/T-2-1] MUST NOT support restricted
profiles but MUST align with the AOSP implementation of controls
to enable /disable other users from accessing the voice calls and SMS.</li>
</ul>

<h4 id="262_software" data-text="2.6.2. Software">2.6.2. Software</h4>

<ul>
<li>[<a href="#3_2_3_1_common_application_intents">3.2.3.1</a>/Tab-0-1]  MUST preload one
or more applications or service components with an intent handler, for all the
public intent filter patterns defined by the following application intents
listed <a href="https://developer.android.com/about/versions/11/reference/common-intents-30">here</a>.</li>
</ul>

<h2 id="3_software" data-text="3. Software">3. Software</h2>

<h3 id="31_managed_api_compatibility" data-text="3.1. Managed API Compatibility">3.1. Managed API Compatibility</h3>

<p>The managed Dalvik bytecode execution environment is the primary vehicle for
Android applications. The Android application programming interface (API) is the
set of Android platform interfaces exposed to applications running in the
managed runtime environment.</p>

<p>Device implementations:</p>

<ul>
<li><p>[C-0-1] MUST provide complete implementations, including all documented
 behaviors, of any documented API exposed by the <a href="http://developer.android.com/reference/packages.html">Android SDK</a>
 or any API decorated with the “@SystemApi” marker in the upstream Android
 source code.</p></li>
<li><p>[C-0-2] MUST support/preserve all classes, methods, and associated elements
 marked by the TestApi annotation (@TestApi).</p></li>
<li><p>[C-0-3] MUST NOT omit any managed APIs, alter API interfaces or signatures,
 deviate from the documented behavior, or include no-ops, except where
 specifically allowed by this Compatibility Definition.</p></li>
<li><p>[C-0-4] MUST still keep the APIs present and behave
 in a reasonable way, even when some hardware features for which Android
 includes APIs are omitted. See <a href="#7_hardware_compatibility">section 7</a>
 for specific requirements for this scenario.</p></li>
<li><p>[C-0-5] MUST NOT allow third-party apps to use non-SDK interfaces, which
 are defined as methods and fields in the Java language packages that are
 in the boot classpath in AOSP, and that do not form part of the public
 SDK. This includes APIs decorated with the <code translate="no" dir="ltr">@hide</code> annotation but not with
 a <code translate="no" dir="ltr">@SystemAPI</code>, as described in the <a href="https://developer.android.com/distribute/best-practices/develop/restrictions-non-sdk-interfaces">SDK documents</a>
 and private and package-private class members.</p></li>
<li><p>[C-0-6] MUST ship with each and every non-SDK interface on the same restricted
 lists as provided via the <code translate="no" dir="ltr">greylist</code>, <code translate="no" dir="ltr">greylist-max-o</code>, <code translate="no" dir="ltr">greylist-max-p</code>,
 and blacklist flags in <code translate="no" dir="ltr">prebuilts/runtime/appcompat/hiddenapi-flags.csv</code>
 path for the appropriate API level branch in the AOSP.</p></li>
<li><p>[C-0-7] MUST support the <a href="https://source.android.com/devices/tech/dalvik/signed-config">signed config</a>
 dynamic update mechanism to remove non-SDK interfaces from a restricted list
 by embedding signed configuration in any APK, using the existing public keys
 present in AOSP.</p>

<p>However they:</p>

<ul>
<li>MAY, if a hidden API is absent or implemented differently on the device
 implementation, move the hidden API into the blacklist or omit it from
 all restricted lists (i.e. light-grey, dark-grey, black).</li>
<li>MAY, if a hidden API does not already exist in the AOSP, add the hidden
 API to any of the restricted lists (i.e. light-grey, dark-grey, black).</li>
</ul></li>
</ul>

<h4 id="311_android_extensions" data-text="3.1.1. Android Extensions">3.1.1. Android Extensions</h4>

<p>Android supports extending the managed API surface of a particular API level by
updating the extension version for that API level. The
<code translate="no" dir="ltr">android.os.ext.SdkExtensions.getExtensionVersion(int apiLevel)</code> API returns the
extension version of the provided <code translate="no" dir="ltr">apiLevel</code>, if there are extensions for that
API level.</p>

<p>Android device implementations:</p>

<ul>
<li><p>[C-0-1] MUST preload the AOSP implementation of both the shared library
<code translate="no" dir="ltr">ExtShared</code> and services <code translate="no" dir="ltr">ExtServices</code> with versions greater than or equal to
the minimum versions allowed per each API level. For example, Android 7.0
device implementations, running API level 24 MUST include at least
version 1.</p></li>
<li><p>[C-0-2] MUST only return valid extension version number that have been
defined by the AOSP.</p></li>
<li><p>[C-0-3] MUST support all the APIs defined by the extension versions
returned by <code translate="no" dir="ltr">android.os.ext.SdkExtensions.getExtensionVersion(int apiLevel)</code>
in the same manner as other managed APIs are supported, following the
requirements in <a href="#3_1_managed-api-compatibility">section 3.1</a>.</p></li>
</ul>

<h4 id="312_android_library" data-text="3.1.2. Android Library">3.1.2. Android Library</h4>

<p>Due to <a href="https://developer.android.com/preview/behavior-changes#apache-p">Apache HTTP client deprecation</a>,
device implementations:</p>

<ul>
<li>[C-0-1] MUST NOT place the <code translate="no" dir="ltr">org.apache.http.legacy</code> library in the
bootclasspath.</li>
<li>[C-0-2] MUST add the <code translate="no" dir="ltr">org.apache.http.legacy</code> library to the application
classpath only when the app satisfies one of the following conditions:
<ul>
<li>Targets API level 28 or lower.</li>
<li>Declares in its manifest that it needs the library by setting the
<code translate="no" dir="ltr">android:name</code> attribute of <code translate="no" dir="ltr">&lt;uses-library&gt;</code> to <code translate="no" dir="ltr">org.apache.http.legacy</code>.</li>
</ul></li>
</ul>

<p>The AOSP implementation meets these requirements.</p>

<h3 id="32_soft_api_compatibility" data-text="3.2. Soft API Compatibility">3.2. Soft API Compatibility</h3>

<p>In addition to the managed APIs from <a href="#3_1_managed_api_compatibility">section 3.1</a>,
Android also includes a significant runtime-only “soft” API, in the form of such
things as intents, permissions, and similar aspects of Android applications that
cannot be enforced at application compile time.</p>

<h4 id="321_permissions" data-text="3.2.1. Permissions">3.2.1. Permissions</h4>

<ul>
<li>[C-0-1] Device implementers MUST support and enforce all permission
constants as documented by the <a href="http://developer.android.com/reference/android/Manifest.permission.html">Permission reference page</a>.
Note that <a href="#9_security_model_compatibility">section 9</a> lists additional
requirements related to the Android security model.</li>
</ul>

<h4 id="322_build_parameters" data-text="3.2.2. Build Parameters">3.2.2. Build Parameters</h4>

<p>The Android APIs include a number of constants on the
<a href="http://developer.android.com/reference/android/os/Build.html">android.os.Build class</a>
that are intended to describe the current device.</p>

<ul>
<li>[C-0-1] To provide consistent, meaningful values across device
implementations, the table below includes additional restrictions on the formats
of these values to which device implementations MUST conform.</li>
</ul>

<table>
 <tr>
    <th>Parameter</th>
    <th>Details</th>
 </tr>
 <tr>
    <td>VERSION.RELEASE</td>
    <td>The version of the currently-executing Android system, in human-readable
    format. This field MUST have one of the string values defined in
    <a href="http://source.android.com/compatibility/12/versions.html">12</a>.</td>
 </tr>
 <tr>
    <td>VERSION.SDK</td>
    <td>The version of the currently-executing Android system, in a format
    accessible to third-party application code. For Android 12,
    this field MUST have the integer value 12_INT.</td>
 </tr>
 <tr>
    <td>VERSION.SDK_INT</td>
    <td>The version of the currently-executing Android system, in a format
    accessible to third-party application code. For Android 12,
    this field MUST have the integer value 12_INT.</td>
 </tr>
 <tr>
    <td>VERSION.INCREMENTAL</td>
    <td>A value chosen by the device implementer designating the specific build
    of the currently-executing Android system, in human-readable format. This
    value MUST NOT be reused for different builds made available to end users. A
    typical use of this field is to indicate which build number or
    source-control change identifier was used to generate the build. The value
    of this field MUST be encodable as printable 7-bit ASCII and match the
    regular expression &ldquo;^[^ :\/~]+$&rdquo;.</td>
 </tr>
 <tr>
    <td>BOARD</td>
    <td>A value chosen by the device implementer identifying the specific
    internal hardware used by the device, in human-readable format. A possible
    use of this field is to indicate the specific revision of the board powering
    the device. The value of this field MUST be encodable as 7-bit ASCII and
    match the regular expression &ldquo;^[a-zA-Z0-9_-]+$&rdquo;.</td>
 </tr>
 <tr>
    <td>BRAND</td>
    <td>A value reflecting the brand name associated with the device as known to
    the end users. MUST be in human-readable format and SHOULD represent the
    manufacturer of the device or the company brand under which the device is
    marketed. The value of this field MUST be encodable as 7-bit ASCII and match
    the regular expression &ldquo;^[a-zA-Z0-9_-]+$&rdquo;.</td>
 </tr>
 <tr>
    <td>SUPPORTED_ABIS</td>
    <td>The name of the instruction set (CPU type + ABI convention) of native
    code. See <a href="#3_3_native_api_compatibility">section 3.3. Native API
    Compatibility</a>.</td>
 </tr>
 <tr>
    <td>SUPPORTED_32_BIT_ABIS</td>
    <td>The name of the instruction set (CPU type + ABI convention) of native
    code. See <a href="#3_3_native_api_compatibility">section 3.3. Native API
    Compatibility</a>.</td>
 </tr>
 <tr>
    <td>SUPPORTED_64_BIT_ABIS</td>
    <td>The name of the second instruction set (CPU type + ABI convention) of
    native code. See <a href="#3_3_native_api_compatibility">section 3.3. Native
    API Compatibility</a>.</td>
 </tr>
 <tr>
    <td>CPU_ABI</td>
    <td>The name of the instruction set (CPU type + ABI convention) of native
    code. See <a href="#3_3_native_api_compatibility">section 3.3. Native API
    Compatibility</a>.</td>
 </tr>
 <tr>
    <td>CPU_ABI2</td>
    <td>The name of the second instruction set (CPU type + ABI convention) of
    native code. See <a href="#3_3_native_api_compatibility">section 3.3. Native
    API Compatibility</a>.</td>
 </tr>
 <tr>
    <td>DEVICE</td>
    <td>A value chosen by the device implementer containing the development name
    or code name identifying the configuration of the hardware features and
    industrial design of the device. The value of this field MUST be encodable
    as 7-bit ASCII and match the regular expression
    &ldquo;^[a-zA-Z0-9_-]+$&rdquo;. This device name MUST NOT change during the
    lifetime of the product.</td>
 </tr>
 <tr>
    <td>FINGERPRINT</td>
    <td>A string that uniquely identifies this build. It SHOULD be reasonably
    human-readable. It MUST follow this template:
    <p class="small">$(BRAND)/$(PRODUCT)/<br>
        &nbsp;&nbsp;&nbsp;&nbsp;$(DEVICE):$(VERSION.RELEASE)/$(ID)/$(VERSION.INCREMENTAL):$(TYPE)/$(TAGS)</p>
    <p>For example:</p>
<p class="small">acme/myproduct/<br>
      &nbsp;&nbsp;&nbsp;&nbsp;mydevice:12/LMYXX/3359:userdebug/test-keys</p>
      <p>The fingerprint MUST NOT include whitespace characters. The value of
      this field MUST be encodable as 7-bit ASCII.</p></td>
 </tr>
 <tr>
    <td>HARDWARE</td>
    <td>The name of the hardware (from the kernel command line or /proc). It
    SHOULD be reasonably human-readable. The value of this field MUST be
    encodable as 7-bit ASCII and match the regular expression
    &ldquo;^[a-zA-Z0-9_-]+$&rdquo;.</td>
 </tr>
 <tr>
    <td>HOST</td>
    <td>A string that uniquely identifies the host the build was built on, in
    human-readable format. There are no requirements on the specific format of
    this field, except that it MUST NOT be null or the empty string ("").</td>
 </tr>
 <tr>
    <td>ID</td>
    <td>An identifier chosen by the device implementer to refer to a specific
    release, in human-readable format. This field can be the same as
    android.os.Build.VERSION.INCREMENTAL, but SHOULD be a value sufficiently
    meaningful for end users to distinguish between software builds. The value
    of this field MUST be encodable as 7-bit ASCII and match the regular
    expression &ldquo;^[a-zA-Z0-9._-]+$&rdquo;.</td>
 </tr>
 <tr>
    <td>MANUFACTURER</td>
    <td>The trade name of the Original Equipment Manufacturer (OEM) of the
    product. There are no requirements on the specific format of this field,
    except that it MUST NOT be null or the empty string (""). This field
    MUST NOT change during the lifetime of the product.</td>
 </tr>
 <tr>
    <td>SOC_MANUFACTURER</td>
    <td>The trade of name of the manufacturer of the primary system on
      chip (SOC) used in the product. Devices with the same SOC manufacturer
      should use the same constant value. Please ask the SOC manufacturer for
      the correct constant to use. The value of this field MUST be encodable
      as 7-bit ASCII, MUST match the regular expression
      &ldquo;^([0-9A-Za-z ]+)&rdquo;, MUST NOT start or end with whitespace,
      and MUST NOT be equal to “unknown”. This field MUST NOT change during the
      lifetime of the product. </td>
 </tr>
 <tr>
    <td>SOC_MODEL</td>
    <td>The model name of the primary system on a chip (SOC) used in
      the product. Devices with the same SOC model should use the same constant
      value. Please ask the SOC manufacturer for the correct constant to use.
      The value of this field MUST be encodable as 7-bit ASCII and match the
      regular expression &ldquo;^([0-9A-Za-z ._/+-]+)$&rdquo;, MUST NOT start or
      end with whitespace, and MUST NOT be equal to “unknown”. This field
      MUST NOT change during the lifetime of the product.</td>
 </tr>
 <tr>
    <td>MODEL</td>
    <td>A value chosen by the device implementer containing the name of the
    device as known to the end user. This SHOULD be the same name under which
    the device is marketed and sold to end users. There are no requirements on
    the specific format of this field, except that it MUST NOT be null or the
    empty string (""). This field MUST NOT change during the
    lifetime of the product.</td>
 </tr>
 <tr>
    <td>PRODUCT</td>
    <td>A value chosen by the device implementer containing the development name
    or code name of the specific product (SKU) that MUST be unique within the
    same brand. MUST be human-readable, but is not necessarily intended for view
    by end users. The value of this field MUST be encodable as 7-bit ASCII and
    match the regular expression &ldquo;^[a-zA-Z0-9_-]+$&rdquo;. This product
    name MUST NOT change during the lifetime of the product.</td>
 </tr>
 <tr>
    <td>ODM_SKU</td>
    <td>An optional value chosen by the device implementer that contains
      SKU (Stock Keeping Unit) used to track specific configurations of the
      device, for example, any peripherals included with the device when sold.
      The value of this field MUST be encodable as 7-bit ASCII and match the
      regular expression “[0-9A-Za-z.,_-])"</td>
 </tr>
 <tr>
    <td>SERIAL</td>
    <td>MUST return "UNKNOWN".</td>
 </tr>
 <tr>
    <td>TAGS</td>
    <td>A comma-separated list of tags chosen by the device implementer that
    further distinguishes the build. The tags MUST be encodable as 7-bit ASCII
    and match the regular expression &ldquo;^[a-zA-Z0-9._-]+&rdquo; and MUST
    have one of the values corresponding to the three typical Android platform
    signing configurations: release-keys, dev-keys, and test-keys.</td>
 </tr>
 <tr>
    <td>TIME</td>
    <td>A value representing the timestamp of when the build occurred.</td>
 </tr>
 <tr>
    <td>TYPE</td>
    <td>A value chosen by the device implementer specifying the runtime
    configuration of the build. This field MUST have one of the values
    corresponding to the three typical Android runtime configurations: user,
    userdebug, or eng.</td>
 </tr>
 <tr>
    <td>USER</td>
    <td>A name or user ID of the user (or automated user) that generated the
    build. There are no requirements on the specific format of this field,
    except that it MUST NOT be null or the empty string ("").</td>
 </tr>
 <tr>
    <td>SECURITY_PATCH</td>
    <td>A value indicating the security patch level of a build. It MUST signify
    that the build is not in any way vulnerable to any of the issues described
    up through the designated Android Public Security Bulletin. It MUST be in
    the format [YYYY-MM-DD], matching a defined string documented in the
    <a href="http://source.android.com/security/bulletin"> Android Public Security
    Bulletin</a> or in the <a href="http://source.android.com/security/advisory">
    Android Security Advisory</a>, for example "2015-11-01".</td>
 </tr>
 <tr>
    <td>BASE_OS</td>
    <td>A value representing the FINGERPRINT parameter of the build that is
    otherwise identical to this build except for the patches provided in the
    Android Public Security Bulletin. It MUST report the correct value and if
    such a build does not exist, report an empty string ("").</td>
 </tr>
 <tr>
    <td><a href="https://developer.android.com/reference/android/os/Build.html#BOOTLOADER">BOOTLOADER</a></td>
    <td> A value chosen by the device implementer identifying the specific
    internal bootloader version used in the device, in human-readable format.
    The value of this field MUST be encodable as 7-bit ASCII and match the
    regular expression &ldquo;^[a-zA-Z0-9._-]+$&rdquo;.</td>
 </tr>
 <tr>
    <td><a href="https://developer.android.com/reference/android/os/Build.html#getRadioVersion()">getRadioVersion()</a></td>
    <td> MUST (be or return) a value chosen by the device implementer
    identifying the specific internal radio/modem version used in the device,
    in human-readable format. If a device does not have any internal
    radio/modem it MUST return NULL. The value of this field MUST be
    encodable as 7-bit ASCII and match the regular expression
    &ldquo;^[a-zA-Z0-9._-,]+$&rdquo;.</td>
 </tr>
 <tr>
    <td><a href="https://developer.android.com/reference/android/os/Build.html#getSerial()">getSerial()</a></td>
    <td> MUST (be or return) a hardware serial number, which MUST be available
    and unique across devices with the same MODEL and MANUFACTURER. The value of
    this field MUST be encodable as 7-bit ASCII and match the regular expression
    &ldquo;^[a-zA-Z0-9._-,]+$&rdquo;.</td>
 </tr>
</table>

<h4 id="323_intent_compatibility" data-text="3.2.3. Intent Compatibility">3.2.3. Intent Compatibility</h4>

<h5 id="3231_common_application_intents" data-text="3.2.3.1. Common Application Intents">3.2.3.1. Common Application Intents</h5>

<p>Android intents allow application components to request functionality from
other Android components. The Android upstream project includes a list of
applications which implement several intent patterns to perform common actions.</p>

<p>Device implementations:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to preload one or more applications or
service components with an intent handler, for all the public intent filter
patterns defined by the following application intents listed <a href="https://developer.android.com/about/versions/11/reference/common-intents-30">here</a>
and provide fulfillment i.e meet with the developer expectation for these common
application intents as described in the SDK.</li>
</ul>

<p>Please refer to <a href="#2_device_types">Section 2</a> for mandatory application intents
for each device type.</p>

<h5 id="3232_intent_resolution" data-text="3.2.3.2. Intent Resolution">3.2.3.2. Intent Resolution</h5>

<ul>
<li><p>[C-0-1] As Android is an extensible platform, device implementations MUST
allow each intent pattern referenced in <a href="#3_2_3_1_common_application_intents">section 3.2.3.1</a>
, except for Settings, to be overridden by third-party applications. The
upstream Android open source implementation allows this by default.</p></li>
<li><p>[C-0-2] Device implementers MUST NOT attach special privileges to system
applications&#39; use of these intent patterns, or prevent third-party applications
from binding to and assuming control of these patterns. This prohibition
specifically includes but is not limited to disabling the “Chooser” user
interface that allows the user to select between multiple applications that all
handle the same intent pattern.</p></li>
<li><p>[C-0-3] Device implementations MUST provide a user interface for users to
modify the default activity for intents.</p></li>
<li><p>However, device implementations MAY provide default activities for specific
URI patterns (e.g. http://play.google.com) when the default activity provides a
more specific attribute for the data URI. For example, an intent filter pattern
specifying the data URI “http://www.android.com” is more specific than the
browser&#39;s core intent pattern for “http://”.</p></li>
</ul>

<p>Android also includes a mechanism for third-party apps to declare an
authoritative default <a href="https://developer.android.com/training/app-links">app linking behavior</a>
for certain types of web URI intents. When such authoritative declarations are
defined in an app&#39;s intent filter patterns, device implementations:</p>

<ul>
<li>[C-0-4] MUST attempt to validate any intent filters by performing the
validation steps defined in the <a href="https://developers.google.com/digital-asset-links">Digital Asset Links specification</a>
as implemented by the Package Manager in the upstream Android Open Source
Project.</li>
<li>[C-0-5] MUST attempt validation of the intent filters during the installation of
the application and set all successfully validated URI intent filters as
default app handlers for their URIs.</li>
<li>MAY set specific URI intent filters as default app handlers for their URIs,
if they are successfully verified but other candidate URI filters fail
verification. If a device implementation does this, it MUST provide the
user appropriate per-URI pattern overrides in the settings menu.</li>
<li>MUST provide the user with per-app App Links controls in Settings as
follows:
<ul>
<li>[C-0-6] The user MUST be able to override holistically the default app
links behavior for an app to be: always open, always ask, or never open,
which must apply to all candidate URI intent filters equally.</li>
<li>[C-0-7] The user MUST be able to see a list of the candidate URI intent
filters.</li>
<li>The device implementation MAY provide the user with the ability to
override specific candidate URI intent filters that were successfully
verified, on a per-intent filter basis.</li>
<li>[C-0-8] The device implementation MUST provide users with the ability to
view and override specific candidate URI intent filters if the device
implementation lets some candidate URI intent filters succeed
verification while some others can fail.</li>
</ul></li>
</ul>

<h5 id="3233_intent_namespaces" data-text="3.2.3.3. Intent Namespaces">3.2.3.3. Intent Namespaces</h5>

<ul>
<li>[C-0-1] Device implementations MUST NOT include any Android component that
honors any new intent or broadcast intent patterns using an ACTION, CATEGORY, or
other key string in the android.* or com.android.* namespace.</li>
<li>[C-0-2] Device implementers MUST NOT include any Android components that
honor any new intent or broadcast intent patterns using an ACTION, CATEGORY, or
other key string in a package space belonging to another organization.</li>
<li>[C-0-3] Device implementers MUST NOT alter or extend any of the intent
patterns listed in <a href="#3_2_3_1_common_application_intents">section 3.2.3.1</a>.</li>
<li>Device implementations MAY include intent patterns using namespaces clearly
and obviously associated with their own organization. This prohibition is
analogous to that specified for Java language classes in <a href="#3_6_api_namespaces">section 3.6</a>.</li>
</ul>

<h5 id="3234_broadcast_intents" data-text="3.2.3.4. Broadcast Intents">3.2.3.4. Broadcast Intents</h5>

<p>Third-party applications rely on the platform to broadcast certain intents to
notify them of changes in the hardware or software environment.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST broadcast the public broadcast intents listed <a href="https://developer.android.com/about/versions/11/reference/broadcast-intents-30">here</a>
in response to appropriate system events as described in the SDK documentation.
Note that this requirement is not conflicting with section 3.5 as the
limitation for background applications are also described in the SDK
documentation. Also certain broadcast intents are conditional upon hardware
support, if the device supports the necessary hardware they MUST broadcast the
intents and provide the behavior in line with SDK documentation.</li>
</ul>

<h5 id="3235_conditional_application_intents" data-text="3.2.3.5. Conditional Application Intents">3.2.3.5. Conditional Application Intents</h5>

<p>Android includes settings that provide users an easy way to select their
default applications, for example for Home screen or SMS.</p>

<p>Where it makes sense, device implementations MUST provide a similar settings
menu and be compatible with the intent filter pattern and API methods described
in the SDK documentation as below.</p>

<p>If device implementations report <code translate="no" dir="ltr">android.software.home_screen</code>, they:</p>

<ul>
<li>[C-1-1] MUST honor the <a href="http://developer.android.com/reference/android/provider/Settings.html#ACTION_HOME_SETTINGS"><code translate="no" dir="ltr">android.settings.HOME_SETTINGS</code></a>
intent to show a default app settings menu for Home Screen.</li>
</ul>

<p>If device implementations report <code translate="no" dir="ltr">android.hardware.telephony</code>, they:</p>

<ul>
<li><p>[C-2-1] MUST provide a settings menu that will call the
<a href="http://developer.android.com/reference/android/provider/Telephony.Sms.Intents.html#ACTION_CHANGE_DEFAULT"><code translate="no" dir="ltr">android.provider.Telephony.ACTION_CHANGE_DEFAULT</code></a>
intent to show a dialog to change the default SMS application.</p></li>
<li><p>[C-2-2] MUST honor the <a href="https://developer.android.com/reference/android/telecom/TelecomManager.html#ACTION_CHANGE_DEFAULT_DIALER"><code translate="no" dir="ltr">android.telecom.action.CHANGE_DEFAULT_DIALER</code></a>
intent to show a dialog to allow the user to change the default Phone
application.</p>

<ul>
<li>MUST use the user-selected default Phone app&#39;s UI for incoming and
outgoing calls except for emergency calls, which would use the
preinstalled Phone app.</li>
</ul></li>
<li><p>[C-2-3] MUST honor the <a href="https://developer.android.com/reference/android/telecom/TelecomManager.html#ACTION_CHANGE_PHONE_ACCOUNTS">android.telecom.action.CHANGE_PHONE_ACCOUNTS</a>
intent to provide user affordance to configure the <a href="https://developer.android.com/reference/android/telecom/ConnectionService.html"><code translate="no" dir="ltr">ConnectionServices</code></a>
associated with the <a href="https://developer.android.com/reference/android/telecom/PhoneAccount.html"><code translate="no" dir="ltr">PhoneAccounts</code></a>, as
well as a default PhoneAccount that the telecommunications service provider will
use to place outgoing calls. The AOSP implementation meets this requirement by
including a &quot;Calling Accounts option&quot; menu within the &quot;Calls&quot; settings menu.</p></li>
<li><p>[C-2-4] MUST allow <a href="https://developer.android.com/reference/android/telecom/CallRedirectionService"><code translate="no" dir="ltr">android.telecom.CallRedirectionService</code></a>
for an app that holds the <a href="https://developer.android.com/reference/android/app/role/RoleManager#ROLE_CALL_REDIRECTION"><code translate="no" dir="ltr">android.app.role.CALL_REDIRECTION</code></a>
role.</p></li>
<li><p>[C-2-5] MUST provide the user affordance to choose an app that holds the
<a href="https://developer.android.com/reference/android/app/role/RoleManager#ROLE_CALL_REDIRECTION"><code translate="no" dir="ltr">android.app.role.CALL_REDIRECTION</code></a>
role.</p></li>
<li><p>[C-2-6] MUST honor the <a href="https://developer.android.com/reference/android/content/Intent#ACTION_SENDTO">android.intent.action.SENDTO</a>
and <a href="https://developer.android.com/reference/android/content/Intent#ACTION_VIEW">android.intent.action.VIEW</a>
intents and provide an activity to send/display SMS messages.</p></li>
<li><p>[C-SR] Are Strongly Recommended to honor <a href="https://developer.android.com/reference/android/content/Intent#ACTION_ANSWER">android.intent.action.ANSWER</a>,
<a href="https://developer.android.com/reference/android/content/Intent#ACTION_CALL">android.intent.action.CALL</a>,
<a href="https://developer.android.com/reference/android/content/Intent#ACTION_CALL_BUTTON">android.intent.action.CALL_BUTTON</a>,
<a href="https://developer.android.com/reference/android/content/Intent#ACTION_VIEW">android.intent.action.VIEW</a>
&amp; <a href="https://developer.android.com/reference/android/content/Intent#ACTION_DIAL">android.intent.action.DIAL</a>
intents with a preloaded dialer application which can handle these intents and
provide fulfillment as described in the SDK.</p></li>
</ul>

<p>If device implementations report <code translate="no" dir="ltr">android.hardware.nfc.hce</code>, they:</p>

<ul>
<li>[C-3-1] MUST honor the <a href="http://developer.android.com/reference/android/provider/Settings.html#ACTION_NFC_PAYMENT_SETTINGS">android.settings.NFC_PAYMENT_SETTINGS</a>
intent to show a default app settings menu for Contactless payment.</li>
<li>[C-3-2] MUST honor <a href="https://developer.android.com/reference/android/nfc/cardemulation/CardEmulation#ACTION_CHANGE_DEFAULT">android.nfc.cardemulation.action.ACTION_CHANGE_DEFAULT</a>
intent to show an activity which opens a dialog to ask the user to change the
default card emulation service for a certain category as described in the SDK.</li>
</ul>

<p>If device implementations report <code translate="no" dir="ltr">android.hardware.nfc</code>, they:</p>

<ul>
<li>[C-4-1] MUST honor these intents <a href="https://developer.android.com/reference/android/nfc/NfcAdapter#ACTION_NDEF_DISCOVERED">android.nfc.action.NDEF_DISCOVERED</a>,
<a href="https://developer.android.com/reference/android/nfc/NfcAdapter#ACTION_TAG_DISCOVERED">android.nfc.action.TAG_DISCOVERED</a>
&amp; <a href="https://developer.android.com/reference/android/nfc/NfcAdapter#ACTION_TECH_DISCOVERED">android.nfc.action.TECH_DISCOVERED</a>,
to show an activity which fulfils developer expectations for these intents as
described in the SDK.</li>
</ul>

<p>If device implementations support the <code translate="no" dir="ltr">VoiceInteractionService</code> and have more
than one application using this API installed at a time, they:</p>

<ul>
<li>[C-4-1] MUST honor the <a href="https://developer.android.com/reference/android/provider/Settings.html#ACTION_VOICE_INPUT_SETTINGS"><code translate="no" dir="ltr">android.settings.ACTION_VOICE_INPUT_SETTINGS</code></a>
intent to show a default app settings menu for voice input and assist.</li>
</ul>

<p>If device implementations report <code translate="no" dir="ltr">android.hardware.bluetooth</code>, they:</p>

<ul>
<li>[C-5-1] MUST honor the <a href="https://developer.android.com/reference/kotlin/android/bluetooth/BluetoothAdapter#action_request_enable">‘android.bluetooth.adapter.action.REQUEST_ENABLE’</a>
intent and show a system activity to allow the user to turn on Bluetooth. </li>
<li>[C-5-2] MUST honor the
<a href="https://developer.android.com/reference/android/bluetooth/BluetoothAdapter#ACTION_REQUEST_DISCOVERABLE">‘android.bluetooth.adapter.action.REQUEST_DISCOVERABLE’</a>
intent and show a system activity that requests discoverable mode.</li>
</ul>

<p>If device implementations support the DND feature, they:</p>

<ul>
<li>[C-6-1] MUST implement an activity that would respond to the intent
<a href="https://developer.android.com/reference/android/provider/Settings#ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS"><code translate="no" dir="ltr">ACTION_NOTIFICATION_POLICY_ACCESS_SETTINGS</code></a>,
which for implementations with UI_MODE_TYPE_NORMAL it MUST be an activity where
the user can grant or deny the app access to DND policy configurations.</li>
</ul>

<p>If device implementations allow users to use third-party input methods on the
device, they:</p>

<ul>
<li>[C-7-1] MUST provide a user-accessible mechanism to add and configure
third-party input methods in response to the
<a href="https://developer.android.com/reference/android/provider/Settings#ACTION_INPUT_METHOD_SETTINGS"><code translate="no" dir="ltr">android.settings.INPUT_METHOD_SETTINGS</code></a>
intent.</li>
</ul>

<p>If device implementations support third-party accessibility services, they:</p>

<ul>
<li>[C-8-1] MUST honor the <a href="https://developer.android.com/reference/android/provider/Settings#ACTION_ACCESSIBILITY_SETTINGS"><code translate="no" dir="ltr">android.settings.ACCESSIBILITY_SETTINGS</code></a>
intent to provide a user-accessible mechanism to enable and disable the
third-party accessibility services alongside the preloaded accessibility
services.</li>
</ul>

<p>If device implementations include support for Wi-Fi Easy Connect and expose the
functionality to third-party apps, they:</p>

<ul>
<li>[C-9-1] MUST implement the <a href="https://developer.android.com/reference/android/provider/Settings.html#ACTION_PROCESS_WIFI_EASY_CONNECT_URI">Settings#ACTION_PROCESS_WIFI_EASY_CONNECT_URI</a>
Intent APIs as described in the SDK documentation.</li>
</ul>

<p>If device implementations provide the data saver mode, they:
*   [C-10-1] MUST provide a user interface in the settings, that handles the
<a href="https://developer.android.com/reference/android/provider/Settings.html#ACTION_IGNORE_BACKGROUND_DATA_RESTRICTIONS_SETTINGS"><code translate="no" dir="ltr">Settings.ACTION_IGNORE_BACKGROUND_DATA_RESTRICTIONS_SETTINGS</code></a>
intent, allowing users to add applications to or remove applications from
the allow list.</p>

<p>If device implementations do not provide the data saver mode, they:</p>

<ul>
<li>[C-11-1] MUST have an activity that handles the
<a href="https://developer.android.com/reference/android/provider/Settings#ACTION_IGNORE_BACKGROUND_DATA_RESTRICTIONS_SETTINGS"><code translate="no" dir="ltr">Settings.ACTION_IGNORE_BACKGROUND_DATA_RESTRICTIONS_SETTINGS</code></a>
intent but MAY implement it as a no-op.</li>
</ul>

<p>If device implementations declare the support for camera via
<code translate="no" dir="ltr">android.hardware.camera.any</code> they:</p>

<ul>
<li>[C-12-1] MUST honor the <a href="https://developer.android.com/reference/android/provider/MediaStore#INTENT_ACTION_STILL_IMAGE_CAMERA"><code translate="no" dir="ltr">android.media.action.STILL_IMAGE_CAMERA</code></a>
and <a href="https://developer.android.com/reference/android/provider/MediaStore#INTENT_ACTION_STILL_IMAGE_CAMERA_SECURE"><code translate="no" dir="ltr">android.media.action.STILL_IMAGE_CAMERA_SECURE</code></a>
intent and launch the camera in still image mode as described in the SDK.</li>
<li>[C-12-2] MUST honor the <a href="https://developer.android.com/reference/android/provider/MediaStore#INTENT_ACTION_VIDEO_CAMERA"><code translate="no" dir="ltr">android.media.action.VIDEO_CAMERA</code></a>
intent to launch the camera in video mode as described in the SDK.</li>
<li>[C-12-3] MUST honor only allow preinstalled Android applications to handle
the following intents <a href="https://developer.android.com/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE"><code translate="no" dir="ltr">MediaStore.ACTION_IMAGE_CAPTURE</code></a>,
<a href="https://developer.android.com/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE_SECURE"><code translate="no" dir="ltr">MediaStore.ACTION_IMAGE_CAPTURE_SECURE</code></a>,
and <a href="https://developer.android.com/reference/android/provider/MediaStore.html#ACTION_VIDEO_CAPTURE"><code translate="no" dir="ltr">MediaStore.ACTION_VIDEO_CAPTURE</code></a>
as described in the <a href="https://developer.android.com/preview/behavior-changes-11?hl=zh-tw#media-capture">SDK document</a>.</li>
</ul>

<p>If device implementations report <code translate="no" dir="ltr">android.software.device_admin</code>, they:</p>

<ul>
<li><p>[C-13-1] MUST honor the intent <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_ADD_DEVICE_ADMIN"><code translate="no" dir="ltr">android.app.action.ADD_DEVICE_ADMIN</code></a>
to invoke a UI to bring the user through adding the device administrator to
the system (or allowing them to reject it).</p></li>
<li><p>[C-13-2] MUST honor the  intents
<a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_PROVISION_MANAGED_PROFILE">android.app.action.PROVISION_MANAGED_PROFILE</a>,
<a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_SET_NEW_PARENT_PROFILE_PASSWORD">android.app.action.SET_NEW_PARENT_PROFILE_PASSWORD</a>,
<a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_SET_NEW_PASSWORD">android.app.action.SET_NEW_PASSWORD</a>
&amp; <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_START_ENCRYPTION">android.app.action.START_ENCRYPTION</a>
and have an activity to provide fulfillment for these intents as described
in SDK <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager">here</a>.</p></li>
</ul>

<p>If device implementations declare the <a href="https://developer.android.com/reference/android/content/pm/PackageManager.html#FEATURE_AUTOFILL"><code translate="no" dir="ltr">android.software.autofill</code></a>
feature flag, they:</p>

<ul>
<li>[C-14-1] MUST fully implement the <a href="https://developer.android.com/reference/android/service/autofill/AutofillService.html"><code translate="no" dir="ltr">AutofillService</code></a>
and <a href="https://developer.android.com/reference/android/view/autofill/AutofillManager.html"><code translate="no" dir="ltr">AutofillManager</code></a>
APIs and honor the <a href="https://developer.android.com/reference/android/provider/Settings.html#ACTION_REQUEST_SET_AUTOFILL_SERVICE">android.settings.REQUEST_SET_AUTOFILL_SERVICE</a>
intent to show a default app settings menu to enable and disable autofill and
change the default autofill service for the user.</li>
</ul>

<p>If device implementations include a pre-installed app or wish to allow
third-party apps to access the usage statistics, they:</p>

<ul>
<li>[C-SR] are STRONGLY RECOMMENDED provide user-accessible mechanism to grant
or revoke access to the usage stats in response to the
<a href="https://developer.android.com/reference/android/provider/Settings.html#ACTION&amp;lowbar;USAGE&amp;lowbar;ACCESS&amp;lowbar;SETTINGS">android.settings.ACTION_USAGE_ACCESS_SETTINGS</a>
intent for apps that declare the <code translate="no" dir="ltr">android.permission.PACKAGE_USAGE_STATS</code>
permission.</li>
</ul>

<p>If device implementations intend to disallow any apps, including pre-installed
apps, from accessing the usage statistics, they:</p>

<ul>
<li>[C-15-1] MUST still have an activity that handles the
<a href="https://developer.android.com/reference/android/provider/Settings.html#ACTION&amp;lowbar;USAGE&amp;lowbar;ACCESS&amp;lowbar;SETTINGS">android.settings.ACTION_USAGE_ACCESS_SETTINGS</a>
intent pattern but MUST implement it as a no-op, that is to have an equivalent
behavior as when the user is declined for access.</li>
</ul>

<p>If device implementations surface links to the activities specified by
<a href="https://developer.android.com/reference/android/R.styleable#AutofillService">AutofillService_passwordsActivity</a>
in Settings or links to user passwords through a similar mechanism, they:</p>

<ul>
<li>[C-16-1] MUST surface such links for all installed autofill services.</li>
</ul>

<p>If device implementations report the feature <code translate="no" dir="ltr">android.hardware.audio.output</code>,
they:</p>

<ul>
<li>[C-SR] Are Strongly Recommended to honor android.intent.action.TTS_SERVICE,
android.speech.tts.engine.INSTALL_TTS_DATA &amp;
android.speech.tts.engine.GET_SAMPLE_TEXT intents have an activity to provide
fulfillment for these intents as described in SDK <a href="https://developer.android.com/reference/android/speech/tts/TextToSpeech.Engine">here</a>.</li>
</ul>

<p>Android includes support for interactive screensavers, previously referred to
as Dreams. Screen Savers allow users to interact with applications when a device
connected to a power source is idle or docked in a desk dock.
Device Implementations:</p>

<ul>
<li>SHOULD include support for screen savers and provide a settings option for
users to configure screen savers in response to the
<code translate="no" dir="ltr">android.settings.DREAM_SETTINGS</code> intent. </li>
</ul>

<h4 id="324_activities_on_secondarymultiple_displays" data-text="3.2.4. Activities on secondary/multiple displays">3.2.4. Activities on secondary/multiple displays</h4>

<p>If device implementations allow launching normal <a href="https://developer.android.com/reference/android/app/Activity.html">Android Activities</a> on more than
one display, they:</p>

<ul>
<li>[C-1-1] MUST set the <code translate="no" dir="ltr">android.software.activities_on_secondary_displays</code>
feature flag.</li>
<li>[C-1-2] MUST guarantee API compatibility similar to an activity running on
the primary display.</li>
<li>[C-1-3] MUST land the new activity on the same display as the activity that
launched it, when the new activity is launched without specifying a target
display via the <a href="https://developer.android.com/reference/android/app/ActivityOptions.html#setLaunchDisplayId%28int%29"><code translate="no" dir="ltr">ActivityOptions.setLaunchDisplayId()</code></a>
API.</li>
<li>[C-1-4] MUST destroy all activities, when a display with the
<a href="http://developer.android.com/reference/android/view/Display.html#FLAG_PRIVATE"><code translate="no" dir="ltr">Display.FLAG_PRIVATE</code></a>
flag is removed.</li>
<li>[C-1-5] MUST securely hide content on all screens when the device is locked
with a secure lock screen, unless the app opts in to show on top of lock
screen using <a href="https://developer.android.com/reference/android/app/Activity#setShowWhenLocked%28boolean%29"><code translate="no" dir="ltr">Activity#setShowWhenLocked()</code></a>
API.</li>
<li>SHOULD have <a href="https://developer.android.com/reference/android/content/res/Configuration.html"><code translate="no" dir="ltr">android.content.res.Configuration</code></a>
which corresponds to that display in order to be displayed, operate
correctly, and maintain compatibility if an activity is launched on
secondary display.</li>
</ul>

<p>If device implementations allow launching normal <a href="https://developer.android.com/reference/android/app/Activity.html">Android Activities</a> on secondary
displays and a secondary display has the <a href="https://developer.android.com/reference/android/view/Display.html#FLAG_PRIVATE">android.view.Display.FLAG_PRIVATE</a>
flag:</p>

<ul>
<li>[C-3-1] Only the owner of that display, system, and activities that are
already on that display MUST be able to launch to it. Everyone can launch to
a display that has <a href="https://developer.android.com/reference/android/view/Display.html#FLAG_PUBLIC">android.view.Display.FLAG_PUBLIC</a>
flag.</li>
</ul>

<h3 id="33_native_api_compatibility" data-text="3.3. Native API Compatibility">3.3. Native API Compatibility</h3>

<p>Native code compatibility is challenging. For this reason,
device implementers are:</p>

<ul>
<li>[SR] STRONGLY RECOMMENDED to use the implementations of the libraries
listed below from the upstream Android Open Source Project.</li>
</ul>

<h4 id="331_application_binary_interfaces" data-text="3.3.1. Application Binary Interfaces">3.3.1. Application Binary Interfaces</h4>

<p>Managed Dalvik bytecode can call into native code provided in the application
<code translate="no" dir="ltr">.apk</code> file as an ELF <code translate="no" dir="ltr">.so</code> file compiled for the appropriate device hardware
architecture. As native code is highly dependent on the underlying processor
technology, Android defines a number of Application Binary Interfaces (ABIs) in
the Android NDK.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST be compatible with one or more defined <a href="https://developer.android.com/ndk/guides/abis">Android NDK ABIs</a>.</li>
<li>[C-0-2] MUST include support for code running in the managed environment to
call into native code, using the standard Java Native Interface (JNI)
semantics.</li>
<li>[C-0-3] MUST be source-compatible (i.e. header-compatible) and
binary-compatible (for the ABI) with each required library in the list
below.</li>
<li>[C-0-5]  MUST accurately report the native Application Binary Interface
(ABI) supported by the device, via the <code translate="no" dir="ltr">android.os.Build.SUPPORTED_ABIS</code>,
<code translate="no" dir="ltr">android.os.Build.SUPPORTED_32_BIT_ABIS</code>, and
<code translate="no" dir="ltr">android.os.Build.SUPPORTED_64_BIT_ABIS</code> parameters, each a comma separated
list of ABIs ordered from the most to the least preferred one.</li>
<li><p>[C-0-6] MUST report, via the above parameters, a subset of the following
list of ABIs and MUST NOT report any ABI not on the list.</p>

<ul>
<li><code translate="no" dir="ltr">armeabi</code> (no longer supported as a target by the NDK)</li>
<li><a href="https://developer.android.com/ndk/guides/abis#v7a"><code translate="no" dir="ltr">armeabi-v7a</code></a></li>
<li><a href="https://developer.android.com/ndk/guides/abis#arm64-v8a"><code translate="no" dir="ltr">arm64-v8a</code></a></li>
<li><a href="https://developer.android.com/ndk/guides/abis#x86"><code translate="no" dir="ltr">x86</code></a></li>
<li><a href="https://developer.android.com/ndk/guides/abis#86-64"><code translate="no" dir="ltr">x86-64</code></a></li>
</ul></li>
<li><p>[C-0-7] MUST make all the following libraries, providing native APIs,
available to apps that include native code:</p>

<ul>
<li>libaaudio.so (AAudio native audio support)</li>
<li>libamidi.so (native MIDI support, if feature <code translate="no" dir="ltr">android.software.midi</code>
 is claimed as described in Section 5.9)</li>
<li>libandroid.so (native Android activity support)</li>
<li>libc (C library)</li>
<li>libcamera2ndk.so</li>
<li>libdl (dynamic linker)</li>
<li>libEGL.so (native OpenGL surface management)</li>
<li>libGLESv1_CM.so (OpenGL ES 1.x)</li>
<li>libGLESv2.so (OpenGL ES 2.0)</li>
<li>libGLESv3.so (OpenGL ES 3.x)</li>
<li>libicui18n.so</li>
<li>libicuuc.so</li>
<li>libjnigraphics.so</li>
<li>liblog (Android logging)</li>
<li>libmediandk.so (native media APIs support)</li>
<li>libm (math library)</li>
<li>libneuralnetworks.so (Neural Networks API)</li>
<li>libOpenMAXAL.so (OpenMAX AL 1.0.1 support)</li>
<li>libOpenSLES.so (OpenSL ES 1.0.1 audio support)</li>
<li>libRS.so</li>
<li>libstdc++ (Minimal support for C++)</li>
<li>libvulkan.so (Vulkan)</li>
<li>libz (Zlib compression)</li>
<li>JNI interface</li>
</ul></li>
<li><p>[C-0-8] MUST NOT add or remove the public functions for the native libraries
listed above.</p></li>
<li><p>[C-0-9] MUST list additional non-AOSP libraries exposed directly to
third-party apps in <code translate="no" dir="ltr">/vendor/etc/public.libraries.txt</code>.</p></li>
<li><p>[C-0-10] MUST NOT expose any other native libraries, implemented and
provided in AOSP as system libraries, to third-party apps targeting API
level 24 or higher as they are reserved.</p></li>
<li><p>[C-0-11] MUST export all the OpenGL ES 3.1 and <a href="http://developer.android.com/guide/topics/graphics/opengl.html#aep">Android Extension Pack</a>
function symbols, as defined in the NDK, through the <code translate="no" dir="ltr">libGLESv3.so</code> library.
Note that while all the symbols MUST be present, section 7.1.4.1 describes
in more detail the requirements for when the full implementation of each
corresponding functions are expected.</p></li>
<li><p>[C-0-12] MUST export function symbols for the core Vulkan 1.0 function
symbols, as well as the <code translate="no" dir="ltr">VK_KHR_surface</code>, <code translate="no" dir="ltr">VK_KHR_android_surface</code>,
<code translate="no" dir="ltr">VK_KHR_swapchain</code>, <code translate="no" dir="ltr">VK_KHR_maintenance1</code>, and
<code translate="no" dir="ltr">VK_KHR_get_physical_device_properties2</code> extensions through the
<code translate="no" dir="ltr">libvulkan.so</code> library.  Note that while all the symbols MUST be present,
section 7.1.4.2 describes in more detail the requirements for when the full
implementation of each corresponding functions are expected.</p></li>
<li><p>SHOULD be built using the source code and header files available in the
upstream Android Open Source Project</p></li>
</ul>

<p>Note that future releases of Android may introduce support for additional
ABIs.</p>

<h4 id="332_32-bit_arm_native_code_compatibility" data-text="3.3.2. 32-bit ARM Native Code Compatibility">3.3.2. 32-bit ARM Native Code Compatibility</h4>

<p>If device implementations report the support of the <code translate="no" dir="ltr">armeabi</code> ABI, they:</p>

<ul>
<li>[C-3-1] MUST also support <code translate="no" dir="ltr">armeabi-v7a</code> and report its support, as
 <code translate="no" dir="ltr">armeabi</code> is only for backwards compatibility with older apps.</li>
</ul>

<p>If device implementations report the support of the <code translate="no" dir="ltr">armeabi-v7a</code> ABI, for apps
using this ABI, they:</p>

<ul>
<li><p>[C-2-1] MUST include the following lines in <code translate="no" dir="ltr">/proc/cpuinfo</code>, and SHOULD NOT
 alter the values on the same device, even when they are read by other ABIs.</p>

<ul>
<li><code translate="no" dir="ltr">Features:</code>, followed by a list of any optional ARMv7 CPU features
 supported by the device.</li>
<li><code translate="no" dir="ltr">CPU architecture:</code>, followed by an integer describing the device&#39;s
 highest supported ARM architecture (e.g., &quot;8&quot; for ARMv8 devices).</li>
</ul></li>
<li><p>[C-2-2] MUST always keep the following operations available, even in the
 case where the ABI is implemented on an ARMv8 architecture, either through
 native CPU support or through software emulation:</p>

<ul>
<li>SWP and SWPB instructions.</li>
<li>CP15ISB, CP15DSB, and CP15DMB barrier operations.</li>
</ul></li>
<li><p>[C-2-3] MUST include support for the <a href="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.ddi0388f/Beijfcja.html">Advanced SIMD</a>
 (a.k.a. NEON) extension.</p></li>
</ul>

<h3 id="34_web_compatibility" data-text="3.4. Web Compatibility">3.4. Web Compatibility</h3>

<h4 id="341_webview_compatibility" data-text="3.4.1. WebView Compatibility">3.4.1. WebView Compatibility</h4>

<p>If device implementations provide a complete implementation of the
<code translate="no" dir="ltr">android.webkit.Webview</code> API, they:</p>

<ul>
<li>[C-1-1] MUST report <code translate="no" dir="ltr">android.software.webview</code>.</li>
<li>[C-1-2] MUST use the <a href="http://www.chromium.org/">Chromium</a> Project build
 from the upstream Android Open Source Project on the Android
 12 branch for the implementation of the
 <a href="http://developer.android.com/reference/android/webkit/WebView.html"><code translate="no" dir="ltr">android.webkit.WebView</code></a>
 API.</li>
<li><p>[C-1-3] The user agent string reported by the WebView MUST be in this format:</p>

<p>Mozilla/5.0 (Linux; Android $(VERSION); [$(MODEL)] [Build/$(BUILD)]; wv)
AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 $(CHROMIUM_VER) Mobile
Safari/537.36</p>

<ul>
<li>The value of the $(VERSION) string MUST be the same as the value for
android.os.Build.VERSION.RELEASE.</li>
<li>The $(MODEL) string MAY be empty, but if it is not empty it MUST have
the same value as android.os.Build.MODEL.</li>
<li>&quot;Build/$(BUILD)&quot; MAY be omitted, but if it is present the $(BUILD)
string MUST be the same as the value for android.os.Build.ID.</li>
<li>The value of the $(CHROMIUM_VER) string MUST be the version of Chromium
in the upstream Android Open Source Project.</li>
<li>Device implementations MAY omit Mobile in the user agent string.</li>
</ul></li>
<li><p>The WebView component SHOULD include support for as many HTML5 features as
 possible and if it supports the feature SHOULD conform to the
 <a href="http://html.spec.whatwg.org/multipage/">HTML5 specification</a>.</p></li>
<li><p>[C-1-3] MUST render the provided content or remote URL content in a process
 that is distinct from the application that instantiates the WebView. Specifically
 the separate renderer process MUST hold lower privilege, run
 as a separate user ID, have no access to the app&#39;s data directory,
 have no direct network access, and only have access to the minimum-required
 system services over Binder. The AOSP implementation of WebView meets
 this requirement.</p></li>
</ul>

<p>Note that if device implementations are 32-bit or declare the feature flag
<code translate="no" dir="ltr">android.hardware.ram.low</code>, they are exempted from C-1-3.</p>

<h4 id="342_browser_compatibility" data-text="3.4.2. Browser Compatibility">3.4.2. Browser Compatibility</h4>

<p>If device implementations include a standalone Browser application for general
web browsing, they:</p>

<ul>
<li>[C-1-1] MUST support each of these APIs associated with
 HTML5:
<ul>
<li><a href="http://www.w3.org/html/wg/drafts/html/master/browsers.html#offline">application cache/offline operation</a></li>
<li><a href="http://www.w3.org/html/wg/drafts/html/master/semantics.html#video">&lt;video&gt; tag</a></li>
<li><a href="http://www.w3.org/TR/geolocation-API/">geolocation</a></li>
</ul></li>
<li>[C-1-2] MUST support the HTML5/W3C <a href="http://www.w3.org/TR/webstorage/">webstorage API</a> and SHOULD support the HTML5/W3C
 <a href="http://www.w3.org/TR/IndexedDB/">IndexedDB API</a>. Note that as the web
 development standards bodies are transitioning to favor IndexedDB over
 webstorage, IndexedDB is expected to become a required component in a
 future version of Android.</li>
<li>MAY ship a custom user agent string in the standalone Browser application.</li>
<li>SHOULD implement support for as much of <a href="http://html.spec.whatwg.org/multipage/">HTML5</a> as possible on the standalone
 Browser application (whether based on the upstream WebKit Browser
 application or a third-party replacement).</li>
</ul>

<p>However, If device implementations do not include a standalone Browser
application, they:</p>

<ul>
<li>[C-2-1] MUST still support the public intent patterns as described in
 <a href="#3_2_3_1_core_application_intents">section 3.2.3.1</a>.</li>
</ul>

<h3 id="35_api_behavioral_compatibility" data-text="3.5. API Behavioral Compatibility">3.5. API Behavioral Compatibility</h3>

<p>Device implementations:</p>

<ul>
<li>[C-0-9] MUST ensure that API behavioral compatibility is applied for all
installed apps unless they are restricted as described in
<a href="#3_5_1-background-restriction">Section 3.5.1</a>.</li>
<li>[C-0-10] MUST NOT implement the whitelisting approach that ensures API
behavioral compatibility only for apps that are selected by device
implementers.</li>
</ul>

<p>The behaviors of each of the API types (managed, soft, native, and web) must be
consistent with the preferred implementation of the upstream
<a href="http://source.android.com/">Android Open Source Project</a>. Some specific areas
of compatibility are:</p>

<ul>
<li>[C-0-1] Devices MUST NOT change the behavior or semantics of a
 standard intent.</li>
<li>[C-0-2] Devices MUST NOT alter the lifecycle or lifecycle semantics of
 a particular type of system component (such as Service, Activity, ContentProvider, etc.).</li>
<li>[C-0-3] Devices MUST NOT change the semantics of a standard permission.</li>
<li>Devices MUST NOT alter the limitations enforced on background applications.
 More specifically, for background apps:
<ul>
<li>[C-0-4] they MUST stop executing callbacks that are registered by the
  app to receive outputs from the <a href="https://developer.android.com/reference/android/location/GnssMeasurement.html"><code translate="no" dir="ltr">GnssMeasurement</code></a>
  and <a href="https://developer.android.com/reference/android/location/GnssNavigationMessage.html"><code translate="no" dir="ltr">GnssNavigationMessage</code></a>.</li>
<li>[C-0-5] they MUST rate-limit the frequency of updates that are
  provided to the app through the <a href="https://developer.android.com/reference/android/location/LocationManager.html"><code translate="no" dir="ltr">LocationManager</code></a>
  API class or the <a href="https://developer.android.com/reference/android/net/wifi/WifiManager.html#startScan%28%29"><code translate="no" dir="ltr">WifiManager.startScan()</code></a>
  method.</li>
<li>[C-0-6] if the app is targeting API level 25 or higher, they MUST NOT
  allow to register broadcast receivers for the implicit broadcasts of
  standard Android intents in the app&#39;s manifest, unless the broadcast
  intent requires a <code translate="no" dir="ltr">&quot;signature&quot;</code> or <code translate="no" dir="ltr">&quot;signatureOrSystem&quot;</code>
  <a href="https://developer.android.com/guide/topics/manifest/permission-element.html#plevel"><code translate="no" dir="ltr">protectionLevel</code></a>
  permission or are on the <a href="https://developer.android.com/preview/features/background-broadcasts.html">exemption list</a>
  .</li>
<li>[C-0-7] if the app is targeting API level 25 or higher, they MUST stop
  the app&#39;s background services, just as if the app had called the
  services&#39;<a href="https://developer.android.com/reference/android/app/Service.html#stopSelf%28%29"><code translate="no" dir="ltr">stopSelf()</code></a>
  method, unless the app is placed on a temporary whitelist to handle a
  task that&#39;s visible to the user.</li>
<li>[C-0-8] if the app is targeting API level 25 or higher, they MUST
  release the wakelocks the app holds.</li>
</ul></li>
<li>[C-0-9] Devices MUST return the following security providers as the first
 seven array values from the <a href="https://developer.android.com/reference/java/security/Security.html#getProviders%28%29"><code translate="no" dir="ltr">Security.getProviders()</code></a>
 method, in the given order and with the given names (as returned by
 <a href="https://developer.android.com/reference/java/security/Provider.html#getName%28%29"><code translate="no" dir="ltr">Provider.getName()</code></a>)
 and classes, unless the app has modified the list via
 <a href="https://developer.android.com/reference/java/security/Security.html#insertProviderAt%28java.security.Provider,%2520int%29"><code translate="no" dir="ltr">insertProviderAt()</code></a>
 or <a href="https://developer.android.com/reference/java/security/Security.html#removeProvider%28java.lang.String%29"><code translate="no" dir="ltr">removeProvider()</code></a>. Devices
 MAY return additional providers after the specified list of providers
 below.
<ol>
<li><strong>AndroidNSSP</strong> - <code translate="no" dir="ltr">android.security.net.config.NetworkSecurityConfigProvider</code></li>
<li><strong>AndroidOpenSSL</strong> - <code translate="no" dir="ltr">com.android.org.conscrypt.OpenSSLProvider</code></li>
<li><strong>CertPathProvider</strong> - <code translate="no" dir="ltr">sun.security.provider.CertPathProvider</code></li>
<li><strong>AndroidKeyStoreBCWorkaround</strong> - <code translate="no" dir="ltr">android.security.keystore.AndroidKeyStoreBCWorkaroundProvider</code></li>
<li><strong>BC</strong> - <code translate="no" dir="ltr">com.android.org.bouncycastle.jce.provider.BouncyCastleProvider</code></li>
<li><strong>HarmonyJSSE</strong> - <code translate="no" dir="ltr">com.android.org.conscrypt.JSSEProvider</code></li>
<li><strong>AndroidKeyStore</strong> - <code translate="no" dir="ltr">android.security.keystore.AndroidKeyStoreProvider</code></li>
</ol></li>
</ul>

<p>The above list is not comprehensive. The Compatibility Test Suite (CTS) tests
significant portions of the platform for behavioral compatibility, but not all.
It is the responsibility of the implementer to ensure behavioral compatibility
with the Android Open Source Project. For this reason, device implementers
SHOULD use the source code available via the Android Open Source Project where
possible, rather than re-implement significant parts of the system.</p>

<h4 id="351_application_restriction" data-text="3.5.1. Application Restriction">3.5.1. Application Restriction</h4>

<p>If device implementations implement a proprietary mechanism to restrict apps and
that mechanism is more restrictive than <a href="https://developer.android.com/topic/performance/power/power-details">the Restricted App Standby Bucket</a>, they:</p>

<ul>
<li>[C-1-1] MUST provide user affordance where the user can see the list of
restricted apps.</li>
<li>[C-1-2] MUST provide user affordance to turn on / off the restrictions
on each app.</li>
<li>[C-1-3] MUST not automatically apply restrictions without evidence of poor
system health behavior, but MAY apply the restrictions on apps upon detection
of poor system health behavior like stuck wakelocks, long running services, and
other criteria. The criteria MAY be determined by device implementers but MUST
be related to the app’s impact on the system health. Other criteria that are not
purely related to the system health, such as the app’s lack of popularity in
the market, MUST NOT be used as criteria.</li>
<li>[C-1-4] MUST not automatically apply app restrictions for apps when a user
has turned off app restrictions manually, and MAY suggest the user to apply
app restrictions.</li>
<li>[C-1-5] MUST inform users if app restrictions are applied to an app
automatically. Such information MUST be provided within 24 hours of when
the restrictions are applied.</li>
<li>[C-1-6] MUST return <code translate="no" dir="ltr">true</code> for <a href="https://developer.android.com/reference/android/app/ActivityManager.html#isBackgroundRestricted%28%29"><code translate="no" dir="ltr">ActivityManager.isBackgroundRestricted()</code></a>
when the restricted app calls this API.</li>
<li>[C-1-7] MUST NOT restrict the top foreground app that is explicitly used
by the user.</li>
<li>[C-1-8] MUST suspend restrictions on an app that becomes the top foreground
application when the user explicitly starts to use the app that used to be
restricted.</li>
<li>[C-1-9] MUST report all app restriction events via <code translate="no" dir="ltr">UsageStats</code>.</li>
<li>[C-1-10] MUST NOT allow an app to be automatically placed in the RESTRICTED
bucket within 2 hours of the most recent usage by a user.</li>
</ul>

<p>If device implementations extend the app restrictions that are implemented
in AOSP, they:</p>

<ul>
<li>[C-2-1]MUST follow the implementation described in this <a href="https://source.android.com/devices/tech/power/app_mgmt.html">document</a>.</li>
</ul>

<h4 id="352_application_hibernation" data-text="3.5.2. Application Hibernation">3.5.2. Application Hibernation</h4>

<p>If device implementations include App Hibernation that is included in AOSP or
extends the feature that is included in AOSP, then they:</p>

<ul>
<li>[C-1-1] MUST meet all the requirements in section 3.5.1 except for
[C-1-6] and [C-1-3].</li>
<li>[C-1-2] MUST only apply the restriction on the app for a user when there is
evidence that the user has not used the app for some period of time. This
duration is STRONGLY RECOMMENDED to be one month or longer. Usage MUST be
defined by either explicit user interaction via the [UsageStats#getLastTimeVisible()](
https://developer.android.com/reference/android/app/usage/UsageStats#getLastTimeVisible())
API or anything that would cause an app to leave the force-stopped state,
including service bindings, content provider bindings, explicit broadcasts, etc.,
which will be tracked by a new API UsageStats#getLastTimeAnyComponentUsed().</li>
<li>[C-1-3] MUST only apply restrictions affecting all device users when there
is evidence that the package has not been used by ANY user for some period of
time. This duration is STRONGLY RECOMMENDED to be one month or longer.</li>
<li>[C-1-4] MUST NOT render the app unable to respond to activity intents,
service bindings, content provider requests, or explicit broadcasts.</li>
</ul>

<p>App Hibernation in AOSP meets the above requirements.</p>

<h3 id="36_api_namespaces" data-text="3.6. API Namespaces">3.6. API Namespaces</h3>

<p>Android follows the package and class namespace conventions defined by the Java
programming language.  To ensure compatibility with third-party applications,
device implementers MUST NOT make any prohibited modifications (see below) to
these package namespaces:</p>

<ul>
<li><code translate="no" dir="ltr">java.*</code></li>
<li><code translate="no" dir="ltr">javax.*</code></li>
<li><code translate="no" dir="ltr">sun.*</code></li>
<li><code translate="no" dir="ltr">android.*</code></li>
<li><code translate="no" dir="ltr">androidx.*</code></li>
<li><code translate="no" dir="ltr">com.android.*</code></li>
</ul>

<p>That is, they:</p>

<ul>
<li>[C-0-1] MUST NOT modify the publicly exposed APIs on the Android platform
 by changing any method or class signatures, or by removing classes or class
 fields.</li>
<li>[C-0-2] MUST NOT add any publicly exposed elements (such as classes or
 interfaces, or fields or methods to existing classes or interfaces) or Test
 or System APIs to the APIs in the above namespaces. A “publicly exposed
 element” is any construct that is not decorated with the “@hide” marker as
 used in the upstream Android source code.</li>
</ul>

<p>Device implementers MAY modify the underlying implementation of the APIs, but
such modifications:</p>

<ul>
<li>[C-0-3] MUST NOT impact the stated behavior and Java-language signature of
 any publicly exposed APIs.</li>
<li>[C-0-4] MUST NOT be advertised or otherwise exposed to developers.</li>
</ul>

<p>However, device implementers MAY add custom APIs outside the standard Android
namespace, but the custom APIs:</p>

<ul>
<li>[C-0-5] MUST NOT be in a namespace owned by or referring to another
 organization. For instance, device implementers MUST NOT add APIs to the
 <code translate="no" dir="ltr">com.google.*</code> or similar namespace: only Google may do so. Similarly,
 Google MUST NOT add APIs to other companies&#39; namespaces.</li>
<li>[C-0-6] MUST be packaged in an Android shared library so that only apps
 that explicitly use them (via the &lt;uses-library&gt; mechanism) are
 affected by the increased memory usage of such APIs.</li>
</ul>

<p>Device implementers MAY add custom APIs in native languages, outside of the NDK
APIs, but the custom APIs:</p>

<ul>
<li>[C-1-1] MUST NOT be in a NDK library or a library owned by another
organization as described <a href="https://source.android.com/devices/tech/config/namespaces_libraries#adding-additional-native-libraries">here</a>.</li>
</ul>

<p>If a device implementer proposes to improve one of the package namespaces above
(such as by adding useful new functionality to an existing API, or adding a new
API), the implementer SHOULD visit <a href="http://source.android.com/">source.android.com</a> and begin the process for contributing changes and
code, according to the information on that site.</p>

<p>Note that the restrictions above correspond to standard conventions for naming
APIs in the Java programming language; this section simply aims to reinforce
those conventions and make them binding through inclusion in this Compatibility
Definition.</p>

<h3 id="37_runtime_compatibility" data-text="3.7. Runtime Compatibility">3.7. Runtime Compatibility</h3>

<p>Device implementations:</p>

<ul>
<li><p>[C-0-1] MUST support the full Dalvik Executable (DEX) format
and <a href="https://android.googlesource.com/platform/dalvik/">Dalvik bytecode specification and semantics</a>.</p></li>
<li><p>[C-0-2] MUST configure Dalvik runtimes to allocate memory in
accordance with the upstream Android platform, and as specified by
the following table. (See <a href="#7_1_1_screen_configuration">section 7.1.1</a> for
screen size and screen density definitions.)</p></li>
<li><p>SHOULD use Android RunTime (ART), the reference upstream
implementation of the Dalvik Executable Format, and the reference
implementation’s package management system.</p></li>
<li><p>SHOULD run fuzz tests under various modes of execution
and target architectures to assure the stability of the runtime. Refer to
<a href="https://android.googlesource.com/platform/art/+/master/tools/dexfuzz/">JFuzz</a>
and <a href="https://android.googlesource.com/platform/art/+/master/tools/dexfuzz/">DexFuzz</a>
in the Android Open Source Project website.</p></li>
</ul>

<p>Note that memory values specified below are considered minimum values and
device implementations MAY allocate more memory per application.</p>

<table>
 <tr>
    <th>Screen Layout</th>
    <th>Screen Density</th>
    <th>Minimum Application Memory</th>
 </tr>
 <tr>
    <td rowspan="16">Android Watch</td>
    <td>120 dpi (ldpi)</td>
    <td rowspan="6">32MB</td>
 </tr>
 <tr>
    <td>140 dpi (140dpi)</td>
 </tr>
 <tr>
    <td>160 dpi (mdpi)</td>
 </tr>
 <tr>
    <td>180 dpi (180dpi)</td>
 </tr>
 <tr>
    <td>200 dpi (200dpi)</td>
 </tr>
 <tr>
    <td>213 dpi (tvdpi)</td>
 </tr>
 <tr>
    <td>220 dpi (220dpi)</td>
    <td rowspan="3">36MB</td>
 </tr>
 <tr>
    <td>240 dpi (hdpi)</td>
 </tr>
 <tr>
    <td>280 dpi (280dpi)</td>
 </tr>
 <tr>
    <td>320 dpi (xhdpi)</td>
    <td rowspan="2">48MB</td>
 </tr>
 <tr>
    <td>360 dpi (360dpi)</td>
 </tr>
 <tr>
    <td>400 dpi (400dpi)</td>
    <td>56MB</td>
 </tr>
 <tr>
    <td>420 dpi (420dpi)</td>
    <td>64MB</td>
 </tr>
 <tr>
    <td>480 dpi (xxhdpi)</td>
    <td>88MB</td>
 </tr>
 <tr>
    <td>560 dpi (560dpi)</td>
    <td>112MB</td>
 </tr>
 <tr>
    <td>640 dpi (xxxhdpi)</td>
    <td>154MB</td>
 </tr>
 <tr>
    <td rowspan="16">small/normal</td>
    <td>120 dpi (ldpi)</td>
    <td rowspan="3">32MB</td>
 </tr>
 <tr>
    <td>140 dpi (140dpi)</td>
 </tr>
 <tr>
    <td>160 dpi (mdpi)</td>
 </tr>
 <tr>
    <td>180 dpi (180dpi)</td>
    <td rowspan="6">48MB</td>
 </tr>
 <tr>
    <td>200 dpi (200dpi)</td>
 </tr>
 <tr>
    <td>213 dpi (tvdpi)</td>
 </tr>
 <tr>
    <td>220 dpi (220dpi)</td>
 </tr>
 <tr>
    <td>240 dpi (hdpi)</td>
 </tr>
 <tr>
    <td>280 dpi (280dpi)</td>
 </tr>
 <tr>
    <td>320 dpi (xhdpi)</td>
    <td rowspan="2">80MB</td>
 </tr>
 <tr>
    <td>360 dpi (360dpi)</td>
 </tr>
 <tr>
    <td>400 dpi (400dpi)</td>
    <td>96MB</td>
 </tr>
 <tr>
    <td>420 dpi (420dpi)</td>
    <td>112MB</td>
 </tr>
 <tr>
    <td>480 dpi (xxhdpi)</td>
    <td>128MB</td>
 </tr>
 <tr>
    <td>560 dpi (560dpi)</td>
    <td>192MB</td>
 </tr>
 <tr>
    <td>640 dpi (xxxhdpi)</td>
    <td>256MB</td>
 </tr>
 <tr>
    <td rowspan="16">large</td>
    <td>120 dpi (ldpi)</td>
    <td>32MB</td>
 </tr>
 <tr>
    <td>140 dpi (140dpi)</td>
    <td rowspan="2">48MB</td>
 </tr>
 <tr>
    <td>160 dpi (mdpi)</td>
 </tr>
 <tr>
    <td>180 dpi (180dpi)</td>
    <td rowspan="5">80MB</td>
 </tr>
 <tr>
    <td>200 dpi (200dpi)</td>
 </tr>
 <tr>
    <td>213 dpi (tvdpi)</td>
 </tr>
 <tr>
    <td>220 dpi (220dpi)</td>
 </tr>
 <tr>
    <td>240 dpi (hdpi)</td>
 </tr>
 <tr>
    <td>280 dpi (280dpi)</td>
    <td>96MB</td>
 </tr>
 <tr>
    <td>320 dpi (xhdpi)</td>
    <td>128MB</td>
 </tr>
 <tr>
    <td>360 dpi (360dpi)</td>
    <td>160MB</td>
 </tr>
 <tr>
    <td>400 dpi (400dpi)</td>
    <td>192MB</td>
 </tr>
 <tr>
    <td>420 dpi (420dpi)</td>
    <td>228MB</td>
 </tr>
 <tr>
    <td>480 dpi (xxhdpi)</td>
    <td>256MB</td>
 </tr>
 <tr>
    <td>560 dpi (560dpi)</td>
    <td>384MB</td>
 </tr>
 <tr>
    <td>640 dpi (xxxhdpi)</td>
    <td>512MB</td>
 </tr>
 <tr>
    <td rowspan="16">xlarge</td>
    <td>120 dpi (ldpi)</td>
    <td>48MB</td>
 </tr>
 <tr>
    <td>140 dpi (140dpi)</td>
    <td rowspan="2">80MB</td>
 </tr>
 <tr>
    <td>160 dpi (mdpi)</td>
 </tr>
 <tr>
    <td>180 dpi (180dpi)</td>
    <td rowspan="5">96MB</td>
 </tr>
 <tr>
    <td>200 dpi (200dpi)</td>
 </tr>
 <tr>
    <td>213 dpi (tvdpi)</td>
 </tr>
 <tr>
    <td>220 dpi (220dpi)</td>
 </tr>
 <tr>
    <td>240 dpi (hdpi)</td>
 </tr>
 <tr>
    <td>280 dpi (280dpi)</td>
    <td>144MB</td>
 </tr>
 <tr>
    <td>320 dpi (xhdpi)</td>
    <td>192MB</td>
 </tr>
 <tr>
    <td>360 dpi (360dpi)</td>
    <td>240MB</td>
 </tr>
 <tr>
    <td>400 dpi (400dpi)</td>
    <td>288MB</td>
 </tr>
 <tr>
    <td>420 dpi (420dpi)</td>
    <td>336MB</td>
 </tr>
 <tr>
    <td>480 dpi (xxhdpi)</td>
    <td>384MB</td>
 </tr>
 <tr>
    <td>560 dpi (560dpi)</td>
    <td>576MB</td>
 </tr>
 <tr>
    <td>640 dpi (xxxhdpi)</td>
    <td>768MB</td>
 </tr>
</table>

<h3 id="38_user_interface_compatibility" data-text="3.8. User Interface Compatibility">3.8. User Interface Compatibility</h3>

<h4 id="381_launcher_home_screen" data-text="3.8.1. Launcher (Home Screen)">3.8.1. Launcher (Home Screen)</h4>

<p>Android includes a launcher application (home screen) and support for
third-party applications to replace the device launcher (home screen).</p>

<p>If device implementations allow third-party applications to replace the device
home screen, they:</p>

<ul>
<li>[C-1-1] MUST declare the platform feature <code translate="no" dir="ltr">android.software.home_screen</code>.</li>
<li>[C-1-2] MUST return the <a href="https://developer.android.com/reference/android/graphics/drawable/AdaptiveIconDrawable.html"><code translate="no" dir="ltr">AdaptiveIconDrawable</code></a>
object when the third-party application use <code translate="no" dir="ltr">&lt;adaptive-icon&gt;</code> tag to provide
their icon, and the <a href="https://developer.android.com/reference/android/content/pm/PackageManager.html"><code translate="no" dir="ltr">PackageManager</code></a>
methods to retrieve icons are called.</li>
</ul>

<p>If device implementations include a default launcher that supports in-app
pinning of shortcuts, they:</p>

<ul>
<li>[C-2-1] MUST report <code translate="no" dir="ltr">true</code> for
<a href="https://developer.android.com/reference/android/content/pm/ShortcutManager.html#isRequestPinShortcutSupported%28%29"><code translate="no" dir="ltr">ShortcutManager.isRequestPinShortcutSupported()</code></a>.</li>
<li>[C-2-2] MUST have user affordance asking the user before adding a shortcut requested
by apps via the <a href="https://developer.android.com/reference/android/content/pm/ShortcutManager.html#requestPinShortcut%28android.content.pm.ShortcutInfo,%20android.content.IntentSender%29"><code translate="no" dir="ltr">ShortcutManager.requestPinShortcut()</code></a>
API method.</li>
<li>[C-2-3] MUST support pinned shortcuts and dynamic and static
shortcuts as documented on the <a href="https://developer.android.com/guide/topics/ui/shortcuts.html">App Shortcuts page</a>.</li>
</ul>

<p>Conversely, if device implementations do not support in-app pinning of
shortcuts, they:</p>

<ul>
<li>[C-3-1] MUST report <code translate="no" dir="ltr">false</code> for
<a href="https://developer.android.com/reference/android/content/pm/ShortcutManager.html#isRequestPinShortcutSupported%28%29"><code translate="no" dir="ltr">ShortcutManager.isRequestPinShortcutSupported()</code></a>.</li>
</ul>

<p>If device implementations implement a default launcher that provides quick
access to the additional shortcuts provided by third-party apps through the
<a href="https://developer.android.com/reference/android/content/pm/ShortcutManager.html">ShortcutManager</a>
API, they:</p>

<ul>
<li>[C-4-1] MUST support all documented shortcut features (e.g. static and
dynamic shortcuts, pinning shortcuts) and fully implement the APIs of the
<a href="https://developer.android.com/reference/android/content/pm/ShortcutManager.html"><code translate="no" dir="ltr">ShortcutManager</code></a>
API class.</li>
</ul>

<p>If device implementations include a default launcher app that shows badges for
the app icons, they:</p>

<ul>
<li>[C-5-1] MUST respect the <a href="https://developer.android.com/reference/android/app/NotificationChannel.html#setShowBadge%28boolean%29"><code translate="no" dir="ltr">NotificationChannel.setShowBadge()</code></a>
API method.
In other words, show a visual affordance associated with the app icon if the
value is set as <code translate="no" dir="ltr">true</code>, and do not show any app icon badging scheme when all
of the app&#39;s notification channels have set the value as <code translate="no" dir="ltr">false</code>.</li>
<li>MAY override the app icon badges with their proprietary badging scheme when
third-party applications indicate support of the proprietary badging scheme
through the use of proprietary APIs, but SHOULD use the resources and values
provided through the notification badges APIs described in <a href="https://developer.android.com/preview/features/notification-badges.html">the SDK</a>
, such as the <a href="http://developer.android.com/reference/android/app/Notification.Builder.html#setNumber%28int%29"><code translate="no" dir="ltr">Notification.Builder.setNumber()</code></a>
and the <a href="http://developer.android.com/reference/android/app/Notification.Builder.html#setBadgeIconType%28int%29"><code translate="no" dir="ltr">Notification.Builder.setBadgeIconType()</code></a>
API.</li>
</ul>

<h4 id="382_widgets" data-text="3.8.2. Widgets">3.8.2. Widgets</h4>

<p>Android supports third-party app widgets by defining a component type and
corresponding API and lifecycle that allows applications to expose an
<a href="http://developer.android.com/guide/practices/ui_guidelines/widget_design.html">“AppWidget”</a>
to the end user.</p>

<p>If device implementations support third-party app widgets, they:</p>

<ul>
<li>[C-1-1] MUST declare support for platform feature
<code translate="no" dir="ltr">android.software.app_widgets</code>.</li>
<li>[C-1-2] MUST include built-in support for AppWidgets and expose
user interface affordances to add, configure, view, and remove AppWidgets
directly within the Launcher.</li>
<li>[C-1-3] MUST be capable of rendering widgets that are 4 x 4
in the standard grid size. See the <a href="http://developer.android.com/guide/practices/ui_guidelines/widget_design.html">App Widget DesignGuidelines</a>
in the Android SDK documentation for details.</li>
<li>MAY support application widgets on the lock screen.</li>
</ul>

<p>If device implementations support third-party app widgets and in-app
pinning of shortcuts, they:</p>

<ul>
<li>[C-2-1] MUST report <code translate="no" dir="ltr">true</code> for
<a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html#isRequestPinAppWidgetSupported%28%29"><code translate="no" dir="ltr">AppWidgetManager.html.isRequestPinAppWidgetSupported()</code></a>.</li>
<li>[C-2-2] MUST have user affordance asking the user before adding a shortcut requested
by apps via the <a href="https://developer.android.com/reference/android/appwidget/AppWidgetManager.html#requestPinAppWidget%28android.content.ComponentName,android.os.Bundle,%20android.app.PendingIntent%29"><code translate="no" dir="ltr">AppWidgetManager.requestPinAppWidget()</code></a>
API method.</li>
</ul>

<h4 id="383_notifications" data-text="3.8.3. Notifications">3.8.3. Notifications</h4>

<p>Android includes <a href="https://developer.android.com/reference/android/app/Notification.html"><code translate="no" dir="ltr">Notification</code></a> and
<a href="https://developer.android.com/reference/android/app/NotificationManager.html"><code translate="no" dir="ltr">NotificationManager</code></a>
APIs that allow third-party app developers to notify users of notable events and
attract users&#39; attention using the hardware components (e.g. sound, vibration
and light) and software features (e.g. notification shade, system bar) of the
device.</p>

<h5 id="3831_presentation_of_notifications" data-text="3.8.3.1. Presentation of Notifications">3.8.3.1. Presentation of Notifications</h5>

<p>If device implementations allow third-party apps to <a href="http://developer.android.com/guide/topics/ui/notifiers/notifications.html">notify users of notable events</a>, they:</p>

<ul>
<li>[C-1-1] MUST support notifications that use hardware features, as described in
the SDK documentation, and to the extent possible with the device implementation
hardware. For instance, if a device implementation includes a vibrator, it MUST
correctly implement the vibration APIs. If a device implementation lacks
hardware, the corresponding APIs MUST be implemented as no-ops. This behavior is
further detailed in <a href="#7_hardware_compatibility">section 7</a>.</li>
<li>[C-1-2]  MUST correctly render all <a href="https://developer.android.com/guide/topics/resources/available-resources.html">resources</a>
(icons, animation files, etc.) provided for in the APIs, or in the
Status/System Bar <a href="http://developer.android.com/design/style/iconography.html">icon style guide</a>, although they
MAY provide an alternative user experience for notifications than that
provided by the reference Android Open Source implementation.</li>
<li>[C-1-3] MUST honor and implement properly the behaviors described for
<a href="https://developer.android.com/guide/topics/ui/notifiers/notifications.html#Managing">the APIs</a>
to update, remove and group notifications.</li>
<li>[C-1-4] MUST provide the full behavior of the <a href="https://developer.android.com/reference/android/app/NotificationChannel.html">NotificationChannel</a>
API documented in the SDK.</li>
<li>[C-1-5] MUST provide a user affordance to block and modify a certain
third-party app&#39;s notification per each channel and app package level.</li>
<li>[C-1-6] MUST also provide a user affordance to display deleted notification
channels.</li>
<li>[C-1-7] MUST correctly render all resources (images, stickers, icons, etc.)
provided through <a href="https://developer.android.com/reference/android/app/Notification.MessagingStyle">Notification.MessagingStyle</a>
alongside the notification text without additional user interaction. For
example, MUST show all resources including icons provided through
<a href="https://developer.android.com/reference/android/app/Person">android.app.Person</a>
in a group conversation that is set through <a href="https://developer.android.com/reference/android/app/Notification.MessagingStyle.html?hl=es-AR#setGroupConversation%28boolean%29">setGroupConversation</a>.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to automatically surface a user affordance
to block a certain third-party app&#39;s notification per each channel and app
package level after the user dismisses that notification multiple times.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to provide an affordance for the user to
control the notifications that are exposed to apps that have been granted
the Notification Listener permission. The granularity MUST be such that the
user can control for each such notification listener what notification
types are bridged to this listener. The types MUST include
&quot;conversations&quot;, &quot;alerting&quot;, &quot;silent&quot;, and &quot;important ongoing&quot;
 notifications.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to  provide an affordance for users to
specify apps to exclude from notifying any specific notification listener.</li>
<li>SHOULD support rich notifications.</li>
<li>SHOULD present some higher priority notifications as heads-up notifications.</li>
<li>SHOULD have a user affordance to snooze notifications.</li>
<li>MAY only manage the visibility and timing of when third-party apps can notify
users of notable events to mitigate safety issues such as driver distraction.</li>
</ul>

<p>Android 11 introduces support for conversation notifications, which are
notifications that use <a href="https://developer.android.com/reference/android/app/Notification.MessagingStyle.html">MessagingStyle</a>
and provides a published <a href="https://developer.android.com/reference/android/app/Person">People</a> Shortcut ID.</p>

<p>Device implementations:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to group and display
<a href="https://developer.android.com/preview/features/conversations#api-notifications"><code translate="no" dir="ltr">conversation notifications</code></a>
ahead of non conversation notifications with the exception of
ongoing foreground service notifications and <a href="https://developer.android.com/reference/android/app/NotificationManager#IMPORTANCE_HIGH"><code translate="no" dir="ltr">importance:high</code></a>
notifications.</li>
</ul>

<p>If device implementations support <a href="https://developer.android.com/preview/features/conversations#api-notifications"><code translate="no" dir="ltr">conversation notifications</code></a>
and the app provides the required data for
<a href="https://developer.android.com/guide/topics/ui/bubbles"><code translate="no" dir="ltr">bubbles</code></a>, they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to display this conversation as a bubble.
The AOSP implementation meets these requirements with the default System UI,
Settings, and Launcher.</li>
</ul>

<p>If device implementations support rich notifications, they:</p>

<ul>
<li>[C-2-1] MUST use the exact resources as
provided through the <a href="https://developer.android.com/reference/android/app/Notification.Style.html"><code translate="no" dir="ltr">Notification.Style</code></a>
API class and its subclasses for the presented resource elements.</li>
<li>SHOULD present each and every resource element (e.g.
icon, title and summary text) defined in the <a href="https://developer.android.com/reference/android/app/Notification.Style.html"><code translate="no" dir="ltr">Notification.Style</code></a>
API class and its subclasses.</li>
</ul>

<p>If device implementations support heads-up notifications: they:</p>

<ul>
<li>[C-3-1] MUST use the heads-up notification view and resources
as described in the <a href="https://developer.android.com/reference/android/app/Notification.Builder.html"><code translate="no" dir="ltr">Notification.Builder</code></a>
API class when heads-up notifications are presented.</li>
<li>[C-3-2] MUST display the actions provided through
<a href="https://developer.android.com/reference/android/app/Notification.Builder#addAction%28android.app.Notification.Action%29"><code translate="no" dir="ltr">Notification.Builder.addAction()</code></a>
together with the notification content without additional user interaction
as described in <a href="https://developer.android.com/guide/topics/ui/notifiers/notifications.html#Heads-up">the SDK</a>.</li>
</ul>

<h5 id="3832_notification_listener_service" data-text="3.8.3.2. Notification Listener Service">3.8.3.2. Notification Listener Service</h5>

<p>Android includes the <a href="https://developer.android.com/reference/android/service/notification/NotificationListenerService.html"><code translate="no" dir="ltr">NotificationListenerService</code></a>
APIs that allow apps (once explicitly enabled by the user) to receive a copy of
all notifications as they are posted or updated.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST correctly and promptly update notifications in their entirety
to all such installed and user-enabled listener services, including any and
all metadata attached to the Notification object.</li>
<li>[C-0-2] MUST respect the <a href="https://developer.android.com/reference/android/service/notification/NotificationListenerService.html#snoozeNotification%28java.lang.String,%20long%29"><code translate="no" dir="ltr">snoozeNotification()</code></a>
API call, and dismiss the notification and make a callback after the snooze
duration that is set in the API call.</li>
</ul>

<p>If device implementations have a user affordance to snooze notifications, they:</p>

<ul>
<li>[C-1-1] MUST reflect the snoozed notification status properly
through the standard APIs such as
<a href="https://developer.android.com/reference/android/service/notification/NotificationListenerService.html#getSnoozedNotifications%28%29"><code translate="no" dir="ltr">NotificationListenerService.getSnoozedNotifications()</code></a>.</li>
<li>[C-1-2] MUST make this user affordance available to snooze notifications
from each installed third-party app&#39;s, unless they are from
persistent/foreground services.</li>
</ul>

<h5 id="3833_dnd_do_not_disturb" data-text="3.8.3.3. DND (Do not Disturb)">3.8.3.3. DND (Do not Disturb)</h5>

<p>If device implementations support the DND feature, they:</p>

<ul>
<li>[C-1-1] MUST, for when the device implementation has provided a means for the user
to grant or deny third-party apps to access the DND policy configuration,
display <a href="https://developer.android.com/reference/android/app/NotificationManager.html#addAutomaticZenRule%28android.app.AutomaticZenRule%29">Automatic DND rules</a>
created by applications alongside the user-created and pre-defined rules.</li>
<li>[C-1-3] MUST honor the <a href="https://developer.android.com/reference/android/app/NotificationManager.Policy.html#suppressedVisualEffects"><code translate="no" dir="ltr">suppressedVisualEffects</code></a>
values passed along the <a href="https://developer.android.com/reference/android/app/NotificationManager.Policy.html#NotificationManager.Policy%28int,%20int,%20int,%20int%29"><code translate="no" dir="ltr">NotificationManager.Policy</code></a>
and if an app has set any of the SUPPRESSED_EFFECT_SCREEN_OFF or
SUPPRESSED_EFFECT_SCREEN_ON flags, it SHOULD indicate to the user that the
visual effects are suppressed in the DND settings menu.</li>
</ul>

<h4 id="384_assist_apis" data-text="3.8.4. Assist API's">3.8.4. Assist API's</h4>

<p>Android includes the <a href="https://developer.android.com/reference/android/app/assist/package-summary.html">Assist APIs</a>
to allow applications to elect how much information of the current context is
shared with the assistant on the device.</p>

<p>If device implementations support the Assist action, they:</p>

<ul>
<li>[C-2-1] MUST indicate clearly to the end user when the context is shared, by
either:
<ul>
<li>Each time the assist app accesses the context, displaying a white
light around the edges of the screen that meet or exceed the duration and
brightness of the Android Open Source Project implementation.</li>
<li>For the preinstalled assist app, providing a user affordance less
than two navigations away from
<a href="#3_2_3_5_default_app_settings">the default voice input and assistant app settings menu</a>,
and only sharing the context when the assist app is explicitly invoked by
the user through a hotword or assist navigation key input.</li>
</ul></li>
<li>[C-2-2] The designated interaction to launch the assist app as described
in <a href="#7_2_3_navigation_keys">section 7.2.3</a> MUST launch the user-selected
assist app, in other words the app that implements <code translate="no" dir="ltr">VoiceInteractionService</code>,
or an activity handling the <code translate="no" dir="ltr">ACTION_ASSIST</code> intent.</li>
</ul>

<h4 id="385_alerts_and_toasts" data-text="3.8.5. Alerts and Toasts">3.8.5. Alerts and Toasts</h4>

<p>Applications can use the <a href="http://developer.android.com/reference/android/widget/Toast.html"><code translate="no" dir="ltr">Toast</code></a>
API to display short non-modal strings to the end user that disappear after a
brief period of time, and use the <a href="http://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#TYPE_APPLICATION_OVERLAY"><code translate="no" dir="ltr">TYPE_APPLICATION_OVERLAY</code></a>
window type API to display alert windows as an overlay over other apps.</p>

<p>If device implementations include a screen or video output, they:</p>

<ul>
<li><p>[C-1-1] MUST provide a user affordance to block an app from displaying alert
windows that use the <a href="http://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#TYPE_APPLICATION_OVERLAY"><code translate="no" dir="ltr">TYPE_APPLICATION_OVERLAY</code></a>
. The AOSP implementation meets this requirement by having controls in the notification shade.</p></li>
<li><p>[C-1-2] MUST honor the Toast API and display Toasts from applications to end users in some highly
visible manner.</p></li>
</ul>

<h4 id="386_themes" data-text="3.8.6. Themes">3.8.6. Themes</h4>

<p>Android provides “themes” as a mechanism for applications to apply styles across
an entire Activity or application.</p>

<p>Android includes a “Holo” and &quot;Material&quot; theme family as a set of defined styles
for application developers to use if they want to match the
<a href="http://developer.android.com/guide/topics/ui/themes.html">Holo theme look and feel</a>
as defined by the Android SDK.</p>

<p>If device implementations include a screen or video output, they:</p>

<ul>
<li>[C-1-1] MUST NOT alter any of the <a href="http://developer.android.com/reference/android/R.style.html">Holo theme attributes</a> exposed to
applications.</li>
<li>[C-1-2] MUST support the “Material” theme family and MUST NOT alter any of
the <a href="http://developer.android.com/reference/android/R.style.html#Theme_Material">Material theme attributes</a>
or their assets exposed to applications.</li>
<li>[C-1-3] MUST either set the &quot;sans-serif&quot; font family to
<a href="https://github.com/google/roboto">Roboto version 2.x</a> for the languages
that Roboto supports, or provide a user affordance to change the font used
for the &quot;sans-serif&quot; font family to <a href="https://github.com/google/roboto">Roboto version 2.x</a>
for the languages that Roboto supports.</li>
</ul>

<p>Android also includes a “Device Default” theme family as a set of defined styles
for application developers to use if they want to match the look and feel of the
device theme as defined by the device implementer.</p>

<ul>
<li>Device implementations MAY modify the <a href="http://developer.android.com/reference/android/R.style.html">Device Default theme attributes</a> exposed to
applications.</li>
</ul>

<p>Android supports a variant theme with translucent system bars, which allows
application developers to fill the area behind the status and navigation bar
with their app content. To enable a consistent developer experience in this
configuration, it is important the status bar icon style is maintained across
different device implementations.</p>

<p>If device implementations include a system status bar, they:</p>

<ul>
<li>[C-2-1] MUST use white for system status icons (such as signal strength and
battery level) and notifications issued by the system, unless the icon is
indicating a problematic status or an app requests a light status bar using
the SYSTEM_UI_FLAG_LIGHT_STATUS_BAR flag.</li>
<li>[C-2-2] Android device implementations MUST change the color of the system
status icons to black (for details, refer to <a href="http://developer.android.com/reference/android/R.style.html">R.style</a>) when an app
requests a light status bar.</li>
</ul>

<h4 id="387_live_wallpapers" data-text="3.8.7. Live Wallpapers">3.8.7. Live Wallpapers</h4>

<p>Android defines a component type and corresponding API and lifecycle that allows
applications to expose one or more
<a href="http://developer.android.com/reference/android/service/wallpaper/WallpaperService.html">“Live Wallpapers”</a>
to the end user. Live wallpapers are animations, patterns, or similar images
with limited input capabilities that display as a wallpaper, behind other
applications.</p>

<p>Hardware is considered capable of reliably running live wallpapers if it can run
all live wallpapers, with no limitations on functionality, at a reasonable frame
rate with no adverse effects on other applications. If limitations in the
hardware cause wallpapers and/or applications to crash, malfunction, consume
excessive CPU or battery power, or run at unacceptably low frame rates, the
hardware is considered incapable of running live wallpaper. As an example, some
live wallpapers may use an OpenGL 2.0 or 3.x context to render their content.
Live wallpaper will not run reliably on hardware that does not support multiple
OpenGL contexts because the live wallpaper use of an OpenGL context may conflict
with other applications that also use an OpenGL context.</p>

<ul>
<li>Device implementations capable of running live wallpapers reliably as described
above SHOULD implement live wallpapers.</li>
</ul>

<p>If device implementations implement live wallpapers, they:</p>

<ul>
<li>[C-1-1] MUST report the platform feature flag android.software.live_wallpaper.</li>
</ul>

<h4 id="388_activity_switching" data-text="3.8.8. Activity Switching">3.8.8. Activity Switching</h4>

<p>The upstream Android source code includes the
<a href="https://developer.android.com/guide/components/activities/recents.html">overview screen</a>, a
system-level user interface for task switching and displaying recently accessed
activities and tasks using a thumbnail image of the application’s graphical
state at the moment the user last left the application.</p>

<p>Device implementations
including the recents function navigation key as detailed in
<a href="#7_2_3_navigation_keys">section 7.2.3</a> MAY alter the interface.</p>

<p>If device implementations including the recents function navigation key as detailed in
<a href="#7_2_3_navigation_keys">section 7.2.3</a> alter the interface, they:</p>

<ul>
<li>[C-1-1] MUST support at least up to 7 displayed activities.</li>
<li>SHOULD at least display the title of 4 activities at a time.</li>
<li>[C-1-2] MUST implement the <a href="http://developer.android.com/about/versions/android-5.0.html#ScreenPinning">screen pinning behavior</a>
and provide the user with a settings menu to toggle the feature.</li>
<li>SHOULD display highlight color, icon, screen title in recents.</li>
<li>SHOULD display a closing affordance (&quot;x&quot;) but MAY delay this until user interacts with screens.</li>
<li>SHOULD implement a shortcut to switch easily to the previous activity.</li>
<li>SHOULD trigger the fast-switch action between the two most recently used
apps, when the recents function key is tapped twice.</li>
<li>SHOULD trigger the split-screen multiwindow-mode, if supported, when the
recents functions key is long pressed.</li>
<li>MAY display affiliated recents as a group that moves together.</li>
<li>[SR] Are STRONGLY RECOMMENDED to use the upstream Android user
interface (or a similar thumbnail-based interface) for the overview screen.</li>
</ul>

<h4 id="389_input_management" data-text="3.8.9. Input Management">3.8.9. Input Management</h4>

<p>Android includes support for
<a href="http://developer.android.com/guide/topics/text/creating-input-method.html">Input Management</a>
and support for third-party input method editors.</p>

<p>If device implementations allow users to use third-party input methods on the
device, they:</p>

<ul>
<li>[C-1-1] MUST declare the platform feature android.software.input_methods and
support IME APIs as defined in the Android SDK documentation.</li>
</ul>

<h4 id="3810_lock_screen_media_control" data-text="3.8.10. Lock Screen Media Control">3.8.10. Lock Screen Media Control</h4>

<p>The Remote Control Client API is deprecated from Android 5.0 in favor of the
<a href="http://developer.android.com/reference/android/app/Notification.MediaStyle.html">Media Notification Template</a>
that allows media applications to integrate with playback controls that are
displayed on the lock screen.</p>

<h4 id="3811_screen_savers_previously_dreams" data-text="3.8.11. Screen savers (previously Dreams)">3.8.11. Screen savers (previously Dreams)</h4>

<p>See <a href="#3_2_3_5_conditional_application_intents">section 3.2.3.5</a> for settings
intent to congfigure screen savers.</p>

<h4 id="3812_location" data-text="3.8.12. Location">3.8.12. Location</h4>

<p>If device implementations include a hardware sensor (e.g. GPS) that is capable
of providing the location coordinates, they</p>

<ul>
<li>[C-1-2] MUST display the <a href="https://developer.android.com/reference/android/location/LocationManager.html#isLocationEnabled%28%29">current status of location</a>
in the Location menu within Settings.</li>
<li>[C-1-3] MUST NOT display <a href="https://developer.android.com/reference/android/provider/Settings.Secure.html#LOCATION_MODE">location modes</a>
in the Location menu within Settings.</li>
</ul>

<h4 id="3813_unicode_and_font" data-text="3.8.13. Unicode and Font">3.8.13. Unicode and Font</h4>

<p>Android includes support for the emoji characters defined in
<a href="http://www.unicode.org/versions/Unicode10.0.0/">Unicode 10.0</a>.</p>

<p>If device implementations include a screen or video output, they:</p>

<ul>
<li>[C-1-1] MUST be capable of rendering these emoji characters in color glyph.</li>
<li>[C-1-2] MUST include support for:
<ul>
<li>Roboto 2 font with different weights—sans-serif-thin, sans-serif-light,
sans-serif-medium, sans-serif-black, sans-serif-condensed,
sans-serif-condensed-light for the languages available on the device.</li>
<li>Full Unicode 7.0 coverage of Latin, Greek, and Cyrillic, including the
Latin Extended A, B, C, and D ranges, and all glyphs in the currency
symbols block of Unicode 7.0.</li>
</ul></li>
<li>[C-1-3] MUST NOT remove or modify NotoColorEmoji.tff in the system image.
(It is acceptable to add a new emoji font to override emoji in
 NotoColorEmoji.tff)</li>
<li>SHOULD support the skin tone and diverse family emojis as specified in the
<a href="http://unicode.org/reports/tr51">Unicode Technical Report #51</a>.</li>
</ul>

<p>If device implementations include an IME, they:</p>

<ul>
<li>SHOULD provide an input method to the user for these emoji characters.</li>
</ul>

<p>Android includes support to render Myanmar fonts. Myanmar has several
non-Unicode compliant fonts, commonly known as “Zawgyi,” for rendering Myanmar
languages.</p>

<p>If device implementations include support for Burmese, they:</p>
<pre class="prettyprint" translate="no" dir="ltr"><code translate="no" dir="ltr">* [C-2-1] MUST render text with Unicode compliant font as default;
  non-Unicode compliant font MUST NOT be set as default font unless the user
  chooses it in the language picker.
* [C-2-2] MUST support a Unicode font and a non-Unicode compliant font if a
  non-Unicode compliant font is supported on the device.  Non-Unicode
  compliant font MUST NOT remove or overwrite the Unicode font.
* [C-2-3] MUST render text with non-Unicode compliant font ONLY IF a
  language code with [script code Qaag](
  http://unicode.org/reports/tr35/#unicode_script_subtag_validity) is
  specified (e.g. my-Qaag). No other ISO language or region codes (whether
  assigned, unassigned, or reserved) can be used to refer to non-Unicode
  compliant font for Myanmar. App developers and web page authors can
  specify my-Qaag as the designated language code as they would for any
  other language.
</code></pre>
<h4 id="3814_multi-windows" data-text="3.8.14. Multi-windows">3.8.14. Multi-windows</h4>

<p>If device implementations have the capability to display multiple activities at
the same time, they:</p>

<ul>
<li>[C-1-1] MUST implement such multi-window mode(s) in accordance with the
application behaviors and APIs described in the Android SDK
<a href="https://developer.android.com/guide/topics/ui/multi-window.html">multi-window mode support documentation</a> and meet
the following requirements:</li>
<li>[C-1-2] MUST honor <a href="https://developer.android.com/reference/android/R.attr.html#resizeableActivity"><code translate="no" dir="ltr">android:resizeableActivity</code></a>
that is set by an app in the <code translate="no" dir="ltr">AndroidManifest.xml</code> file as described in
<a href="https://developer.android.com/guide/topics/manifest/application-element#resizeableActivity">this SDK</a>.</li>
<li>[C-1-3] MUST NOT offer split-screen or freeform mode if
the screen height is less than 440 dp and the screen width is less than 440
dp.</li>
<li>[C-1-4] An activity MUST NOT be resized to a size smaller than 220dp in
multi-window modes other than Picture-in-Picture.</li>
<li>Device implementations with screen size <code translate="no" dir="ltr">xlarge</code> SHOULD support freeform
mode.</li>
</ul>

<p>If device implementations support multi-window mode(s), and the split screen
mode, they:</p>

<ul>
<li>[C-2-2] MUST crop the docked activity of a split-screen multi-window but
SHOULD show some content of it, if the Launcher app is the focused window.</li>
<li>[C-2-3] MUST honor the declared <a href="https://developer.android.com/reference/android/R.styleable.html#AndroidManifestLayout_minWidth"><code translate="no" dir="ltr">AndroidManifestLayout_minWidth</code></a>
and <a href="https://developer.android.com/reference/android/R.styleable.html#AndroidManifestLayout_minHeight"><code translate="no" dir="ltr">AndroidManifestLayout_minHeight</code></a>
values of the third-party launcher application and not override these values
in the course of showing some content of the docked activity.</li>
</ul>

<p>If device implementations support multi-window mode(s) and Picture-in-Picture
multi-window mode, they:</p>

<ul>
<li>[C-3-1] MUST launch activities in picture-in-picture multi-window mode
when the app is:
    *   Targeting API level 26 or higher and declares
    <a href="https://developer.android.com/reference/android/R.attr.html#supportsPictureInPicture"><code translate="no" dir="ltr">android:supportsPictureInPicture</code></a>
    *   Targeting API level 25 or lower and declares both <a href="https://developer.android.com/reference/android/R.attr.html#resizeableActivity"><code translate="no" dir="ltr">android:resizeableActivity</code></a>
    and <a href="https://developer.android.com/reference/android/R.attr.html#supportsPictureInPicture"><code translate="no" dir="ltr">android:supportsPictureInPicture</code></a>.</li>
<li>[C-3-2] MUST expose the actions in their SystemUI as
specified by the current PIP activity through the <a href="https://developer.android.com/reference/android/app/PictureInPictureParams.Builder.html#setActions%28java.util.List%3Candroid.app.RemoteAction%3E%29"><code translate="no" dir="ltr">setActions()</code></a>
API.</li>
<li>[C-3-3] MUST support aspect ratios greater than or equal to
1:2.39 and less than or equal to 2.39:1, as specified by the PIP activity through
the <a href="https://developer.android.com/reference/android/app/PictureInPictureParams.Builder.html#setAspectRatio%28android.util.Rational%29"><code translate="no" dir="ltr">setAspectRatio()</code></a>
API.</li>
<li>[C-3-4] MUST use <a href="https://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_WINDOW"><code translate="no" dir="ltr">KeyEvent.KEYCODE_WINDOW</code></a>
to control the PIP window; if PIP mode is not implemented, the key MUST be
available to the foreground activity.</li>
<li>[C-3-5] MUST provide a user affordance to block an app from displaying in
PIP mode; the AOSP implementation meets this requirement by having
controls in the notification shade.</li>
<li><p>[C-3-6] MUST allocate the following minimum width and height for the PIP
window when an application does not declare any value for
<a href="https://developer.android.com/reference/android/R.styleable.html#AndroidManifestLayout_minWidth"><code translate="no" dir="ltr">AndroidManifestLayout_minWidth</code></a>
and <a href="https://developer.android.com/reference/android/R.styleable.html#AndroidManifestLayout_minHeight"><code translate="no" dir="ltr">AndroidManifestLayout_minHeight</code></a>:</p>

<ul>
<li>Devices with the Configuration.uiMode that is set other than
<a href="https://developer.android.com/reference/android/content/res/Configuration.html#UI_MODE_TYPE_TELEVISION"><code translate="no" dir="ltr">UI_MODE_TYPE_TELEVISION</code></a>
MUST allocate a minimum width and height of 108 dp.</li>
<li>Devices with the Configuration.uiMode that is set to
<a href="https://developer.android.com/reference/android/content/res/Configuration.html#UI_MODE_TYPE_TELEVISION"><code translate="no" dir="ltr">UI_MODE_TYPE_TELEVISION</code></a>
MUST allocate a minimum width of 240 dp and a minimum height of 135 dp.</li>
</ul></li>
</ul>

<h4 id="3815_display_cutout" data-text="3.8.15. Display Cutout">3.8.15. Display Cutout</h4>

<p>Android supports a Display Cutout as described
in the SDK document. The <a href="https://developer.android.com/reference/android/view/DisplayCutout"><code translate="no" dir="ltr">DisplayCutout</code></a> API defines
an area on the edge of the display that may not be functional for an application
due to a display cutout or curved display on the edge(s).</p>

<p>If device implementations include display cutout(s), they:</p>

<ul>
<li>[C-1-5] MUST NOT have cutout(s) if the device&#39;s aspect ratio is 1.0(1:1).</li>
<li>[C-1-2] MUST NOT have more than one cutout per edge.</li>
<li>[C-1-3] MUST honor the display cutout flags set by the app through the
<a href="https://developer.android.com/reference/android/view/WindowManager.LayoutParams"><code translate="no" dir="ltr">WindowManager.LayoutParams</code></a>
API as described in the SDK.</li>
<li>[C-1-4] MUST report correct values for all cutout metrics defined in the
<a href="https://developer.android.com/reference/android/view/DisplayCutout"><code translate="no" dir="ltr">DisplayCutout</code></a> API.</li>
</ul>

<h4 id="3816_device_controls" data-text="3.8.16. Device Controls">3.8.16. Device Controls</h4>

<p>Android includes <a href="https://developer.android.com/reference/android/service/controls/ControlsProviderService"><code translate="no" dir="ltr">ControlsProviderService</code></a>
and <a href="https://developer.android.com/reference/android/service/controls/Control"><code translate="no" dir="ltr">Control</code></a>
APIs to allow third-party applications to publish device controls for quick
status and action for users.</p>

<p>See Section <a href="#2_2_3_software">2_2_3</a> for device-specific requirements.</p>

<h3 id="39_device_administration" data-text="3.9. Device Administration">3.9. Device Administration</h3>

<p>Android includes features that allow security-aware applications to perform
device administration functions at the system level, such as enforcing password
policies or performing remote wipe, through the
<a href="http://developer.android.com/guide/topics/admin/device-admin.html">Android Device Administration API</a>.</p>

<p>If device implementations implement the full range of <a href="http://developer.android.com/guide/topics/admin/device-admin.html">device administration</a>
policies defined in the Android SDK documentation, they:</p>

<ul>
<li>[C-1-1] MUST declare <code translate="no" dir="ltr">android.software.device_admin</code>.</li>
<li>[C-1-2] MUST support device owner provisioning as described in
<a href="#3_9_1_device_provisioning">section 3.9.1</a> and
<a href="#3_9_1_1_device_owner_provisioning">section 3.9.1.1</a>.</li>
</ul>

<h4 id="391_device_provisioning" data-text="3.9.1 Device Provisioning">3.9.1 Device Provisioning</h4>

<h5 id="3911_device_owner_provisioning" data-text="3.9.1.1 Device owner provisioning">3.9.1.1 Device owner provisioning</h5>

<p>If device implementations declare <code translate="no" dir="ltr">android.software.device_admin</code>, they:</p>

<ul>
<li>[C-1-1] MUST support enrolling a Device Policy Client (DPC) as a
<a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#isDeviceOwnerApp%28java.lang.String%29">Device Owner app</a>
as described below:
<ul>
<li>When the device implementation has no user data configured yet, it:
<ul>
<li>[C-1-5] MUST enroll the DPC application as the Device Owner app if the
 device declares Near-Field Communications (NFC) support via the feature
 flag <code translate="no" dir="ltr">android.hardware.nfc</code> and receives an NFC message containing a
 record with MIME type <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#MIME_TYPE_PROVISIONING_NFC"><code translate="no" dir="ltr">MIME_TYPE_PROVISIONING_NFC</code></a>.</li>
<li>[C-1-8] MUST send the <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_GET_PROVISIONING_MODE">ACTION_GET_PROVISIONING_MODE</a>
intent after device owner provisioning is triggered so that the
DPC app can choose whether to become a Device Owner or a Profile
Owner unless it can be determined from context that there is only
one valid option (such as for NFC based provisioning where Profile
Owner provisioning is not supported).</li>
<li>[C-1-9] MUST send the <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_ADMIN_POLICY_COMPLIANCE">ACTION_ADMIN_POLICY_COMPLIANCE</a>
intent to the Device Owner app if a Device Owner is established
during provisioning regardless of the provisioning method used. The
user must not be able to proceed in the Setup Wizard until the
Device Owner app finishes.</li>
</ul></li>
<li>When the device implementation has user data, it:
<ul>
<li>[C-1-7] MUST not enroll any DPC application as the Device Owner App
 any more.</li>
</ul></li>
</ul></li>
<li>[C-1-2] MUST require some affirmative action before or during the
provisioning process to consent to the app being set as Device Owner.
Consent can be via user action or by some programmatic means but appropriate
disclosure notice (as referenced in AOSP) MUST be shown before device owner
provisioning is initiated. Also, the programmatic device owner consent
mechanism used (by enterprises) for device owner provisioning MUST NOT
interfere with the Out-Of-Box Experience for non-enterprise use. </li>
<li>[C-1-3] MUST NOT hard code the consent or prevent the use of other device
owner apps.</li>
</ul>

<p>If device implementations declare <code translate="no" dir="ltr">android.software.device_admin</code>, but also
include a proprietary Device Owner management solution and provide a mechanism
to promote an application configured in their solution as a &quot;Device Owner
equivalent&quot; to the standard &quot;Device Owner&quot; as recognized by the standard Android
<a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html">DevicePolicyManager</a>
APIs, they:</p>

<ul>
<li>[C-2-1] MUST have a process in place to verify that the specific app
 being promoted belongs to a legitimate enterprise device management
 solution and it has been already configured in the proprietary solution
 to have the rights equivalent as a &quot;Device Owner&quot;.</li>
<li>[C-2-2] MUST show the same AOSP Device Owner consent disclosure as the
 flow initiated by <a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#ACTION_PROVISION_MANAGED_DEVICE"><code translate="no" dir="ltr">android.app.action.PROVISION_MANAGED_DEVICE</code></a>
 prior to enrolling the DPC application as &quot;Device Owner&quot;.</li>
<li>MAY have user data on the device prior to enrolling the DPC application
 as &quot;Device Owner&quot;.</li>
</ul>

<h5 id="3912_managed_profile_provisioning" data-text="3.9.1.2 Managed profile provisioning">3.9.1.2 Managed profile provisioning</h5>

<p>If device implementations declare <code translate="no" dir="ltr">android.software.managed_users</code>, they:</p>

<ul>
<li><p>[C-1-1] MUST implement the <a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#ACTION_PROVISION_MANAGED_PROFILE">APIs</a>
allowing a Device Policy Controller (DPC) application to become the
<a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#isProfileOwnerApp%28java.lang.String%29">owner of a new Managed Profile</a>.</p></li>
<li><p>[C-1-2] The managed profile provisioning process (the flow initiated by the DPC using the
<a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#ACTION_PROVISION_MANAGED_PROFILE">android.app.action.PROVISION_MANAGED_PROFILE</a>)
or by the platform), consent screen and user experience MUST align with
the AOSP implementation.</p></li>
<li><p>[C-1-3] MUST provide the following user affordances within the Settings to
indicate to the user when a particular system function has been disabled by
the Device Policy Controller (DPC):</p>

<ul>
<li>A consistent icon or other user affordance (for example the upstream
AOSP info icon) to represent when a particular setting is restricted by
a Device Admin.</li>
<li>A short explanation message, as provided by the Device Admin via the
<a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#setShortSupportMessage%28android.content.ComponentName,%20java.lang.CharSequence%29"><code translate="no" dir="ltr">setShortSupportMessage</code></a>.</li>
<li>The DPC application’s icon.</li>
</ul></li>
<li><p>[C-1-4] MUST launch the handler for <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_PROVISIONING_SUCCESSFUL">ACTION_PROVISIONING_SUCCESSFUL</a>
intent in the work profile if a Profile Owner is established when
provisioning is initiated by the <a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#ACTION_PROVISION_MANAGED_PROFILE">android.app.action.PROVISION_MANAGED_PROFILE</a>
intent and the DPC has implemented the handler.</p></li>
<li><p>[C-1-5] MUST send <a href="https://developer.android.com/reference/android/app/admin/DeviceAdminReceiver#ACTION_PROFILE_PROVISIONING_COMPLETE">ACTION_PROFILE_PROVISIONING_COMPLETE</a>
broadcast to the work profile DPC when provisioning is initiated by the
<a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#ACTION_PROVISION_MANAGED_PROFILE">android.app.action.PROVISION_MANAGED_PROFILE</a>
intent.</p></li>
<li><p>[C-1-6] MUST send the <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_GET_PROVISIONING_MODE">ACTION_GET_PROVISIONING_MODE</a>
intent after profile owner provisioning is triggered so that the DPC app
can choose whether to become a Device Owner or a Profile Owner execpt when
provisioning is triggered by the intent <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_PROVISION_MANAGED_PROFILE">android.app.action.PROVISION_MANAGED_PROFILE</a>.</p></li>
<li><p>[C-1-7] MUST send the <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_ADMIN_POLICY_COMPLIANCE">ACTION_ADMIN_POLICY_COMPLIANCE</a>
intent to the work profile when a Profile Owner is established during
provisioning regardless of which provisioning method is used except
when provisioning is triggered by the intent <a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#ACTION_PROVISION_MANAGED_PROFILE">android.app.action.PROVISION_MANAGED_PROFILE</a>.
The user must not be able proceed in the Setup Wizard until the Profile
Owner app finishes.</p></li>
<li><p>[C-1-8] MUST send <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#ACTION_MANAGED_PROFILE_PROVISIONED">ACTION_MANAGED_PROFILE_PROVISIONED</a>
broadcast to the personal profile DPC when a Profile Owner is established,
regardless of the provisioning method used.</p></li>
</ul>

<h4 id="392_managed_profile_support" data-text="3.9.2 Managed Profile Support">3.9.2 Managed Profile Support</h4>

<p>If device implementations declare <code translate="no" dir="ltr">android.software.managed_users</code>, they:</p>

<ul>
<li>[C-1-1] MUST support managed profiles via the <code translate="no" dir="ltr">android.app.admin.DevicePolicyManager</code>
APIs.</li>
<li>[C-1-2] MUST allow one and only <a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#ACTION_PROVISION_MANAGED_PROFILE">one managed profile to be created</a>.</li>
<li>[C-1-3] MUST use an icon badge (similar to the AOSP upstream work badge) to
represent the managed applications and widgets and other badged UI elements
like Recents &amp; Notifications.</li>
<li>[C-1-4] MUST display a notification icon (similar to the AOSP upstream work
badge) to indicate when user is within a managed profile application.</li>
<li>[C-1-5] MUST display a toast indicating that the user is in the managed
profile if and when the device wakes up (ACTION_USER_PRESENT) and the
foreground application is within the managed profile.</li>
<li>[C-1-6] Where a managed profile exists, MUST show a visual affordance in the
Intent &#39;Chooser&#39; to allow the user to forward the intent from the managed
profile to the primary user or vice versa, if enabled by the Device Policy
Controller.</li>
<li>[C-1-7] Where a managed profile exists, MUST expose the following user
affordances for both the primary user and the managed profile:
<ul>
<li>Separate accounting for battery, location, mobile data and storage usage
for the primary user and managed profile.</li>
<li>Independent management of VPN Applications installed within the primary
user or managed profile.</li>
<li>Independent management of applications installed within the primary user
or managed profile.</li>
<li>Independent management of accounts within the primary user or managed
profile.</li>
</ul></li>
<li>[C-1-8] MUST ensure the preinstalled dialer, contacts and messaging
applications can search for and look up caller information from the managed
profile (if one exists) alongside those from the primary profile, if the
Device Policy Controller permits it.</li>
<li>[C-1-9] MUST ensure that it satisfies all the security requirements
applicable for a device with multiple users enabled
(see <a href="#9_5_multi-user_support">section 9.5</a>), even though the managed profile
is not counted as another user in addition to the primary user.</li>
</ul>

<p>If device implementations declare <code translate="no" dir="ltr">android.software.managed_users</code> and
<code translate="no" dir="ltr">android.software.secure_lock_screen</code>, they:</p>

<ul>
<li>[C-2-1] MUST support the ability to specify a separate lock screen meeting
the following requirements to grant access to apps running in a managed
profile only.
<ul>
<li>Device implementations MUST honor the
<a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#ACTION_SET_NEW_PASSWORD"><code translate="no" dir="ltr">DevicePolicyManager.ACTION_SET_NEW_PASSWORD</code></a>
intent and show an interface to configure a separate lock screen
credential for the managed profile.</li>
<li>The lock screen credentials of the managed profile MUST use the same
credential storage and management mechanisms as the parent profile,
as documented on the
<a href="http://source.android.com/security/authentication/index.html">Android Open Source Project Site</a>.</li>
<li>The DPC <a href="https://developer.android.com/guide/topics/admin/device-admin.html#pwd">password policies</a>
MUST apply to only the managed profile&#39;s lock screen credentials unless
called upon the <code translate="no" dir="ltr">DevicePolicyManager</code> instance returned by
<a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#getParentProfileInstance%28android.content.ComponentName%29">getParentProfileInstance</a>.</li>
</ul></li>
<li>When contacts from the managed profile are displayed
in the preinstalled call log, in-call UI, in-progress and missed-call
notifications, contacts and messaging apps they SHOULD be badged with the
same badge used to indicate managed profile applications.</li>
</ul>

<h4 id="393_managed_user_support" data-text="3.9.3 Managed User Support">3.9.3 Managed User Support</h4>

<p>If device implementations declare <code translate="no" dir="ltr">android.software.managed_users</code>, they:</p>

<ul>
<li>[C-1-1] MUST provide a user affordance to logout from the current user and
switch back to the primary user in multiple-user session when
<a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#isLogoutEnabled%28%29"><code translate="no" dir="ltr">isLogoutEnabled</code></a>
returns <code translate="no" dir="ltr">true</code>. The user affordance MUST be accessible from the lockscreen
without unlocking the device.</li>
</ul>

<p>If device implementations declare <code translate="no" dir="ltr">android.software.device_admin</code> and provide
an on-device user affordance to add additional <a href="https://source.android.com/devices/tech/admin/multi-user#user_types">secondary Users</a>, they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED show the same AOSP Device Owner consent
disclosures that were shown in the flow initiated by
<a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#ACTION_PROVISION_MANAGED_DEVICE">android.app.action.PROVISION_MANAGED_DEVICE</a>,
prior to allowing accounts to be added in the new secondary User,
so users understand that the device is managed.</li>
</ul>

<h3 id="310_accessibility" data-text="3.10. Accessibility">3.10. Accessibility</h3>

<p>Android provides an accessibility layer that helps users with disabilities to
navigate their devices more easily. In addition, Android provides platform APIs
that enable accessibility service implementations to receive callbacks for user
and system events and generate alternate feedback mechanisms, such as
text-to-speech, haptic feedback, and trackball/d-pad navigation.</p>

<p>If device implementations support third-party accessibility services, they:</p>

<ul>
<li>[C-1-1] MUST provide an implementation of the Android accessibility
framework as described in the <a href="http://developer.android.com/reference/android/view/accessibility/package-summary.html">accessibility APIs</a>
SDK documentation.</li>
<li>[C-1-2] MUST generate accessibility events and deliver the appropriate
<code translate="no" dir="ltr">AccessibilityEvent</code> to all registered <a href="http://developer.android.com/reference/android/accessibilityservice/AccessibilityService.html"><code translate="no" dir="ltr">AccessibilityService</code></a>
implementations as documented in the SDK.</li>
<li>[C-1-4] MUST provide a user affordance to control accessibility
services that declare the
<a href="https://developer.android.com/reference/android/accessibilityservice/AccessibilityServiceInfo.html#FLAG%5FREQUEST%5FACCESSIBILITY%5FBUTTON">AccessibilityServiceInfo.FLAG_REQUEST_ACCESSIBILITY_BUTTON</a>.
Note that for device implementations with a system navigation bar, they
SHOULD allow the user to have the option for a button in the system&#39;s
navigation bar to control these services.</li>
</ul>

<p>If device implementations include preinstalled accessibility services, they:</p>

<ul>
<li>[C-2-1] MUST implement these preinstalled accessibility services as <a href="https://developer.android.com/reference/android/content/pm/ComponentInfo.html#directBootAware">Direct Boot Aware</a>
apps when the data storage is encrypted with File Based Encryption (FBE).</li>
<li>SHOULD provide a mechanism in the out-of-box setup flow for users to enable
relevant accessibility services, as well as options to adjust the font size,
display size and magnification gestures.</li>
</ul>

<h3 id="311_text-to-speech" data-text="3.11. Text-to-Speech">3.11. Text-to-Speech</h3>

<p>Android includes APIs that allow applications to make use of text-to-speech
(TTS) services and allows service providers to provide implementations of TTS
services.</p>

<p>If device implementations reporting the feature android.hardware.audio.output,
they:</p>

<ul>
<li>[C-1-1] MUST support the <a href="http://developer.android.com/reference/android/speech/tts/package-summary.html">Android TTS framework</a>
APIs.</li>
</ul>

<p>If device implementations support installation of third-party TTS engines, they:</p>

<ul>
<li>[C-2-1] MUST provide user affordance to allow the user to select a TTS
engine for use at system level.</li>
</ul>

<h3 id="312_tv_input_framework" data-text="3.12. TV Input Framework">3.12. TV Input Framework</h3>

<p>The <a href="http://source.android.com/devices/tv/index.html">Android Television Input Framework (TIF)</a> simplifies the delivery of live
content to Android Television devices. TIF provides a standard API to create
input modules that control Android Television devices.</p>

<p>If device implementations support TIF, they:</p>

<ul>
<li>[C-1-1] MUST declare the platform feature <code translate="no" dir="ltr">android.software.live_tv</code>.</li>
<li>[C-1-2] MUST support all TIF APIs such that an application which uses
these APIs and the <a href="https://source.android.com/devices/tv/index.html#third-party_input_example">third-party TIF-based inputs</a>
service can be installed and used on the device.</li>
</ul>

<h3 id="313_quick_settings" data-text="3.13. Quick Settings">3.13. Quick Settings</h3>

<p>Android provides a Quick Settings UI component that allows quick access to
frequently used or urgently needed actions.</p>

<p>If device implementations include a Quick Settings UI component and support third-party
Quick Settings, they:</p>

<ul>
<li>[C-1-1] MUST allow the user to add or remove the tiles provided through the
 <a href="https://developer.android.com/reference/android/service/quicksettings/package-summary.html"><code translate="no" dir="ltr">quicksettings</code></a>
 APIs from a third-party app.</li>
<li>[C-1-2] MUST NOT automatically add a tile from a third-party app directly
 to the Quick Settings.</li>
<li>[C-1-3] MUST display all the user-added tiles from third-party apps
 alongside the system-provided quick setting tiles.</li>
</ul>

<h3 id="314_media_ui" data-text="3.14. Media UI">3.14. Media UI</h3>

<p>If device implementations include non-voice-activated applications (the Apps) that interact with
third-party applications through <a href="http://developer.android.com/reference/android/media/browse/MediaBrowser.html"><code translate="no" dir="ltr">MediaBrowser</code></a>
or <a href="http://developer.android.com/reference/android/media/session/MediaSession.html"><code translate="no" dir="ltr">MediaSession</code></a>,
the Apps:</p>

<ul>
<li><p>[C-1-2] MUST clearly display icons obtained via getIconBitmap() or getIconUri() and titles
 obtained via getTitle() as described in <a href="http://developer.android.com/reference/android/media/MediaDescription.html"><code translate="no" dir="ltr">MediaDescription</code></a>.
 May shorten titles to comply with safety regulations (e.g. driver distraction).</p></li>
<li><p>[C-1-3] MUST show the third-party application icon whenever displaying content provided by
 this third-party application.</p></li>
<li><p>[C-1-4] MUST allow the user to interact with the entire <a href="http://developer.android.com/reference/android/media/browse/MediaBrowser.html"><code translate="no" dir="ltr">MediaBrowser</code></a>
 hierarchy. MAY restrict the access to part of the hierarchy to comply with safety regulations
 (e.g. driver distraction), but MUST NOT give preferential treatment based on content or
 content provider.</p></li>
<li><p>[C-1-5] MUST consider double tap of <a href="https://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_HEADSETHOOK"><code translate="no" dir="ltr">KEYCODE_HEADSETHOOK</code></a>
 or <a href="https://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_MEDIA_PLAY_PAUSE"><code translate="no" dir="ltr">KEYCODE_MEDIA_PLAY_PAUSE</code></a>
 as <a href="https://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_MEDIA_NEXT"><code translate="no" dir="ltr">KEYCODE_MEDIA_NEXT</code></a>
 for <a href="https://developer.android.com/reference/android/media/session/MediaSession.Callback.html#onMediaButtonEvent%28android.content.Intent%29"><code translate="no" dir="ltr">MediaSession.Callback#onMediaButtonEvent</code></a>.</p></li>
</ul>

<h3 id="315_instant_apps" data-text="3.15. Instant Apps">3.15. Instant Apps</h3>

<p>Device implementations MUST satisfy the following requirements:</p>

<ul>
<li>[C-0-1] Instant Apps MUST only be granted permissions that have the
<a href="https://developer.android.com/reference/android/R.attr#protectionLevel"><code translate="no" dir="ltr">android:protectionLevel</code></a>
set to <code translate="no" dir="ltr">&quot;instant&quot;</code>.</li>
<li>[C-0-2] Instant Apps MUST NOT interact with installed apps via <a href="https://developer.android.com/reference/android/content/Intent.html">implicit intents</a>
unless one of the following is true:
<ul>
<li>The component&#39;s intent pattern filter is exposed and has CATEGORY_BROWSABLE</li>
<li>The action is one of ACTION_SEND, ACTION_SENDTO, ACTION_SEND_MULTIPLE</li>
<li>The target is explicitly exposed with <a href="https://developer.android.com/reference/android/R.attr.html#visibleToInstantApps">android:visibleToInstantApps</a></li>
</ul></li>
<li>[C-0-3] Instant Apps MUST NOT interact explicitly with installed apps unless the
component is exposed via android:visibleToInstantApps.</li>
<li>[C-0-4] Installed Apps MUST NOT see details about Instant Apps on the
device unless the Instant App explicitly connects to the
installed application.</li>
<li>Device implementations MUST provide the following user affordances for
interacting with Instant Apps. The AOSP meets the requirements with the
default System UI, Settings, and Launcher. Device implementations:
<ul>
<li>[C-0-5] MUST provide a user affordance to view and delete Instant Apps
locally cached for each individual app package.</li>
<li>[C-0-6] MUST provide a persistent user notification that can be
collapsed while an Instant App is running in the foreground. This user
notification MUST include that Instant Apps do not require installation
and provide a user affordance that directs the user to the application
info screen in Settings. For Instant Apps launched via web intents, as
defined by using an intent with action set to <code translate="no" dir="ltr">Intent.ACTION_VIEW</code> and
with a scheme of &quot;http&quot; or &quot;https&quot;, an additional user affordance
SHOULD allow the user not to launch the Instant App and
launch the associated link with the configured web browser, if a browser
is available on the device.</li>
<li>[C-0-7] MUST allow running Instant Apps to be accessed from the Recents
function if the Recents function is available on the device.</li>
</ul></li>
</ul>

<p>If device implementations support Instant Apps, they:</p>

<ul>
<li>[C-1-1] MUST preload one or more applications or service components
with an intent handler for the intents listed in the SDK <a href="https://developer.android.com/topic/google-play-instant/instant-app-intents">here</a>
and make the intents visible for Instant Apps.</li>
</ul>

<h3 id="316_companion_device_pairing" data-text="3.16. Companion Device Pairing">3.16. Companion Device Pairing</h3>

<p>Android includes support for companion device pairing to more effectively manage
association with companion devices and provides the <a href="https://developer.android.com/reference/android/companion/CompanionDeviceManager.html"><code translate="no" dir="ltr">CompanionDeviceManager</code>
</a>
API for apps to access this feature.</p>

<p>If device implementations support the companion device pairing feature, they:</p>

<ul>
<li>[C-1-1] MUST declare the feature flag <a href="https://developer.android.com/reference/android/content/pm/PackageManager.html#FEATURE_COMPANION_DEVICE_SETUP"><code translate="no" dir="ltr">FEATURE_COMPANION_DEVICE_SETUP</code>
</a>
.</li>
<li>[C-1-2] MUST ensure the APIs in the <a href="https://developer.android.com/reference/android/companion/package-summary.html"><code translate="no" dir="ltr">android.companion</code>
</a>
package is fully implemented.</li>
<li>[C-1-3] MUST provide user affordances for the user to select/confirm a companion
device is present and operational.</li>
</ul>

<h3 id="317_heavyweight_apps" data-text="3.17. Heavyweight Apps">3.17. Heavyweight Apps</h3>

<p>If device implementations declare the feature <a href="https://developer.android.com/reference/android/content/pm/PackageManager.html#FEATURE_CANT_SAVE_STATE"><code translate="no" dir="ltr">FEATURE_CANT_SAVE_STATE</code></a>,
then they:</p>

<ul>
<li>[C-1-1] MUST have only one installed app that specifies
 <a href="https://developer.android.com/reference/android/R.attr#cantSaveState"><code translate="no" dir="ltr">cantSaveState</code></a>
 running in the system at a time. If the user
 leaves such an app without explicitly exiting it (for example by pressing
 home while leaving an active activity the system, instead of pressing back
 with no remaining active activities in the system), then
 device implementations MUST prioritize that app in RAM as they do for other
 things that are expected to remain running, such as foreground services.
 While such an app is in the background, the system can still apply power
 management features to it, such as limiting CPU and network access.</li>
<li>[C-1-2] MUST provide a UI affordance to chose the app that won&#39;t
 participate in the normal state save/restore mechanism once the user
 launches a second app declared with <a href="https://developer.android.com/reference/android/R.attr#cantSaveState"><code translate="no" dir="ltr">cantSaveState</code></a>
 attribute.</li>
<li>[C-1-3] MUST NOT apply other changes in policy to apps that specify
 <a href="https://developer.android.com/reference/android/R.attr#cantSaveState"><code translate="no" dir="ltr">cantSaveState</code></a>,
 such as changing CPU performance or changing scheduling prioritization.</li>
</ul>

<p>If device implementations don&#39;t declare the feature <a href="https://developer.android.com/reference/android/content/pm/PackageManager.html#FEATURE_CANT_SAVE_STATE"><code translate="no" dir="ltr">FEATURE_CANT_SAVE_STATE</code></a>,
then they:</p>

<ul>
<li>[C-1-1] MUST ignore the <a href="https://developer.android.com/reference/android/R.attr#cantSaveState"><code translate="no" dir="ltr">cantSaveState</code></a>
 attribute set by apps and MUST NOT change the app behavior based on that
 attribute.</li>
</ul>

<h3 id="318_contacts" data-text="3.18. Contacts">3.18. Contacts</h3>

<p>Android includes <a href="https://developer.android.com/guide/topics/providers/contacts-provider"><code translate="no" dir="ltr">Contacts
Provider</code></a>
APIs to allow applications to manage contact information stored on the device.
Contact data that is entered directly into the device is typically synchronized
with a web service, but the data MAY also only reside locally on the device.
Contacts that are only stored on the device are referred to as <strong>local
contacts.</strong></p>

<p><a href="https://developer.android.com/reference/android/provider/ContactsContract.RawContacts">RawContacts</a>
are &quot;associated with&quot; or &quot;stored in&quot; an
<a href="https://developer.android.com/reference/android/accounts/Account">Account</a>
when the
<a href="https://developer.android.com/reference/android/provider/ContactsContract.SyncColumns.html#ACCOUNT_NAME"><code translate="no" dir="ltr">ACCOUNT_NAME</code></a>,
and
<a href="https://developer.android.com/reference/android/provider/ContactsContract.SyncColumns.html#ACCOUNT_TYPE"><code translate="no" dir="ltr">ACCOUNT_TYPE</code></a>,
columns for the raw contacts match the corresponding
<a href="https://developer.android.com/reference/android/accounts/Account#name">Account.name</a>
and
<a href="https://developer.android.com/reference/android/accounts/Account#type">Account.type</a>
fields of the account.</p>

<p><strong>Default local account</strong>: an account for raw contacts that are only stored on
the device and not associated with an Account in the <a href="https://developer.android.com/reference/android/accounts/AccountManager">AccountManager</a>, which are
created with <em>null</em> values for the
<a href="https://developer.android.com/reference/android/provider/ContactsContract.SyncColumns.html#ACCOUNT_NAME"><code translate="no" dir="ltr">ACCOUNT_NAME</code></a>,
and
<a href="https://developer.android.com/reference/android/provider/ContactsContract.SyncColumns.html#ACCOUNT_TYPE"><code translate="no" dir="ltr">ACCOUNT_TYPE</code></a>,
columns.</p>

<p><strong>Custom local account</strong>: an account for raw contacts that are only stored on the
device and not associated with an Account in the AccountManager, which are
created with <em>at least one non-null value</em> for the
<a href="https://developer.android.com/reference/android/provider/ContactsContract.SyncColumns.html#ACCOUNT_NAME"><code translate="no" dir="ltr">ACCOUNT_NAME</code></a>,
and
<a href="https://developer.android.com/reference/android/provider/ContactsContract.SyncColumns.html#ACCOUNT_TYPE"><code translate="no" dir="ltr">ACCOUNT_TYPE</code></a>,
columns.</p>

<p>Device implementations:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to not create <strong>custom local accounts</strong>.</li>
</ul>

<p>If device implementations use a <strong>custom local account</strong>:</p>

<ul>
<li>[C-1-1] The
 <a href="https://developer.android.com/reference/android/provider/ContactsContract.SyncColumns.html#ACCOUNT_NAME"><code translate="no" dir="ltr">ACCOUNT_NAME</code></a>,
 of the <strong>custom local account</strong> MUST be returned by
 <a href="https://developer.android.com/reference/android/provider/ContactsContract.RawContacts.html#getLocalAccountName()"><code translate="no" dir="ltr">ContactsContract.RawContacts.getLocalAccountName</code></a></li>
<li>[C-1-2] The
 <a href="https://developer.android.com/reference/android/provider/ContactsContract.SyncColumns.html#ACCOUNT_TYPE"><code translate="no" dir="ltr">ACCOUNT_TYPE</code></a>,
 of the <strong>custom local account</strong> MUST be returned by
 <a href="https://developer.android.com/reference/android/provider/ContactsContract.RawContacts.html#getLocalAccountType()"><code translate="no" dir="ltr">ContactsContract.RawContacts.getLocalAccountType</code></a></li>
<li>[C-1-3] Raw contacts that are inserted by third party applications with
 the <strong>default local account</strong> (i.e. by setting null values for
 <code translate="no" dir="ltr">ACCOUNT_NAME</code> and <code translate="no" dir="ltr">ACCOUNT_TYPE</code>) MUST be inserted to the <strong>custom local
 account</strong>.</li>
<li>[C-1-4] Raw contacts inserted into the <strong>custom local account</strong> MUST not be
 removed when accounts are added or removed.</li>
<li>[C-1-5] Delete operations performed against the <strong>custom local account</strong>
 MUST result in raw contacts being purged immediately (as if the
 <a href="https://developer.android.com/reference/android/provider/ContactsContract.html#CALLER_IS_SYNCADAPTER"><code translate="no" dir="ltr">CALLER_IS_SYNCADAPTER</code></a>
 param was set to true), even if the <code translate="no" dir="ltr">CALLER\_IS\_SYNCADAPTER</code> param was set
 to false or not specified.
## 4. Application Packaging Compatibility</li>
</ul>

<p>Devices implementations:</p>

<ul>
<li>[C-0-1] MUST be capable of installing and running Android “.apk” files as
generated by the “aapt” tool included in the
<a href="http://developer.android.com/tools/help/index.html">official Android SDK</a>.
<ul>
<li>As the above requirement may be challenging, device implementations are
RECOMMENDED to use the AOSP reference implementation&#39;s package management
system.</li>
</ul></li>
</ul>

<p>Device implementations:</p>

<ul>
<li>[C-0-2] MUST support verifying “.apk” files using the
<a href="https://source.android.com/security/apksigning/v3.html">APK Signature Scheme v3</a>
, <a href="https://source.android.com/security/apksigning/v2.html">APK Signature Scheme v2</a>
and <a href="https://source.android.com/security/apksigning/v2.html#v1-verification">JAR signing</a>.</li>
<li>[C-0-3] MUST NOT extend either the
<a href="http://developer.android.com/guide/components/fundamentals.html">.apk</a>,
<a href="http://developer.android.com/guide/topics/manifest/manifest-intro.html">Android Manifest</a>,
<a href="https://android.googlesource.com/platform/dalvik/">Dalvik bytecode</a>, or
RenderScript bytecode formats in such a way that would prevent those files from
installing and running correctly on other compatible devices.</li>
<li><p>[C-0-4] MUST NOT allow apps other than the current
&quot;installer of record&quot; for the package to silently uninstall the app without any
user confirmation, as documented in the SDK for the <a href="https://developer.android.com/reference/android/Manifest.permission.html#DELETE_PACKAGES"><code translate="no" dir="ltr">DELETE_PACKAGE</code></a>
permission. The only exceptions are the system package verifier app handling
<a href="https://developer.android.com/reference/android/content/Intent.html#ACTION_PACKAGE_NEEDS_VERIFICATION">PACKAGE_NEEDS_VERIFICATION</a>
intent and the storage manager app handling <a href="https://developer.android.com/reference/android/os/storage/StorageManager.html#ACTION_MANAGE_STORAGE">ACTION_MANAGE_STORAGE</a>
intent.</p></li>
<li><p>[C-0-5] MUST have an activity that handles the
<a href="http://developer.android.com/reference/android/provider/Settings.html#ACTION_MANAGE_UNKNOWN_APP_SOURCES"><code translate="no" dir="ltr">android.settings.MANAGE_UNKNOWN_APP_SOURCES</code></a>
intent.</p></li>
<li><p>[C-0-6] MUST NOT install application packages from unknown
sources, unless the app that <a href="https://developer.android.com/reference/android/content/Intent.html#ACTION_INSTALL_PACKAGE">requests the installation</a>
meets all the following requirements:</p>

<ul>
<li>It MUST declare the <a href="http://developer.android.com/reference/android/Manifest.permission.html#REQUEST_INSTALL_PACKAGES"><code translate="no" dir="ltr">REQUEST_INSTALL_PACKAGES</code></a>
permission or have the <code translate="no" dir="ltr">android:targetSdkVersion</code> set at 24 or lower.</li>
<li>It MUST have been granted permission by the user to install apps from
unknown sources.</li>
</ul></li>
<li><p>SHOULD provide a user affordance to grant/revoke the permission to
install apps from unknown sources per application, but MAY choose to implement
this as a no-op and return <code translate="no" dir="ltr">RESULT_CANCELED</code> for <a href="http://developer.android.com/reference/android/app/Activity.html#startActivityForResult%28android.content.Intent,int%29"><code translate="no" dir="ltr">startActivityForResult()</code></a>,
if the device implementation does not want to allow users to have this choice.
However, even in such cases, they SHOULD indicate to the user why there is no
such choice presented.</p></li>
<li><p>[C-0-7] MUST display a warning dialog with the warning string that is
provided through the system API <code translate="no" dir="ltr">PackageManager.setHarmfulAppWarning</code>
to the user before launching an activity in an application that has been marked
by the same system API <code translate="no" dir="ltr">PackageManager.setHarmfulAppWarning</code> as potentially
harmful.</p></li>
<li><p>SHOULD provide a user affordance to choose to uninstall or launch an
application on the warning dialog.</p></li>
<li><p>[C-0-8] MUST implement support for Incremental File System as documented
 <a href="https://source.android.com/devices/architecture/kernel/incfs">here</a>.</p></li>
<li><p>[C-0-9] MUST support verifying .apk files using the
 <a href="https://source.android.com/security/apksigning/v4.html">APK Signature Scheme v4</a>.</p></li>
<li><p>If device implementations are already launched on an earlier Android
 version and cannot meet the requirements [C-0-8] and [C-0-9] through a
 system software update, they MAY be exempted from these requirements.</p></li>
</ul>

<h2 id="5_multimedia_compatibility" data-text="5. Multimedia Compatibility">5. Multimedia Compatibility</h2>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST support the media formats, encoders, decoders, file types,
and container formats defined in <a href="#5_1_media-codecs.md">section 5.1</a>
for each and every codec declared by <code translate="no" dir="ltr">MediaCodecList</code>.</li>
<li>[C-0-2] MUST declare and report support of the encoders, decoders available
to third-party applications via <a href="http://developer.android.com/reference/android/media/MediaCodecList.html"><code translate="no" dir="ltr">MediaCodecList</code></a>.</li>
<li>[C-0-3] MUST be able to properly decode and make available to third-party
apps all the formats it can encode. This includes all bitstreams that its
encoders generate and the profiles reported in its <a href="http://developer.android.com/reference/android/media/CamcorderProfile.html"><code translate="no" dir="ltr">CamcorderProfile</code></a>.</li>
</ul>

<p>Device implementations:</p>

<ul>
<li>SHOULD aim for minimum codec latency, in others words, they
<ul>
<li>SHOULD NOT consume and store input buffers and return input buffers only
once processed.</li>
<li>SHOULD NOT hold onto decoded buffers for longer than as specified by the
standard (e.g. SPS).</li>
<li>SHOULD NOT hold onto encoded buffers longer than required by the GOP
structure.</li>
</ul></li>
</ul>

<p>All of the codecs listed in the section below are provided as software
implementations in the preferred Android implementation from the Android Open
Source Project.</p>

<p>Please note that neither Google nor the Open Handset Alliance make any
representation that these codecs are free from third-party patents. Those
intending to use this source code in hardware or software products are advised
that implementations of this code, including in open source software or
shareware, may require patent licenses from the relevant patent holders.</p>

<h3 id="51_media_codecs" data-text="5.1. Media Codecs">5.1. Media Codecs</h3>

<h4 id="511_audio_encoding" data-text="5.1.1. Audio Encoding">5.1.1. Audio Encoding</h4>

<p>See more details in <a href="#5_1_3_audio_codecs_details">5.1.3. Audio Codecs Details</a>.</p>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.microphone</code>,
they MUST support encoding the following audio formats and make them available
to third-party apps:</p>

<ul>
<li>[C-1-1] PCM/WAVE</li>
<li>[C-1-2] FLAC</li>
<li>[C-1-3] Opus</li>
</ul>

<p>All audio encoders MUST support:</p>

<ul>
<li>[C-3-1] PCM 16-bit native byte order audio frames via the <a href="https://developer.android.com/reference/android/media/MediaCodec.html#raw-audio-buffers"><code translate="no" dir="ltr">android.media.MediaCodec</code></a>
API.</li>
</ul>

<h4 id="512_audio_decoding" data-text="5.1.2. Audio Decoding">5.1.2. Audio Decoding</h4>

<p>See more details in <a href="#5_1_3_audio_codecs_details">5.1.3. Audio Codecs Details</a>.</p>

<p>If device implementations declare support for the
<code translate="no" dir="ltr">android.hardware.audio.output</code> feature, they must support decoding the
following audio formats:</p>

<ul>
<li>[C-1-1] MPEG-4 AAC Profile (AAC LC)</li>
<li>[C-1-2] MPEG-4 HE AAC Profile (AAC+)</li>
<li>[C-1-3] MPEG-4 HE AACv2 Profile (enhanced AAC+)</li>
<li>[C-1-4] AAC ELD (enhanced low delay AAC)</li>
<li>[C-1-11] xHE-AAC (ISO/IEC 23003-3 Extended HE AAC Profile, which includes
         the USAC Baseline Profile, and ISO/IEC 23003-4 Dynamic Range
         Control Profile)</li>
<li>[C-1-5] FLAC</li>
<li>[C-1-6] MP3</li>
<li>[C-1-7] MIDI</li>
<li>[C-1-8] Vorbis</li>
<li>[C-1-9] PCM/WAVE including high-resolution audio
formats up to 24 bits, 192 kHz sample rate, and 8 channels.
Note that this requirement is for decoding only, and that a device
is permitted to downsample and downmix during the playback phase.</li>
<li>[C-1-10] Opus</li>
</ul>

<p>If device implementations support the decoding of AAC input buffers of
multichannel streams (i.e. more than two channels) to PCM through the default
AAC audio decoder in the <code translate="no" dir="ltr">android.media.MediaCodec</code> API, the following MUST be
supported:</p>

<ul>
<li>[C-2-1] Decoding MUST be performed without downmixing (e.g. a 5.0 AAC
stream must be decoded to five channels of PCM, a 5.1 AAC stream must be decoded
to six channels of PCM).</li>
<li>[C-2-2] Dynamic range metadata MUST be as defined in &quot;Dynamic Range Control
(DRC)&quot; in ISO/IEC 14496-3, and the <code translate="no" dir="ltr">android.media.MediaFormat</code> DRC keys to
configure the dynamic range-related behaviors of the audio decoder. The
AAC DRC keys were introduced in API 21, and are:
<code translate="no" dir="ltr">KEY_AAC_DRC_ATTENUATION_FACTOR</code>, <code translate="no" dir="ltr">KEY_AAC_DRC_BOOST_FACTOR</code>,
<code translate="no" dir="ltr">KEY_AAC_DRC_HEAVY_COMPRESSION</code>, <code translate="no" dir="ltr">KEY_AAC_DRC_TARGET_REFERENCE_LEVEL</code> and
<code translate="no" dir="ltr">KEY_AAC_ENCODED_TARGET_LEVEL</code>.</li>
<li>[SR] It is STRONGLY RECOMMENDED that requirements C-2-1 and C-2-2 above are
satisfied by all AAC audio decoders.</li>
</ul>

<p>When decoding USAC audio, MPEG-D (ISO/IEC 23003-4):</p>

<ul>
<li>[C-3-1] Loudness and DRC metadata MUST be interpreted and applied
according to MPEG-D DRC Dynamic Range Control Profile Level 1.</li>
<li>[C-3-2] The decoder MUST behave according to the configuration
set with the following <code translate="no" dir="ltr">android.media.MediaFormat</code> keys:
<code translate="no" dir="ltr">KEY_AAC_DRC_TARGET_REFERENCE_LEVEL</code> and <code translate="no" dir="ltr">KEY_AAC_DRC_EFFECT_TYPE</code>.</li>
</ul>

<p>MPEG-4 AAC, HE AAC, and HE AACv2 profile decoders:</p>

<ul>
<li>MAY support loudness and dynamic range control using ISO/IEC 23003-4
Dynamic Range Control Profile.</li>
</ul>

<p>If ISO/IEC 23003-4 is supported and if both ISO/IEC 23003-4 and
ISO/IEC 14496-3 metadata are present in a decoded bitstream, then:</p>

<ul>
<li>ISO/IEC 23003-4 metadata SHALL take precedence.</li>
</ul>

<p>All audio decoders MUST support outputting:</p>

<ul>
<li>[C-6-1] PCM 16-bit native byte order audio frames via the <a href="https://developer.android.com/reference/android/media/MediaCodec.html#raw-audio-buffers"><code translate="no" dir="ltr">android.media.MediaCodec</code></a>
API.</li>
</ul>

<h4 id="513_audio_codecs_details" data-text="5.1.3. Audio Codecs Details">5.1.3. Audio Codecs Details</h4>

<table>
 <tr>
    <th>Format/Codec</th>
    <th>Details</th>
    <th>File Types/Container Formats to be supported</th>
 </tr>
 <tr>
    <td>MPEG-4 AAC Profile<br />(AAC LC)</td>
    <td>Support for mono/stereo/5.0/5.1 content with standard
    sampling rates from 8 to 48 kHz.</td>
    <td>
    <ul>
    <li class="table_list">3GPP (.3gp)</li>
    <li class="table_list">MPEG-4 (.mp4, .m4a)</li>
    <li class="table_list">ADTS raw AAC (.aac, ADIF not supported)</li>
    <li class="table_list">MPEG-TS (.ts, not seekable, decode only)</li>
    <li class="table_list">Matroska (.mkv, decode only)</li></ul>
    </td>
 </tr>
 <tr>
    <td>MPEG-4 HE AAC Profile (AAC+)</td>
    <td>Support for mono/stereo/5.0/5.1 content with standard
    sampling rates from 16 to 48 kHz.</td>
    <td>
    <ul>
    <li class="table_list">3GPP (.3gp)</li>
    <li class="table_list">MPEG-4 (.mp4, .m4a)</li></ul>
    </td>
 </tr>
 <tr>
    <td>MPEG-4 HE AACv2<br />

Profile (enhanced AAC+)</td>
    <td>Support for mono/stereo/5.0/5.1 content with standard
    sampling rates from 16 to 48 kHz.</td>
    <td>
    <ul>
    <li class="table_list">3GPP (.3gp)</li>
    <li class="table_list">MPEG-4 (.mp4, .m4a)</li></ul>
    </td>
 </tr>
 <tr>
    <td>AAC ELD (enhanced low delay AAC)</td>
    <td>Support for mono/stereo content with standard sampling rates from 16 to
    48 kHz.</td>
    <td>
    <ul>
    <li class="table_list">3GPP (.3gp)</li>
    <li class="table_list">MPEG-4 (.mp4, .m4a)</li></ul>
    </td>
 </tr>
 <tr>
    <td>USAC</td>
    <td>Support for mono/stereo content with standard sampling rates from 7.35
    to 48 kHz.</td>
    <td>
    MPEG-4 (.mp4, .m4a)
    </td>
 </tr>
 <tr>
    <td>AMR-NB</td>
    <td>4.75 to 12.2 kbps sampled @ 8 kHz</td>
    <td>3GPP (.3gp)</td>
 </tr>
 <tr>
    <td>AMR-WB</td>
    <td>9 rates from 6.60 kbit/s to 23.85 kbit/s sampled @ 16 kHz, as defined at
      <a href="https://www.loc.gov/preservation/digital/formats/fdd/fdd000255.shtml">
      AMR-WB, Adaptive Multi-Rate - Wideband Speech Codec</a></td>
    <td>3GPP (.3gp)</td>
 </tr>
 <tr>
    <td>FLAC</td>
    <td>For both encoder and decoder: at least Mono and Stereo modes MUST be
      supported. Sample rates up to 192 kHz MUST be supported; 16-bit and 24-bit
      resolution MUST be supported. FLAC 24-bit audio data handling MUST be
      available with floating point audio configuration.</td>
    <td>
    <ul>
    <li class="table_list">FLAC (.flac)</li>
    <li class="table_list">MPEG-4 (.mp4, .m4a, decode only)</li>
    <li class="table_list">Matroska (.mkv, decode only)</li></ul>
    </td>
 </tr>
 <tr>
    <td>MP3</td>
    <td>Mono/Stereo 8-320Kbps constant (CBR) or variable bitrate (VBR)</td>
    <td>
    <ul>
    <li class="table_list">MP3 (.mp3)</li>
    <li class="table_list">MPEG-4 (.mp4, .m4a, decode only)</li>
    <li class="table_list">Matroska (.mkv, decode only)</li></td>
 </tr>
 <tr>
    <td>MIDI</td>
    <td>MIDI Type 0 and 1. DLS Version 1 and 2. XMF and Mobile XMF. Support for
    ringtone formats RTTTL/RTX, OTA, and iMelody</td>
    <td><ul>
    <li class="table_list">Type 0 and 1 (.mid, .xmf, .mxmf)</li>
    <li class="table_list">RTTTL/RTX (.rtttl, .rtx)</li>
    <li class="table_list">iMelody (.imy)</li></ul></td>
 </tr>
 <tr>
    <td>Vorbis</td>
    <td></td>
    <td>
    <ul>
    <li class="table_list">Ogg (.ogg)</li>
    <li class="table_list">MPEG-4 (.mp4, .m4a, decode only)</li>
    <li class="table_list">Matroska (.mkv)</li>
    <li class="table_list">Webm (.webm)</li></ul></td>
 </tr>
 <tr>
    <td>PCM/WAVE</td>
    <td>PCM codec MUST support 16-bit linear PCM and 16-bit float. WAVE
      extractor must support 16-bit, 24-bit, 32-bit linear PCM and 32-bit float
      (rates up to limit of hardware). Sampling rates MUST be supported from
      8 kHz to 192 kHz.</td>
    <td>WAVE (.wav)</td>
 </tr>
 <tr>
    <td>Opus</td>
    <td>Decoding: Support for mono, stereo, 5.0 and 5.1 content
      with sampling rates of 8000, 12000, 16000, 24000, and 48000 Hz.
      <br>
      Encoding: Support for mono and stereo content
      with sampling rates of 8000, 12000, 16000, 24000, and 48000 Hz.
    </td>
    <td>
    <ul>
    <li class="table_list">Ogg (.ogg)</li>
    <li class="table_list">MPEG-4 (.mp4, .m4a, decode only)</li>
    <li class="table_list">Matroska (.mkv)</li>
    <li class="table_list">Webm (.webm)</li></ul></td>
 </tr>
</table>

<h4 id="514_image_encoding" data-text="5.1.4. Image Encoding">5.1.4. Image Encoding</h4>

<p>See more details in <a href="#5_1_6_image_codecs_details">5.1.6. Image Codecs Details</a>.</p>

<p>Device implementations MUST support encoding the following image encoding:</p>

<ul>
<li>[C-0-1] JPEG</li>
<li>[C-0-2] PNG</li>
<li>[C-0-3] WebP</li>
</ul>

<p>If device implementations support HEIC encoding via <code translate="no" dir="ltr">android.media.MediaCodec</code>
for media type <a href="https://developer.android.com/reference/android/media/MediaFormat.html#MIMETYPE_IMAGE_ANDROID_HEIC"><code translate="no" dir="ltr">MIMETYPE_IMAGE_ANDROID_HEIC</code></a>,
they:</p>

<ul>
<li>[C-1-1] MUST provide a hardware-accelerated HEVC encoder codec that
supports <a href="https://developer.android.com/reference/android/media/MediaCodecInfo.EncoderCapabilities.html#BITRATE_MODE_CQ"><code translate="no" dir="ltr">BITRATE_MODE_CQ</code></a>
bitrate control mode, <a href="https://developer.android.com/reference/android/media/MediaCodecInfo.CodecProfileLevel.html#HEVCProfileMainStill"><code translate="no" dir="ltr">HEVCProfileMainStill</code></a>
profile and 512 x 512 px frame size.</li>
</ul>

<h4 id="515_image_decoding" data-text="5.1.5. Image Decoding">5.1.5. Image Decoding</h4>

<p>See more details in <a href="#5_1_6_image_codecs_details">5.1.6. Image Codecs Details</a>.</p>

<p>Device implementations MUST support decoding the following image encoding:</p>

<ul>
<li>[C-0-1] JPEG</li>
<li>[C-0-2] GIF</li>
<li>[C-0-3] PNG</li>
<li>[C-0-4] BMP</li>
<li>[C-0-5] WebP</li>
<li>[C-0-6] Raw</li>
</ul>

<p>If device implementations support HEVC video decoding, they:
*   [C-1-1] MUST support HEIF (HEIC) image decoding.</p>

<p>Image decoders that support a high bit-depth format (9+ bits per channel):</p>

<ul>
<li>[C-2-1] MUST support outputting an 8-bit equivalent format if requested by
the application, for example, via the <a href="https://developer.android.com/reference/android/graphics/Bitmap.Config.html#ARGB_8888"><code translate="no" dir="ltr">ARGB_8888</code></a>
config of <code translate="no" dir="ltr">android.graphics.Bitmap</code>.</li>
</ul>

<h4 id="516_image_codecs_details" data-text="5.1.6. Image Codecs Details">5.1.6. Image Codecs Details</h4>

<table>
 <tr>
    <th>Format/Codec</th>
    <th>Details</th>
    <th>Supported File Types/Container Formats</th>
 </tr>
 <tr>
    <td>JPEG</td>
    <td>Base+progressive</td>
    <td>JPEG (.jpg)</td>
 </tr>
 <tr>
    <td>GIF</td>
    <td></td>
    <td>GIF (.gif)</td>
 </tr>
 <tr>
    <td>PNG</td>
    <td></td>
    <td>PNG (.png)</td>
 </tr>
 <tr>
    <td>BMP</td>
    <td></td>
    <td>BMP (.bmp)</td>
 </tr>
 <tr>
    <td>WebP</td>
    <td></td>
    <td>WebP (.webp)</td>
 </tr>
 <tr>
    <td>Raw</td>
    <td></td>
    <td>ARW (.arw), CR2 (.cr2), DNG (.dng), NEF (.nef), NRW (.nrw), ORF (.orf),
        PEF (.pef), RAF (.raf), RW2 (.rw2), SRW (.srw)</td>
 </tr>
 <tr>
    <td>HEIF</td>
    <td>Image, Image collection, Image sequence</td>
    <td>HEIF (.heif), HEIC (.heic)</td>
 </tr>
</table>

<p>Image encoder and decoders exposed through the <a href="https://developer.android.com/reference/android/media/MediaCodec">MediaCodec</a> API</p>

<ul>
<li><p>[C-1-1] MUST support YUV420 8:8:8 flexible color
format (<code translate="no" dir="ltr">COLOR_FormatYUV420Flexible</code>) through <a href="https://developer.android.com/reference/android/media/MediaCodecInfo.CodecCapabilities"><code translate="no" dir="ltr">CodecCapabilities</code></a>.</p></li>
<li><p>[SR] STRONGLY RECOMMENDED to support RGB888 color format for input Surface
mode.</p></li>
<li><p>[C-1-3] MUST support at least one of a planar or semiplanar
YUV420 8:8:8 color format: <code translate="no" dir="ltr">COLOR_FormatYUV420PackedPlanar</code> (equivalent to
<code translate="no" dir="ltr">COLOR_FormatYUV420Planar</code>) or <code translate="no" dir="ltr">COLOR_FormatYUV420PackedSemiPlanar</code> (equivalent
to <code translate="no" dir="ltr">COLOR_FormatYUV420SemiPlanar</code>). They are STRONGLY RECOMMENDED to support
both.</p></li>
</ul>

<h4 id="517_video_codecs" data-text="5.1.7. Video Codecs">5.1.7. Video Codecs</h4>

<ul>
<li>For acceptable quality of web video streaming and video-conference
services, device implementations SHOULD use a hardware VP8 codec that meets the
<a href="http://www.webmproject.org/hardware/rtc-coding-requirements/">requirements</a>.</li>
</ul>

<p>If device implementations include a video decoder or encoder:</p>

<ul>
<li><p>[C-1-1] Video codecs MUST support output and input bytebuffer sizes that
accommodate the largest feasible compressed and uncompressed frame as dictated
by the standard and configuration but also not overallocate.</p></li>
<li><p>[C-1-2] Video encoders and decoders MUST support YUV420 8:8:8 flexible color
formats (<code translate="no" dir="ltr">COLOR_FormatYUV420Flexible</code>) through <a href="https://developer.android.com/reference/android/media/MediaCodecInfo.CodecCapabilities"><code translate="no" dir="ltr">CodecCapabilities</code></a>.</p></li>
<li><p>[C-1-3] Video encoders and decoders MUST support at least one of a planar or
semiplanar YUV420 8:8:8 color format: <code translate="no" dir="ltr">COLOR_FormatYUV420PackedPlanar</code>
(equivalent to <code translate="no" dir="ltr">COLOR_FormatYUV420Planar</code>) or
<code translate="no" dir="ltr">COLOR_FormatYUV420PackedSemiPlanar</code> (equivalent to <code translate="no" dir="ltr">COLOR_FormatYUV420SemiPlanar</code>).
They are STRONGLY RECOMMENDED to support both.</p></li>
<li><p>[SR] Video encoders and decoders are STRONGLY RECOMMENDED to support
at least one of a hardware optimized planar or semiplanar YUV420 8:8:8 color
format (YV12, NV12, NV21 or equivalent vendor optimized format.)</p></li>
<li><p>[C-1-5] Video decoders that support a high bit-depth format
(9+ bits per channel) MUST support outputting an 8-bit equivalent format if
requested by the application. This MUST be reflected by supporting an
YUV420 8:8:8 color format via <code translate="no" dir="ltr">android.media.MediaCodecInfo</code>.</p></li>
</ul>

<p>If device implementations advertise HDR profile support through
<a href="https://developer.android.com/reference/android/view/Display.HdrCapabilities.html"><code translate="no" dir="ltr">Display.HdrCapabilities</code></a>,
they:</p>

<ul>
<li>[C-2-1] MUST support HDR static metadata parsing and handling.</li>
</ul>

<p>If device implementations advertise intra refresh support through
<code translate="no" dir="ltr">FEATURE_IntraRefresh</code> in the <a href="https://developer.android.com/reference/android/media/MediaCodecInfo.CodecCapabilities.html#FEATURE_IntraRefresh"><code translate="no" dir="ltr">MediaCodecInfo.CodecCapabilities</code></a>
class, they:</p>

<ul>
<li>[C-3-1] MUST support the refresh periods in the range of 10 - 60 frames and
accurately operate within 20% of configured refresh period.</li>
</ul>

<p>Unless the application specifies otherwise using the <a href="https://developer.android.com/reference/android/media/MediaFormat.html#KEY_COLOR_FORMAT"><code translate="no" dir="ltr">KEY_COLOR_FORMAT</code></a>
format key, video decoder implementations:</p>

<ul>
<li>[C-4-1] MUST default to the color format optimized for hardware display
if configured using Surface output.</li>
<li>[C-4-2] MUST default to a YUV420 8:8:8 color format optimized for CPU
reading if configured to not use Surface output.</li>
</ul>

<h4 id="518_video_codecs_list" data-text="5.1.8. Video Codecs List">5.1.8. Video Codecs List</h4>

<table>
 <tr>
    <th>Format/Codec</th>
    <th>Details</th>
    <th>File Types/Container Formats to be supported</th>
 </tr>
 <tr>
    <td>H.263</td>
    <td></td>
    <td><ul>
    <li class="table_list">3GPP (.3gp)</li>
    <li class="table_list">MPEG-4 (.mp4)</li>
    <li class="table_list">Matroska (.mkv, decode only)</li></ul></td>
 </tr>
 <tr>
    <td>H.264 AVC</td>
    <td>See <a href="#5_2_video_encoding">section 5.2 </a>and
    <a href="#5_3_video_decoding">5.3</a> for details</td>
    <td><ul>
    <li class="table_list">3GPP (.3gp)</li>
    <li class="table_list">MPEG-4 (.mp4)</li>
    <li class="table_list">MPEG-2 TS (.ts, not seekable)</li>
    <li class="table_list">Matroska (.mkv, decode only)</li></ul></td>
 </tr>
 <tr>
    <td>H.265 HEVC</td>
    <td>See <a href="#5_3_video_decoding">section 5.3</a> for details</td>
    <td><ul>
    <li class="table_list">MPEG-4 (.mp4)</li>
    <li class="table_list">Matroska (.mkv, decode only)</li></ul></td>
 </tr>
 <tr>
    <td>MPEG-2</td>
    <td>Main Profile</td>
    <td><ul>
    <li class="table_list">MPEG2-TS (.ts, not seekable)</li>
    <li class="table_list">MPEG-4 (.mp4, decode only)</li>
    <li class="table_list">Matroska (.mkv, decode only)</li></ul></td>
 </tr>
 <tr>
    <td>MPEG-4 SP</td>
    <td></td>
    <td><ul>
    <li class="table_list">3GPP (.3gp)</li>
    <li class="table_list">MPEG-4 (.mp4)</li>
    <li class="table_list">Matroska (.mkv, decode only)</li></ul></td>
 </tr>
 <tr>
    <td>VP8</td>
    <td>See <a href="#5_2_video_encoding">section 5.2</a> and
    <a href="#5_3_video_decoding">5.3</a> for details</td>
    <td><ul>
    <li class="table_list"><a href="http://www.webmproject.org/">WebM
    (.webm)</a></li>
    <li class="table_list">Matroska (.mkv)</li></ul>
    </td>
 </tr>
 <tr>
    <td>VP9</td>
    <td>See <a href="#5_3_video_decoding">section 5.3</a> for details</td>
    <td><ul>
    <li class="table_list"><a href="http://www.webmproject.org/">WebM
    (.webm)</a></li>
    <li class="table_list">Matroska (.mkv)</li></ul>
    </td>
 </tr>
</table>

<h4 id="519_media_codec_security" data-text="5.1.9. Media Codec Security">5.1.9. Media Codec Security</h4>

<p>Device implementations MUST ensure compliance with media codec security features
as described below.</p>

<p>Android includes support for OMX, a cross-platform multimedia acceleration API,
as well as Codec 2.0, a low-overhead multimedia acceleration API.</p>

<p>If device implementations support multimedia, they:</p>

<ul>
<li>[C-1-1] MUST provide support for media codecs either via OMX or Codec 2.0
APIs (or both) as in the Android Open Source Project and not disable or
circumvent the security protections. This specifically does not mean that every
codec MUST use either the OMX or Codec 2.0 API, only that support for at least
one of these APIs MUST be available, and support for the available APIs MUST
include the security protections present.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to include support for Codec 2.0 API.</li>
</ul>

<p>If device implementations do not support the Codec 2.0 API, they:</p>

<ul>
<li>[C-2-1] MUST include the corresponding OMX software codec from the Android
Open Source Project (if it is available) for each media format and type
(encoder or decoder) supported by the device.</li>
<li>[C-2-2] Codecs that have names starting with &quot;OMX.google.&quot; MUST be based
on their Android Open Source Project source code.</li>
<li>[C-SR]  Are STRONGLY RECOMMENDED that the OMX software codecs run in a codec
process that does not have access to hardware drivers other than memory mappers.</li>
</ul>

<p>If device implementations support Codec 2.0 API, they:</p>

<ul>
<li>[C-3-1] MUST include the corresponding Codec 2.0 software codec from the
Android Open Source Project (if it is available) for each media format and type
(encoder or decoder) supported by the device.</li>
<li>[C-3-2] MUST house the Codec 2.0 software codecs in the software codec
process as provided in the Android Open Source Project to make it possible
to more narrowly grant access to software codecs.</li>
<li>[C-3-3] Codecs that have names starting with &quot;c2.android.&quot; MUST be based
on their Android Open Source Project source code.</li>
</ul>

<h4 id="5110_media_codec_characterization" data-text="5.1.10. Media Codec Characterization">5.1.10. Media Codec Characterization</h4>

<p>If device implementations support media codecs, they:</p>

<ul>
<li>[C-1-1] MUST return correct values of media codec characterization via the
<a href="https://developer.android.com/reference/android/media/MediaCodecInfo"><code translate="no" dir="ltr">MediaCodecInfo</code></a>
API.</li>
</ul>

<p>In particular:</p>

<ul>
<li>[C-1-2] Codecs with names starting with &quot;OMX.&quot; MUST use the OMX APIs
and have names that conform to OMX IL naming guidelines.</li>
<li>[C-1-3] Codecs with names starting with &quot;c2.&quot; MUST use the Codec 2.0 API and
have names that conform to Codec 2.0 naming guidelines for Android.</li>
<li>[C-1-4] Codecs with names starting with &quot;OMX.google.&quot; or &quot;c2.android.&quot; MUST
NOT be characterized as vendor or as hardware-accelerated.</li>
<li>[C-1-5] Codecs that run in a codec process (vendor or system) that have
access to hardware drivers other than memory allocators and mappers MUST NOT
be characterized as software-only.</li>
<li>[C-1-6] Codecs not present in the Android Open Source Project or not based
on the source code in that project MUST be characterized as vendor.</li>
<li>[C-1-7] Codecs that utilize hardware acceleration MUST be characterized
as hardware accelerated.</li>
<li>[C-1-8] Codec names MUST NOT be misleading. For example, codecs named
&quot;decoders&quot; MUST support decoding, and those named &quot;encoders&quot; MUST support
encoding. Codecs with names containing media formats MUST support those
formats.</li>
</ul>

<p>If device implementations support video codecs:</p>

<ul>
<li>[C-2-1] All video codecs MUST publish achievable frame rate data for the
following sizes if supported by the codec:</li>
</ul>

<table>
  <tr>
    <th></th>
    <th>SD (low quality)</th>
    <th>SD (high quality)</th>
    <th>HD 720p</th>
    <th>HD 1080p</th>
    <th>UHD</th>
  </tr>
  <tr>
    <th>Video resolution</th>
    <td><ul>
    <li class="table_list">176 x 144 px (H263, MPEG2, MPEG4)</li>
    <li class="table_list">352 x 288 px (MPEG4 encoder, H263, MPEG2)</li>
    <li class="table_list">320 x 180 px (VP8, VP8)</li>
    <li class="table_list">320 x 240 px (other)</li></ul>
    </td>
    <td><ul>
    <li class="table_list">704 x 576 px (H263)</li>
    <li class="table_list">640 x 360 px (VP8, VP9)</li>
    <li class="table_list">640 x 480 px (MPEG4 encoder)</li>
    <li class="table_list">720 x 480 px (other)</li></ul>
    </td>
    <td><ul>
    <li class="table_list">1408 x 1152 px (H263)</li>
    <li class="table_list">1280 x 720 px (other)</li></ul>
    </td>
    <td>1920 x 1080 px (other than MPEG4)</td>
    <td>3840 x 2160 px (HEVC, VP9)</td>
  </tr>
</table>

<ul>
<li>[C-2-2] Video codecs that are characterized as hardware accelerated MUST
publish performance points information. They MUST each list all supported
standard performance points (listed in <a href="https://developer.android.com/reference/android/media/MediaCodecInfo.VideoCapabilities"><code translate="no" dir="ltr">PerformancePoint</code></a>
API), unless they are covered by another supported standard performance point.</li>
<li>Additionally they SHOULD publish extended performance points if they
support sustained video performance other than one of the standard ones listed.</li>
</ul>

<h3 id="52_video_encoding" data-text="5.2. Video Encoding">5.2. Video Encoding</h3>

<p>If device implementations support any video encoder and make it available
to third-party apps, they:</p>

<ul>
<li>SHOULD NOT be, over two sliding windows, more than 15% over the bitrate
between intraframe (I-frame) intervals.</li>
<li>SHOULD NOT be more than 100% over the bitrate over a sliding window
of 1 second.</li>
</ul>

<p>If device implementations include an embedded screen display with the
diagonal length of at least 2.5 inches or include a video output port or
declare the support of a camera via the <code translate="no" dir="ltr">android.hardware.camera.any</code>
feature flag, they:</p>

<ul>
<li>[C-1-1] MUST include the support of at least one of the VP8 or H.264 video
encoders, and make it available for third-party applications.</li>
<li>SHOULD support both VP8 and H.264 video encoders, and make it available
for third-party applications.</li>
</ul>

<p>If device implementations support any of the H.264, VP8, VP9 or HEVC video
encoders and make it available to third-party applications, they:</p>

<ul>
<li>[C-2-1] MUST support dynamically configurable bitrates.</li>
<li>SHOULD support variable frame rates, where video encoder SHOULD determine
instantaneous frame duration based on the timestamps of input buffers, and
allocate its bit bucket based on that frame duration.</li>
</ul>

<p>If device implementations support the MPEG-4 SP video encoder and make it
available to third-party apps, they:</p>

<ul>
<li>SHOULD support dynamically configurable bitrates for the supported encoder.</li>
</ul>

<p>If device implementations provide hardware accelerated video or image encoders,
and support one or more attached or pluggable hardware camera(s) exposed through
the <code translate="no" dir="ltr">android.camera</code> APIs:</p>

<ul>
<li>[C-4-1] all hardware accelerated video and image encoders MUST support
encoding frames from the hardware camera(s).</li>
<li>SHOULD support encoding frames from the hardware camera(s) through all video
or image encoders.</li>
</ul>

<p>If device implementations provide HDR encoding, they:</p>

<ul>
<li>[C-SR] are STRONGLY RECOMMENDED to provide a plugin for the
seamless transcoding API to convert from HDR format to SDR format.</li>
</ul>

<h4 id="521_h263" data-text="5.2.1. H.263">5.2.1. H.263</h4>

<p>If device implementations support H.263 encoders and make it available
to third-party apps, they:</p>

<ul>
<li>[C-1-1] MUST support Baseline Profile Level 45.</li>
<li>SHOULD support dynamically configurable bitrates for the supported encoder.</li>
</ul>

<h4 id="522_h264" data-text="5.2.2. H.264">5.2.2. H.264</h4>

<p>If device implementations support H.264 codec, they:</p>

<ul>
<li>[C-1-1] MUST support Baseline Profile Level 3.
However, support for ASO (Arbitrary Slice Ordering), FMO (Flexible
Macroblock Ordering) and RS (Redundant Slices) is OPTIONAL. Moreover, to
maintain compatibility with other Android devices, it is RECOMMENDED that
ASO, FMO and RS are not used for Baseline Profile by encoders.</li>
<li>[C-1-2] MUST support the SD (Standard Definition) video encoding profiles
in the following table.</li>
<li>SHOULD support Main Profile Level 4.</li>
<li>SHOULD support the  HD (High Definition) video encoding profiles as
indicated in the following table.</li>
</ul>

<p>If device implementations report support of H.264 encoding for 720p or 1080p
resolution videos through the media APIs, they:</p>

<ul>
<li>[C-2-1] MUST support the encoding profiles in the following table.</li>
</ul>

<table>
 <tr>
    <th></th>
    <th>SD (Low quality)</th>
    <th>SD (High quality)</th>
    <th>HD 720p</th>
    <th>HD 1080p</th>
 </tr>
 <tr>
    <th>Video resolution</th>
    <td>320 x 240 px</td>
    <td>720 x 480 px</td>
    <td>1280 x 720 px</td>
    <td>1920 x 1080 px</td>
 </tr>
 <tr>
    <th>Video frame rate</th>
    <td>20 fps</td>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30 fps</td>
 </tr>
 <tr>
    <th>Video bitrate</th>
    <td>384 Kbps</td>
    <td>2 Mbps</td>
    <td>4 Mbps</td>
    <td>10 Mbps</td>
 </tr>
</table>

<h4 id="523_vp8" data-text="5.2.3. VP8">5.2.3. VP8</h4>

<p>If device implementations support VP8 codec, they:</p>

<ul>
<li>[C-1-1] MUST support the SD video encoding profiles.</li>
<li>SHOULD support the following HD (High Definition) video encoding profiles.</li>
<li>[C-1-2] MUST support writing Matroska WebM files.</li>
<li>SHOULD provide a hardware VP8 codec that meets the
<a href="http://www.webmproject.org/hardware/rtc-coding-requirements">WebM project RTC hardware coding requirements</a>, to ensure
acceptable quality of web video streaming and video-conference services.</li>
</ul>

<p>If device implementations report support of VP8 encoding for 720p or 1080p
resolution videos through the media APIs, they:</p>

<ul>
<li>[C-2-1] MUST support the encoding profiles in the following table.</li>
</ul>

<table>
 <tr>
    <th></th>
    <th>SD (Low quality)</th>
    <th>SD (High quality)</th>
    <th>HD 720p</th>
    <th>HD 1080p</th>
 </tr>
 <tr>
    <th>Video resolution</th>
    <td>320 x 180 px</td>
    <td>640 x 360 px</td>
    <td>1280 x 720 px</td>
    <td>1920 x 1080 px</td>
 </tr>
 <tr>
    <th>Video frame rate</th>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30 fps</td>
 </tr>
 <tr>
    <th>Video bitrate</th>
    <td>800 Kbps </td>
    <td>2 Mbps</td>
    <td>4 Mbps</td>
    <td>10 Mbps</td>
 </tr>
</table>

<h4 id="524_vp9" data-text="5.2.4. VP9">5.2.4. VP9</h4>

<p>If device implementations support VP9 codec, they:</p>

<ul>
<li>[C-1-2] MUST support Profile 0 Level 3.</li>
<li>[C-1-1] MUST support writing Matroska WebM files.</li>
<li>[C-1-3] MUST generate <a href="https://www.webmproject.org/docs/container/#vp9-codec-feature-metadata-codecprivate">CodecPrivate</a> data.</li>
<li>SHOULD support the HD decoding profiles as indicated in the following table.</li>
<li>[SR] are STRONGLY RECOMMENDED to support the HD decoding profiles as
indicated in the following table if there is a hardware encoder.</li>
</ul>

<table>
 <tr>
    <th></th>
    <th>SD</th>
    <th>HD 720p</th>
    <th>HD 1080p</th>
    <th>UHD</th>
 </tr>
 <tr>
    <th>Video resolution</th>
    <td>720 x 480 px</td>
    <td>1280 x 720 px</td>
    <td>1920 x 1080 px</td>
    <td>3840 x 2160 px</td>
 </tr>
 <tr>
    <th>Video frame rate</th>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30 fps</td>
 </tr>
 <tr>
    <th>Video bitrate</th>
    <td>1.6 Mbps</td>
    <td>4 Mbps</td>
    <td>5 Mbps</td>
    <td>20 Mbps</td>
 </tr>
</table>

<p>If device implementations claim to support Profile 2 or Profile 3 through the
Media APIs:</p>

<ul>
<li>Support for 12-bit format is OPTIONAL.</li>
</ul>

<h4 id="525_h265" data-text="5.2.5. H.265">5.2.5. H.265</h4>

<p>If device implementations support H.265 codec, they:</p>

<ul>
<li>[C-1-1] MUST support Main Profile Level 3.</li>
<li>SHOULD support the HD encoding profiles as indicated in the following table.</li>
<li>[SR] are STRONGLY RECOMMENDED to support the HD encoding profiles as
indicated in the following table if there is a hardware encoder.</li>
</ul>

<table>
 <tr>
    <th></th>
    <th>SD</th>
    <th>HD 720p</th>
    <th>HD 1080p</th>
    <th>UHD</th>
 </tr>
 <tr>
    <th>Video resolution</th>
    <td>720 x 480 px</td>
    <td>1280 x 720 px</td>
    <td>1920 x 1080 px</td>
    <td>3840 x 2160 px</td>
 </tr>
 <tr>
    <th>Video frame rate</th>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30 fps</td>
 </tr>
 <tr>
    <th>Video bitrate</th>
    <td>1.6 Mbps</td>
    <td>4 Mbps</td>
    <td>5 Mbps</td>
    <td>20 Mbps</td>
 </tr>
</table>

<h3 id="53_video_decoding" data-text="5.3. Video Decoding">5.3. Video Decoding</h3>

<p>If device implementations support VP8, VP9, H.264, or H.265 codecs, they:</p>

<ul>
<li>[C-1-1] MUST support dynamic video resolution and frame rate switching
through the standard Android APIs within the same stream for all VP8, VP9,
H.264, and H.265 codecs in real time and up to the maximum resolution supported
by each codec on the device.</li>
</ul>

<h4 id="531_mpeg-2" data-text="5.3.1. MPEG-2">5.3.1. MPEG-2</h4>

<p>If device implementations support MPEG-2 decoders, they:</p>

<ul>
<li>[C-1-1] MUST support the Main Profile High Level.</li>
</ul>

<h4 id="532_h263" data-text="5.3.2. H.263">5.3.2. H.263</h4>

<p>If device implementations support H.263 decoders, they:</p>

<ul>
<li>[C-1-1] MUST support Baseline Profile Level 30 and Level 45.</li>
</ul>

<h4 id="533_mpeg-4" data-text="5.3.3. MPEG-4">5.3.3. MPEG-4</h4>

<p>If device implementations with MPEG-4 decoders, they:</p>

<ul>
<li>[C-1-1] MUST support Simple Profile Level 3.</li>
</ul>

<h4 id="534_h264" data-text="5.3.4. H.264">5.3.4. H.264</h4>

<p>If device implementations support H.264 decoders, they:</p>

<ul>
<li>[C-1-1] MUST support Main Profile Level 3.1 and Baseline Profile. Support
for ASO (Arbitrary Slice Ordering), FMO (Flexible Macroblock Ordering) and RS
(Redundant Slices) is OPTIONAL.</li>
<li>[C-1-2] MUST be capable of decoding videos with the SD (Standard Definition)
profiles listed in the following table and encoded with the Baseline Profile
and Main Profile Level 3.1 (including 720p30).</li>
<li>SHOULD be capable of decoding videos with the HD (High Definition) profiles
as indicated in the following table.</li>
</ul>

<p>If the height that is reported by the <code translate="no" dir="ltr">Display.getSupportedModes()</code> method is
equal or greater than the video resolution, device implementations:</p>

<ul>
<li>[C-2-1] MUST support the HD 720p video decoding profiles in the following
table.</li>
<li>[C-2-2] MUST support the HD 1080p video decoding profiles in the following
table.</li>
</ul>

<table>
 <tr>
    <th></th>
    <th>SD (Low quality)</th>
    <th>SD (High quality)</th>
    <th>HD 720p</th>
    <th>HD 1080p</th>
 </tr>
 <tr>
    <th>Video resolution</th>
    <td>320 x 240 px</td>
    <td>720 x 480 px</td>
    <td>1280 x 720 px</td>
    <td>1920 x 1080 px</td>
 </tr>
 <tr>
    <th>Video frame rate</th>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>60 fps</td>
    <td>30 fps (60 fps<sup>Television</sup>)</td>
 </tr>
 <tr>
    <th>Video bitrate</th>
    <td>800 Kbps </td>
    <td>2 Mbps</td>
    <td>8 Mbps</td>
    <td>20 Mbps</td>
 </tr>
</table>

<h4 id="535_h265_hevc" data-text="5.3.5. H.265 (HEVC)">5.3.5. H.265 (HEVC)</h4>

<p>If device implementations support H.265 codec, they:</p>

<ul>
<li>[C-1-1] MUST support the Main Profile Level 3 Main tier and the SD video
decoding profiles as indicated in the following table.</li>
<li>SHOULD support the HD decoding profiles as indicated in the following table.</li>
<li>[C-1-2] MUST support the HD decoding profiles as indicated in the following
table if there is a hardware decoder.</li>
</ul>

<p>If the height that is reported by the <code translate="no" dir="ltr">Display.getSupportedModes()</code> method is
equal to or greater than the video resolution, then:</p>

<ul>
<li>[C-2-1] Device implementations MUST support at least one of H.265 or VP9
decoding of 720, 1080 and UHD profiles.</li>
</ul>

<table>
 <tr>
    <th></th>
    <th>SD (Low quality)</th>
    <th>SD (High quality)</th>
    <th>HD 720p</th>
    <th>HD 1080p</th>
    <th>UHD</th>
 </tr>
 <tr>
    <th>Video resolution</th>
    <td>352 x 288 px</td>
    <td>720 x 480 px</td>
    <td>1280 x 720 px</td>
    <td>1920 x 1080 px</td>
    <td>3840 x 2160 px</td>
 </tr>
 <tr>
    <th>Video frame rate</th>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30/60 fps (60 fps<sup>Television with H.265 hardware decoding</sup>)</td>
    <td>60 fps</td>
 </tr>
 <tr>
    <th>Video bitrate</th>
    <td>600 Kbps </td>
    <td>1.6 Mbps</td>
    <td>4 Mbps</td>
    <td>5 Mbps</td>
    <td>20 Mbps</td>
 </tr>
</table>

<p>If device implementations claim to support an HDR Profile through the Media
APIs:</p>

<ul>
<li>[C-3-1] Device implementations MUST accept the required HDR metadata from
the application, as well as support extracting and outputting the required HDR
metadata from the bitstream and/or container.</li>
<li>[C-3-2] Device implementations MUST properly display HDR content on the
device screen or on a standard video output port (e.g., HDMI).</li>
</ul>

<h4 id="536_vp8" data-text="5.3.6. VP8">5.3.6. VP8</h4>

<p>If device implementations support VP8 codec, they:</p>

<ul>
<li>[C-1-1] MUST support the SD decoding profiles in the following table.</li>
<li>SHOULD use a hardware VP8 codec that meets the
<a href="/compatibility/12/%22http:/www.webmproject.org/hardware/rtc-coding-requirements/%22">requirements</a>.</li>
<li>SHOULD support the HD decoding profiles in the following table.</li>
</ul>

<p>If the height as reported by the <code translate="no" dir="ltr">Display.getSupportedModes()</code> method is equal
or greater than the video resolution, then:</p>

<ul>
<li>[C-2-1] Device implementations MUST support 720p profiles in the
following table.</li>
<li>[C-2-2] Device implementations MUST support 1080p profiles in the
following table.</li>
</ul>

<table>
 <tr>
    <th></th>
    <th>SD (Low quality)</th>
    <th>SD (High quality)</th>
    <th>HD 720p</th>
    <th>HD 1080p</th>
 </tr>
 <tr>
    <th>Video resolution</th>
    <td>320 x 180 px</td>
    <td>640 x 360 px</td>
    <td>1280 x 720 px</td>
    <td>1920 x 1080 px</td>
 </tr>
 <tr>
    <th>Video frame rate</th>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30 fps (60 fps<sup>Television</sup>)</td>
    <td>30 (60 fps<sup>Television</sup>)</td>
 </tr>
 <tr>
    <th>Video bitrate</th>
    <td>800 Kbps </td>
    <td>2 Mbps</td>
    <td>8 Mbps</td>
    <td>20 Mbps</td>
 </tr>
</table>

<h4 id="537_vp9" data-text="5.3.7. VP9">5.3.7. VP9</h4>

<p>If device implementations support VP9 codec, they:</p>

<ul>
<li>[C-1-1] MUST support the SD video decoding profiles as indicated in the
following table.</li>
<li>SHOULD support the HD decoding profiles as indicated in the following table.</li>
</ul>

<p>If device implementations support VP9 codec and a hardware decoder:</p>

<ul>
<li>[C-2-1] MUST support the HD decoding profiles as indicated in the following
table.</li>
</ul>

<p>If the height that is reported by the <code translate="no" dir="ltr">Display.getSupportedModes()</code> method is
equal to or greater than the video resolution, then:</p>

<ul>
<li>[C-3-1] Device implementations MUST support at least one of VP9 or H.265
decoding of the 720, 1080 and UHD profiles.</li>
</ul>

<table>
 <tr>
    <th></th>
    <th>SD (Low quality)</th>
    <th>SD (High quality)</th>
    <th>HD 720p</th>
    <th>HD 1080p</th>
    <th>UHD</th>
 </tr>
 <tr>
    <th>Video resolution</th>
    <td>320 x 180 px</td>
    <td>640 x 360 px</td>
    <td>1280 x 720 px</td>
    <td>1920 x 1080 px</td>
    <td>3840 x 2160 px</td>
 </tr>
 <tr>
    <th>Video frame rate</th>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30 fps</td>
    <td>30 fps (60 fps<sup>Television with VP9 hardware decoding</sup>)</td>
    <td>60 fps</td>
 </tr>
 <tr>
    <th>Video bitrate</th>
    <td>600 Kbps</td>
    <td>1.6 Mbps</td>
    <td>4 Mbps</td>
    <td>5 Mbps</td>
    <td>20 Mbps</td>
 </tr>
</table>

<p>If device implementations claim to support <code translate="no" dir="ltr">VP9Profile2</code> or <code translate="no" dir="ltr">VP9Profile3</code>
through the <a href="https://developer.android.com/reference/android/media/MediaCodecInfo.CodecProfileLevel">&#39;CodecProfileLevel&#39;</a>
media APIs:</p>

<ul>
<li>Support for 12-bit format is OPTIONAL.</li>
</ul>

<p>If device implementations claim to support an HDR Profile (<code translate="no" dir="ltr">VP9Profile2HDR</code>,
<code translate="no" dir="ltr">VP9Profile2HDR10Plus</code>, <code translate="no" dir="ltr">VP9Profile3HDR</code>, <code translate="no" dir="ltr">VP9Profile3HDR10Plus</code>) through the
media APIs:</p>

<ul>
<li>[C-4-1] Device implementations MUST accept the required HDR metadata
(<a href="https://developer.android.com/reference/android/media/MediaFormat.html#KEY_HDR_STATIC_INFO"><code translate="no" dir="ltr">KEY_HDR_STATIC_INFO</code></a>
for all HDR profiles, as well as
<a href="https://developer.android.com/reference/android/media/MediaFormat.html#KEY_HDR10_PLUS_INFO">&#39;KEY_HDR10_PLUS_INFO&#39;</a>
for HDR10Plus profiles)
from the application. They also MUST support extracting and outputting the
required HDR metadata from the bitstream and/or container.</li>
<li>[C-4-2] Device implementations MUST properly display HDR content on the
device screen or on a standard video output port (e.g., HDMI).</li>
</ul>

<h4 id="538_dolby_vision" data-text="5.3.8.  Dolby Vision">5.3.8.  Dolby Vision</h4>

<p>If device implementations declare support for the Dolby Vision decoder through
<a href="https://developer.android.com/reference/android/view/Display.HdrCapabilities.html#HDR_TYPE_DOLBY_VISION"><code translate="no" dir="ltr">HDR_TYPE_DOLBY_VISION</code></a>
, they:</p>

<ul>
<li>[C-1-1] MUST provide a Dolby Vision-capable extractor.</li>
<li>[C-1-2] MUST properly display Dolby Vision content on the device screen or
on a standard video output port (e.g., HDMI).</li>
<li>[C-1-3] MUST set the track index of backward-compatible base-layer(s) (if
present) to be the same as the combined Dolby Vision layer&#39;s track index.</li>
</ul>

<h4 id="539_av1" data-text="5.3.9. AV1">5.3.9. AV1</h4>

<p>If device implementations support AV1 codec, they:</p>

<ul>
<li>[C-1-1] MUST support Profile 0 including 10-bit content.</li>
</ul>

<h3 id="54_audio_recording" data-text="5.4. Audio Recording">5.4. Audio Recording</h3>

<p>While some of the requirements outlined in this section are listed as SHOULD
since Android 4.3, the Compatibility Definition for future versions are planned
to change these to MUST. Existing and new Android devices are <strong>STRONGLY
RECOMMENDED</strong> to meet these requirements that are listed as SHOULD, or they
will not be able to attain Android compatibility when upgraded to the future
version.</p>

<h4 id="541_raw_audio_capture_and_microphone_information" data-text="5.4.1. Raw Audio Capture and Microphone Information">5.4.1. Raw Audio Capture and Microphone Information</h4>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.microphone</code>, they:</p>

<ul>
<li><p>[C-1-1] MUST allow capture of raw audio content with the following
characteristics:</p>

<ul>
<li><strong>Format</strong>: Linear PCM, 16-bit</li>
<li><strong>Sampling rates</strong>: 8000, 11025, 16000, 44100, 48000 Hz</li>
<li><strong>Channels</strong>: Mono</li>
</ul></li>
<li><p>SHOULD allow capture of raw audio content with the following
characteristics:</p>

<ul>
<li><strong>Format</strong>: Linear PCM, 16-bit and 24-bit</li>
<li><strong>Sampling rates</strong>: 8000, 11025, 16000, 22050, 24000, 32000, 44100,
48000 Hz</li>
<li><strong>Channels</strong>: As many channels as the number of microphones on the
device</li>
</ul></li>
<li><p>[C-1-2] MUST capture at above sample rates without up-sampling.</p></li>
<li><p>[C-1-3] MUST include an appropriate anti-aliasing filter when the
sample rates given above are captured with down-sampling.</p></li>
<li><p>SHOULD allow AM radio and DVD quality capture of raw audio content, which
means the following characteristics:</p>

<ul>
<li><strong>Format</strong>: Linear PCM, 16-bit</li>
<li><strong>Sampling rates</strong>: 22050, 48000 Hz</li>
<li><strong>Channels</strong>: Stereo</li>
</ul></li>
<li><p>[C-1-4] MUST honor the <a href="https://developer.android.com/reference/android/media/MicrophoneInfo"><code translate="no" dir="ltr">MicrophoneInfo</code></a> API
and properly fill in information for the available microphones on device
accessible to the third-party applications via the
<a href="https://developer.android.com/reference/android/media/AudioManager#getMicrophones%28%29"><code translate="no" dir="ltr">AudioManager.getMicrophones()</code></a>
API, and the currently active microphones which are accessible to the third
party applications via the <a href="https://developer.android.com/reference/android/media/AudioRecord#getActiveMicrophones%28%29"><code translate="no" dir="ltr">AudioRecord.getActiveMicrophones()</code></a>
and <a href="https://developer.android.com/reference/android/media/MediaRecorder#getActiveMicrophones%28%29"><code translate="no" dir="ltr">MediaRecorder.getActiveMicrophones()</code></a>
APIs.
If device implementations allow AM radio and DVD quality capture of raw audio
content, they:</p></li>
<li><p>[C-2-1] MUST capture without up-sampling at any ratio higher
than 16000:22050 or 44100:48000.</p></li>
<li><p>[C-2-2] MUST include an appropriate anti-aliasing filter for any
up-sampling or down-sampling.</p></li>
</ul>

<h4 id="542_capture_for_voice_recognition" data-text="5.4.2. Capture for Voice Recognition">5.4.2. Capture for Voice Recognition</h4>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.microphone</code>, they:</p>

<ul>
<li>[C-1-1] MUST capture
<code translate="no" dir="ltr">android.media.MediaRecorder.AudioSource.VOICE_RECOGNITION</code> audio source at
one of the sampling rates, 44100 and 48000.</li>
<li>[C-1-2] MUST, by default, disable any noise reduction audio processing when
recording an audio stream from the <code translate="no" dir="ltr">AudioSource.VOICE_RECOGNITION</code> audio
source.</li>
<li>[C-1-3] MUST, by default, disable any automatic gain control when recording
an audio stream from the <code translate="no" dir="ltr">AudioSource.VOICE_RECOGNITION</code> audio source.</li>
<li>SHOULD record the voice recognition audio stream with approximately flat
amplitude versus frequency characteristics: specifically, ±3 dB, from 100 Hz
to 4000 Hz.</li>
<li>SHOULD record the voice recognition audio stream with input sensitivity set
such that a 90 dB sound power level (SPL) source at 1000 Hz yields RMS of
2500 for 16-bit samples.</li>
<li>SHOULD record the voice recognition audio stream so that the PCM amplitude
levels linearly track input SPL changes over at least a 30 dB range from -18
dB to +12 dB re 90 dB SPL at the microphone.</li>
<li>SHOULD record the voice recognition audio stream with total harmonic
distortion (THD) less than 1% for 1 kHz at 90 dB SPL input level at the
microphone.</li>
</ul>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.microphone</code> and noise
suppression (reduction) technologies tuned for speech recognition, they:</p>

<ul>
<li>[C-2-1] MUST allow this audio effect to be controllable with the
<code translate="no" dir="ltr">android.media.audiofx.NoiseSuppressor</code> API.</li>
<li>[C-2-2] MUST uniquely identify each noise suppression technology
implementation via the <code translate="no" dir="ltr">AudioEffect.Descriptor.uuid</code> field.</li>
</ul>

<h4 id="543_capture_for_rerouting_of_playback" data-text="5.4.3. Capture for Rerouting of Playback">5.4.3. Capture for Rerouting of Playback</h4>

<p>The <code translate="no" dir="ltr">android.media.MediaRecorder.AudioSource</code> class includes the <code translate="no" dir="ltr">REMOTE_SUBMIX</code>
audio source.</p>

<p>If device implementations declare both <code translate="no" dir="ltr">android.hardware.audio.output</code> and
<code translate="no" dir="ltr">android.hardware.microphone</code>, they:</p>

<ul>
<li><p>[C-1-1] MUST properly implement the <code translate="no" dir="ltr">REMOTE_SUBMIX</code> audio source so that
when an application uses the <code translate="no" dir="ltr">android.media.AudioRecord</code> API to record from this
audio source, it captures a mix of all audio streams except for the following:</p>

<ul>
<li><code translate="no" dir="ltr">AudioManager.STREAM_RING</code></li>
<li><code translate="no" dir="ltr">AudioManager.STREAM_ALARM</code></li>
<li><code translate="no" dir="ltr">AudioManager.STREAM_NOTIFICATION</code></li>
</ul></li>
</ul>

<h4 id="544_acoustic_echo_canceler" data-text="5.4.4. Acoustic Echo Canceler">5.4.4. Acoustic Echo Canceler</h4>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.microphone</code>, they:</p>

<ul>
<li>SHOULD implement an <a href="https://en.wikipedia.org/wiki/Echo_suppression_and_cancellation">Acoustic Echo Canceler</a>
(AEC) technology tuned for voice communication and applied to the capture path
when capturing using <code translate="no" dir="ltr">AudioSource.VOICE_COMMUNICATION</code></li>
</ul>

<p>If device implementations provides an Acoustic Echo Canceler which is
inserted in the capture audio path when <code translate="no" dir="ltr">AudioSource.VOICE_COMMUNICATION</code>
is selected, they:</p>

<ul>
<li>[C-SR] are STRONGLY_RECOMMENDED to declare this via <a href="https://developer.android.com/reference/android/media/audiofx/AcousticEchoCanceler">AcousticEchoCanceler</a>
API method <a href="https://developer.android.com/reference/android/media/audiofx/AcousticEchoCanceler.html#isAvailable()">AcousticEchoCanceler.isAvailable()</a></li>
<li>[C-SR] are STRONGLY_RECOMMENDED to allow this audio effect to be
controllable with the <a href="https://developer.android.com/reference/android/media/audiofx/AcousticEchoCanceler">AcousticEchoCanceler</a>
API.</li>
<li>[C-SR] are STRONGLY_RECOMMENDED to uniquely identify each AEC technology
implementation via the <a href="https://developer.android.com/reference/android/media/audiofx/AudioEffect.Descriptor.html#uuid">AudioEffect.Descriptor.uuid</a>
field.</li>
</ul>

<h4 id="545_concurrent_capture" data-text="5.4.5. Concurrent Capture">5.4.5. Concurrent Capture</h4>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.microphone</code>,they MUST
implement concurrent capture as described in <a href="https://developer.android.com/guide/topics/media/sharing-audio-input">this document</a>. Specifically:</p>

<ul>
<li>[C-1-1] MUST allow concurrent access to microphone by an accessibility
service capturing with <code translate="no" dir="ltr">AudioSource.VOICE_RECOGNITION</code> and at least one
application capturing with any <code translate="no" dir="ltr">AudioSource</code>.</li>
<li>[C-1-2] MUST allow concurrent access to microphone by a pre-installed
application that holds an Assistant role and at least one application
capturing with any <code translate="no" dir="ltr">AudioSource</code> except for
<code translate="no" dir="ltr">AudioSource.VOICE_COMMUNICATION</code> or <code translate="no" dir="ltr">AudioSource.CAMCORDER</code>.</li>
<li>[C-1-3] MUST silence the audio capture for any other application, except for
an accessibility service, while an application is capturing with
<code translate="no" dir="ltr">AudioSource.VOICE_COMMUNICATION</code> or <code translate="no" dir="ltr">AudioSource.CAMCORDER</code>. However, when
an app is capturing via <code translate="no" dir="ltr">AudioSource.VOICE_COMMUNICATION</code> then another app
can capture the voice call if it is a privileged (pre-installed) app with
permission <code translate="no" dir="ltr">CAPTURE_AUDIO_OUTPUT</code>.</li>
<li>[C-1-4] If two or more applications are capturing concurrently and if
neither app has an UI on top, the one that started capture the most recently
receives audio.</li>
</ul>

<h4 id="546_microphone_gain_levels" data-text="5.4.6. Microphone Gain Levels">5.4.6. Microphone Gain Levels</h4>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.microphone</code>, they:</p>

<ul>
<li>SHOULD exhibit approximately flat amplitude-versus-frequency
characteristics in the mid-frequency range: specifically ±3dB from 100
Hz to 4000 Hz for each and every microphone used to record the voice
recognition audio source.</li>
<li>SHOULD set audio input sensitivity such that a 1000 Hz sinusoidal
tone source played at 90 dB Sound Pressure Level (SPL) yields a response
with RMS of 2500 for 16 bit-samples (or -22.35 dB Full Scale for floating
point/double precision samples) for each and every microphone used to
record the voice recognition audio source.</li>
<li>[C-SR] are STRONGLY RECOMMENDED to exhibit amplitude levels in the low
frequency range: specifically from ±20 dB from 5 Hz to 100 Hz compared
to the mid-frequency range for each and every microphone used to record
the voice recognition audio source.</li>
<li>[C-SR] are STRONGLY RECOMMENDED to exhibit amplitude levels in the
high frequency range: specifically from ±30 dB from 4000 Hz to 22 KHz
compared to the mid-frequency range for each and every microphone used
to record the voice recognition audio source.</li>
</ul>

<h3 id="55_audio_playback" data-text="5.5. Audio Playback">5.5. Audio Playback</h3>

<p>Android includes the support to allow apps to playback audio through the audio
output peripheral as defined in section 7.8.2.</p>

<h4 id="551_raw_audio_playback" data-text="5.5.1. Raw Audio Playback">5.5.1. Raw Audio Playback</h4>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.audio.output</code>, they:</p>

<ul>
<li><p>[C-1-1] MUST allow playback of raw audio content with the following
characteristics:</p>

<ul>
<li><strong>Source formats</strong>: Linear PCM, 16-bit, 8-bit, float</li>
<li><strong>Channels</strong>: Mono, Stereo, valid multichannel configurations
    with up to 8 channels</li>
<li><strong>Sampling rates (in Hz)</strong>:
<ul>
<li>8000, 11025, 16000, 22050, 24000, 32000, 44100, 48000 at the channel
  configurations listed above</li>
<li>96000 in mono and stereo</li>
</ul></li>
</ul></li>
</ul>

<h4 id="552_audio_effects" data-text="5.5.2. Audio Effects">5.5.2. Audio Effects</h4>

<p>Android provides an <a href="http://developer.android.com/reference/android/media/audiofx/AudioEffect.html">API for audio effects</a>
for device implementations.</p>

<p>If device implementations declare the feature <code translate="no" dir="ltr">android.hardware.audio.output</code>,
they:</p>

<ul>
<li>[C-1-1] MUST support the <code translate="no" dir="ltr">EFFECT_TYPE_EQUALIZER</code> and
<code translate="no" dir="ltr">EFFECT_TYPE_LOUDNESS_ENHANCER</code> implementations controllable through the
AudioEffect subclasses <code translate="no" dir="ltr">Equalizer</code> and <code translate="no" dir="ltr">LoudnessEnhancer</code>.</li>
<li>[C-1-2] MUST support the visualizer API implementation, controllable through
the <code translate="no" dir="ltr">Visualizer</code> class.</li>
<li>[C-1-3] MUST support the <code translate="no" dir="ltr">EFFECT_TYPE_DYNAMICS_PROCESSING</code> implementation
controllable through the AudioEffect subclass <a href="https://developer.android.com/reference/android/media/audiofx/DynamicsProcessing"><code translate="no" dir="ltr">DynamicsProcessing</code></a>.</li>
<li>SHOULD support the <code translate="no" dir="ltr">EFFECT_TYPE_BASS_BOOST</code>, <code translate="no" dir="ltr">EFFECT_TYPE_ENV_REVERB</code>,
<code translate="no" dir="ltr">EFFECT_TYPE_PRESET_REVERB</code>, and <code translate="no" dir="ltr">EFFECT_TYPE_VIRTUALIZER</code> implementations
controllable through the <code translate="no" dir="ltr">AudioEffect</code> sub-classes <code translate="no" dir="ltr">BassBoost</code>,
<code translate="no" dir="ltr">EnvironmentalReverb</code>, <code translate="no" dir="ltr">PresetReverb</code>, and <code translate="no" dir="ltr">Virtualizer</code>.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to support effects in floating-point and
multichannel.</li>
</ul>

<h4 id="553_audio_output_volume" data-text="5.5.3. Audio Output Volume">5.5.3. Audio Output Volume</h4>

<p>Automotive device implementations:</p>

<ul>
<li>SHOULD allow adjusting audio volume
separately per each audio stream using the content type or usage as defined
by <a href="/compatibility/12/%22http:/developer.android.com/reference/android/media/AudioAttributes.html%22">AudioAttributes</a>
and car audio usage as publicly defined in <code translate="no" dir="ltr">android.car.CarAudioManager</code>.</li>
</ul>

<h4 id="554_audio_offload" data-text="5.5.4. Audio Offload">5.5.4. Audio Offload</h4>

<p>If device implementations support <a href="https://developer.android.com/about/versions/kitkat.html#44-audio-tunneling">audio offload playback</a>, they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to trim the played gapless audio content
when specified by the [AudioTrack gapless API](
https://developer.android.com/reference/android/media/AudioTrack#setOffloadDelayPadding(int,%20int))
and the media container for MediaPlayer.</li>
</ul>

<h3 id="56_audio_latency" data-text="5.6. Audio Latency">5.6. Audio Latency</h3>

<p>Audio latency is the time delay as an audio signal passes through a system.
Many classes of applications rely on short latencies, to achieve real-time
sound effects.</p>

<p>For the purposes of this section, use the following definitions:</p>

<ul>
<li><strong>output latency</strong>. The interval between when an application writes a frame
of PCM-coded data and when the corresponding sound is presented to environment
at an on-device transducer or signal leaves the device via a port and can be
observed externally.</li>
<li><strong>cold output latency</strong>. The time between starting an output stream and the
presentation time of the first frame based on timestamps, when the audio output
system has been idle and powered down prior to the request.</li>
<li><strong>continuous output latency</strong>. The output latency for subsequent frames,
after the device is playing audio.</li>
<li><strong>input latency</strong>. The interval between when a sound is presented by
environment to device at an on-device transducer or signal enters the device via
a port and when an application reads the corresponding frame of PCM-coded data.</li>
<li><strong>lost input</strong>. The initial portion of an input signal that is unusable or
unavailable.</li>
<li><strong>cold input latency</strong>. The time between starting the stream and when the
first valid frame is received, when the audio input system has been idle and
powered down prior to the request.</li>
<li><strong>continuous input latency</strong>. The input latency for subsequent frames,
while the device is capturing audio.</li>
<li><strong>cold output jitter</strong>. The variability among separate measurements of cold
output latency values.</li>
<li><strong>cold input jitter</strong>. The variability among separate measurements of cold
input latency values.</li>
<li><strong>continuous round-trip latency</strong>. The sum of continuous input latency plus
continuous output latency plus one buffer period. The buffer period allows
time for the app to process the signal and time for the app to mitigate phase
difference between input and output streams.</li>
<li><strong>OpenSL ES PCM buffer queue API</strong>. The set of PCM-related
<a href="https://developer.android.com/ndk/guides/audio/opensl/index.html">OpenSL ES</a>
APIs within <a href="https://developer.android.com/ndk/index.html">Android NDK</a>.</li>
<li><strong>AAudio native audio API</strong>. The set of
<a href="https://developer.android.com/ndk/guides/audio/aaudio/aaudio.html">AAudio</a> APIs
within <a href="https://developer.android.com/ndk/index.html">Android NDK</a>.</li>
<li><strong>Timestamp</strong>. A pair consisting of a relative frame position within a
stream and the estimated time when that frame enters or leaves the
audio processing pipeline on the associated endpoint.  See also
<a href="https://developer.android.com/reference/android/media/AudioTimestamp">AudioTimestamp</a>.</li>
<li><strong>glitch</strong>. A temporary interruption or incorrect sample value in the audio signal,
typically caused by a
<a href="https://en.wikipedia.org/wiki/Buffer_underrun">buffer underrun</a> for output,
buffer overrun for input, or any other source of digital or analog noise.</li>
<li><strong>mean absolute deviation</strong>. The average of the absolute value of the
deviations from the mean for a set of values.</li>
<li><strong>tap-to-tone latency</strong>. The time between when the screen is tapped and when
a tone generated as a result of that tap is heard on the speaker.</li>
</ul>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.audio.output</code>, they
MUST meet or exceed the following requirements:</p>

<ul>
<li>[C-1-1] The output timestamp returned by
<a href="https://developer.android.com/reference/android/media/AudioTrack.html#getTimestamp(android.media.AudioTimestamp)">AudioTrack.getTimestamp</a>
and <code translate="no" dir="ltr">AAudioStream_getTimestamp</code> is accurate to +/- 2 ms.</li>
<li>[C-1-2] Cold output latency of 500 milliseconds or less.</li>
</ul>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.audio.output</code> they are
STRONGLY RECOMMENDED to meet or exceed the following requirements:</p>

<ul>
<li>[C-SR] Cold output latency of 100 milliseconds or less over the speaker data
path. Existing and new devices that run this version of Android are VERY
STRONGLY RECOMMENDED to meet these requirements now. In a future platform
release, we will require Cold output latency of 200 ms or less as a MUST.</li>
<li>[C-SR] Tap-to-tone latency of 80 milliseconds or less.</li>
<li>[C-SR] Minimize the cold output jitter.</li>
<li>[C-SR] The output timestamp returned by
<a href="https://developer.android.com/reference/android/media/AudioTrack.html#getTimestamp(android.media.AudioTimestamp)">AudioTrack.getTimestamp</a>
and <code translate="no" dir="ltr">AAudioStream_getTimestamp</code> is accurate to +/- 1 ms.</li>
</ul>

<p>If device implementations meet the above requirements, after any initial
calibration, when using the AAudio native audio API, for continuous output
latency and cold output latency over at least one supported audio
output device, they are:</p>

<ul>
<li>[C-SR] STRONGLY RECOMMENDED to report low-latency audio by declaring
<code translate="no" dir="ltr">android.hardware.audio.low_latency</code> feature flag.</li>
<li>[C-SR] STRONGLY RECOMMENDED to meet the requirements for low-latency
audio via the AAudio API.</li>
<li>[C-SR] STRONGLY RECOMMENDED to ensure that for streams that return
<a href="https://developer.android.com/ndk/guides/audio/aaudio/aaudio#performance-mode"><code translate="no" dir="ltr">AAUDIO_PERFORMANCE_MODE_LOW_LATENCY</code></a>
from <a href="https://developer.android.com/ndk/reference/group/audio#aaudiostream_getperformancemode"><code translate="no" dir="ltr">AAudioStream_getPerformanceMode()</code></a>,
the value returned by <a href="https://developer.android.com/ndk/reference/group/audio#aaudiostream_getframesperburst"><code translate="no" dir="ltr">AAudioStream_getFramesPerBurst()</code></a>
is less than or equal to the value returned by <a href="https://developer.android.com/reference/android/media/AudioManager.html#getProperty%28java.lang.String%29"><code translate="no" dir="ltr">android.media.AudioManager.getProperty(String)</code></a>
for property key <a href="https://developer.android.com/reference/android/media/AudioManager.html#PROPERTY_OUTPUT_FRAMES_PER_BUFFER"><code translate="no" dir="ltr">AudioManager.PROPERTY_OUTPUT_FRAMES_PER_BUFFER</code></a>.</li>
</ul>

<p>If device implementations do not meet the requirements for low-latency audio
via the AAudio native audio API, they:</p>

<ul>
<li>[C-2-1] MUST NOT report support for low-latency audio.</li>
</ul>

<p>If device implementations include <code translate="no" dir="ltr">android.hardware.microphone</code>, they
MUST meet these input audio requirements:</p>

<ul>
<li>[C-3-1] Limit the error in input timestamps, as returned by
<a href="https://developer.android.com/reference/android/media/AudioRecord.html#getTimestamp(android.media.AudioTimestamp,%20int)">AudioRecord.getTimestamp</a>
or <code translate="no" dir="ltr">AAudioStream_getTimestamp</code>, to +/- 2 ms.
&quot;Error&quot; here means the deviation from the correct value.</li>
<li>[C-3-2] Cold input latency of 500 milliseconds or less.</li>
</ul>

<p>If device implementations include <code translate="no" dir="ltr">android.hardware.microphone</code>, they are
STRONGLY RECOMMENDED to meet these input audio requirements:</p>

<ul>
<li>[C-SR] Cold input latency of 100 milliseconds or less over the microphone
   data path. Existing and new devices that run this version of Android are
   VERY STRONGLY RECOMMENDED to meet these requirements now. In a future
   platform release we will require Cold input latency of 200 ms or less as
   a MUST.</li>
<li>[C-SR] Continuous input latency of 30 milliseconds or less.</li>
<li>[C-SR] Minimize the cold input jitter.</li>
<li>[C-SR] Limit the error in input timestamps, as returned by
<a href="https://developer.android.com/reference/android/media/AudioRecord.html#getTimestamp(android.media.AudioTimestamp,%20int)">AudioRecord.getTimestamp</a>
or <code translate="no" dir="ltr">AAudioStream_getTimestamp</code>, to +/- 1 ms.</li>
</ul>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.audio.output</code> and
<code translate="no" dir="ltr">android.hardware.microphone</code>, they:
*   [C-SR] Are STRONGLY RECOMMENDED to have a Mean Continuous Round-Trip Latency
of 50 milliseconds or less over 5 measurements, with a Mean Absolute Deviation
less than 10 msec, over at least one supported path.</p>

<h3 id="57_network_protocols" data-text="5.7. Network Protocols">5.7. Network Protocols</h3>

<p>Device implementations MUST support the <a href="http://developer.android.com/guide/appendix/media-formats.html">media network protocols</a>
for audio and video playback as specified in the Android SDK documentation.</p>

<p>If device implementations include an audio or a video decoder, they:</p>

<ul>
<li><p>[C-1-1] MUST support all required codecs and container formats in
<a href="#5_1_media_codecs">section 5.1</a> over HTTP(S).</p></li>
<li><p>[C-1-2] MUST support the media segment formats shown in
the Media Segment Formats table below over
<a href="http://tools.ietf.org/html/draft-pantos-http-live-streaming-07">HTTP Live Streaming draft protocol, Version 7</a>.</p></li>
<li><p>[C-1-3] MUST support the following RTP audio video profile and related
codecs in the RTSP table below. For exceptions please see the table footnotes
in <a href="#5_1_media_codecs">section 5.1</a>.</p></li>
</ul>

<p><strong>Media Segment Formats</strong></p>

<table>

 <tr>
    <th>Segment formats</th>
    <th>Reference(s)</th>
    <th>Required codec support</th>
 </tr>

 <tr id="mp2t">
    <td>MPEG-2 Transport Stream</td>
    <td><a href="http://www.iso.org/iso/catalogue_detail?csnumber=44169">ISO 13818</a></td>
    <td>
    Video codecs:
    <ul>
    <li class="table_list">H264 AVC</li>
    <li class="table_list">MPEG-4 SP</li>
    <li class="table_list">MPEG-2</li>
    </ul>
    See <a href="#5_1_3_video_codecs">section 5.1.3</a> for details on H264 AVC, MPEG2-4 SP,<br/>
    and MPEG-2.
    <p>Audio codecs:
    <ul>
    <li class="table_list">AAC</li>
    </ul>
    See <a href="#5_1_1_audio_codecs">section 5.1.1 </a> for details on AAC and its variants.
    </td>
 </tr>

 <tr>
    <td>AAC with ADTS framing and ID3 tags</td>
    <td><a href="http://www.iso.org/iso/home/store/catalogue_tc/catalogue_detail.htm?csnumber=43345">ISO 13818-7</a></td>
    <td>See <a href="#5_1_1_audio_codecs">section 5.1.1 </a>
    for details on AAC and its variants</td>
 </tr>

 <tr>
    <td>WebVTT</td>
    <td><a href="http://dev.w3.org/html5/webvtt/">WebVTT</a></td>
    <td></td>
 </tr>

</table>

<p><strong>RTSP (RTP, SDP)</strong></p>

<table>
 <tr>
    <th>Profile name</th>
    <th>Reference(s)</th>
    <th>Required codec support</th>
 </tr>

 <tr>
    <td>H264 AVC</td>
    <td><a href="https://tools.ietf.org/html/rfc6184">RFC 6184</a></td>
    <td>See <a href="#5_1_3_video_codecs">section 5.1.3 </a>
    for details on H264 AVC</td>
 </tr>

 <tr>
    <td>MP4A-LATM</td>
    <td><a href="https://tools.ietf.org/html/rfc6416">RFC 6416</a></td>
    <td>See <a href="#5_1_1_audio_codecs">section 5.1.1 </a>
    for details on AAC and its variants</td>
 </tr>

 <tr>
    <td>H263-1998</td>
    <td>
    <a href="https://tools.ietf.org/html/rfc3551">RFC 3551</a><br/>
    <a href="https://tools.ietf.org/html/rfc4629">RFC 4629</a><br/>
    <a href="https://tools.ietf.org/html/rfc2190">RFC 2190</a>
    </td>
    <td>See <a href="#5_1_3_video_codecs">section 5.1.3 </a>
    for details on H263
    </td>
 </tr>

 <tr>
    <td>H263-2000</td>
    <td>
    <a href="https://tools.ietf.org/html/rfc4629">RFC 4629</a>
    </td>
    <td>See <a href="#5_1_3_video_codecs">section 5.1.3 </a>
    for details on H263
    </td>
 </tr>

 <tr>
    <td>AMR</td>
    <td>
    <a href="https://tools.ietf.org/html/rfc4867">RFC 4867</a>
    </td>
    <td>See <a href="#5_1_1_audio_codecs">section 5.1.1 </a>
    for details on AMR-NB
    </td>
 </tr>

 <tr>
    <td>AMR-WB</td>
    <td>
    <a href="https://tools.ietf.org/html/rfc4867">RFC 4867</a>
    </td>
    <td>See <a href="#5_1_1_audio_codecs">section 5.1.1 </a>
    for details on AMR-WB
    </td>
 </tr>

 <tr>
    <td>MP4V-ES</td>
    <td>
    <a href="https://tools.ietf.org/html/rfc6416">RFC 6416</a>
    </td>
    <td>See <a href="#5_1_3_video_codecs">section 5.1.3 </a>
    for details on MPEG-4 SP
    </td>
 </tr>

 <tr>
    <td>mpeg4-generic</td>
    <td><a href="https://tools.ietf.org/html/rfc3640">RFC 3640</a></td>
    <td>See <a href="#5_1_1_audio_codecs">section 5.1.1 </a>
    for details on AAC and its variants</td>
 </tr>

 <tr>
    <td>MP2T</td>
    <td><a href="https://tools.ietf.org/html/rfc2250">RFC 2250</a></td>
    <td>See <a href="#mp2t">MPEG-2 Transport Stream</a> underneath HTTP Live Streaming for details</td>
 </tr>

</table>

<h3 id="58_secure_media" data-text="5.8. Secure Media">5.8. Secure Media</h3>

<p>If device implementations support secure video output and are capable of
supporting secure surfaces, they:</p>

<ul>
<li>[C-1-1] MUST declare support for <code translate="no" dir="ltr">Display.FLAG_SECURE</code>.</li>
</ul>

<p>If device implementations declare support for <code translate="no" dir="ltr">Display.FLAG_SECURE</code> and support
wireless display protocol, they:</p>

<ul>
<li>[C-2-1] MUST secure the link with a cryptographically strong mechanism such
as HDCP 2.x or higher for the displays connected through wireless protocols
such as Miracast.</li>
</ul>

<p>If device implementations declare support for <code translate="no" dir="ltr">Display.FLAG_SECURE</code> and
support wired external display, they:</p>

<ul>
<li>[C-3-1] MUST support HDCP 1.2 or higher for all external displays connected
via a user-accessible wired port.</li>
</ul>

<h3 id="59_musical_instrument_digital_interface_midi" data-text="5.9. Musical Instrument Digital Interface (MIDI)">5.9. Musical Instrument Digital Interface (MIDI)</h3>

<p>If device implementations report support for feature <code translate="no" dir="ltr">android.software.midi</code>
via the <a href="http://developer.android.com/reference/android/content/pm/PackageManager.html"><code translate="no" dir="ltr">android.content.pm.PackageManager</code></a>
class, they:</p>

<ul>
<li><p>[C-1-1] MUST support MIDI over <em>all</em> MIDI-capable hardware transports for
which they provide generic non-MIDI connectivity, where such transports are:</p>

<ul>
<li>USB host mode, <a href="#7_7_USB">section 7.7</a></li>
<li>MIDI over Bluetooth LE acting in central role, <a href="#7_4_3_bluetooth">section 7.4.3</a></li>
</ul></li>
<li><p>[C-1-2] MUST support the inter-app MIDI software transport
(virtual MIDI devices)</p></li>
<li><p>[C-1-3] MUST include libamidi.so (native MIDI support)</p></li>
<li><p>SHOULD support MIDI over USB peripheral mode, <a href="#7_7_USB">section 7.7</a></p></li>
</ul>

<h3 id="510_professional_audio" data-text="5.10. Professional Audio">5.10. Professional Audio</h3>

<p>If device implementations report support for feature
<code translate="no" dir="ltr">android.hardware.audio.pro</code> via the
<a href="http://developer.android.com/reference/android/content/pm/PackageManager.html">android.content.pm.PackageManager</a>
class, they:</p>

<ul>
<li>[C-1-1] MUST report support for feature
<code translate="no" dir="ltr">android.hardware.audio.low_latency</code>.</li>
<li>[C-1-2] MUST have the continuous round-trip audio latency, as defined in
section <a href="#5_6_audio_latency">5.6 Audio Latency</a>, MUST be 20 milliseconds or less
and SHOULD be 10 milliseconds or less over at least one supported path.</li>
<li>[C-1-3] MUST include a USB port(s) supporting USB host mode and USB
peripheral mode.</li>
<li>[C-1-4] MUST report support for feature <code translate="no" dir="ltr">android.software.midi</code>.</li>
<li>[C-1-5] MUST meet latencies and USB audio requirements using the
<a href="https://developer.android.com/ndk/guides/audio/aaudio/aaudio.html">AAudio native audio</a>
API.</li>
<li>[C-1-6] MUST have Cold output latency of 200 milliseconds or less.</li>
<li>[C-1-7] MUST have Cold input latency of 200 milliseconds or less.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to meet latencies as defined in section
<a href="#5_6_audio_latency">5.6 Audio Latency</a>, of 20 milliseconds or
less, over 5 measurements with a Mean Absolute Deviation less than 5
milliseconds over the speaker to microphone path.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to meet the Pro Audio requirements for
continuous round-trip audio latency, cold input latency and cold output
latency and USB audio requirements using the <a href="https://developer.android.com/ndk/guides/audio/aaudio/aaudio.html">AAudio native audio</a> API
over the MMAP path.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to provide a consistent level of CPU
performance while audio is active and CPU load is varying. This should be tested
using the Android app <a href="https://github.com/google/synthmark">SynthMark</a>.
SynthMark uses a software synthesizer running on a simulated audio framework
that measures system performance. The SynthMark app needs to be run using the
“Automated Test” option and achieve the following results:
<ul>
<li>voicemark.90 &gt;= 32 voices</li>
<li>latencymark.fixed.little &lt;= 15 msec</li>
<li>latencymark.dynamic.little &lt;= 50 msec</li>
</ul></li>
</ul>

<p>See the SynthMark <a href="https://github.com/google/synthmark/blob/master/docs/README.md">documentation</a>
for an explanation of the benchmarks.</p>

<ul>
<li>SHOULD minimize audio clock inaccuracy and drift relative to standard time.</li>
<li>SHOULD minimize audio clock drift relative to the CPU <code translate="no" dir="ltr">CLOCK_MONOTONIC</code>
when both are active.</li>
<li>SHOULD minimize audio latency over on-device transducers.</li>
<li>SHOULD minimize audio latency over USB digital audio.</li>
<li>SHOULD document audio latency measurements over all paths.</li>
<li>SHOULD minimize jitter in audio buffer completion callback entry times, as this
affects usable percentage of full CPU bandwidth by the callback.</li>
<li>SHOULD provide zero audio glitches under normal use at reported latency.</li>
<li>SHOULD provide zero inter-channel latency difference.</li>
<li>SHOULD minimize MIDI mean latency over all transports.</li>
<li>SHOULD minimize MIDI latency variability under load (jitter) over all transports.</li>
<li>SHOULD provide accurate MIDI timestamps over all transports.</li>
<li>SHOULD minimize audio signal noise over on-device transducers, including the
period immediately after cold start.</li>
<li>SHOULD provide zero audio clock difference between the input and output sides of
corresponding end-points, when both are active. Examples of corresponding
end-points include the on-device microphone and speaker, or the audio jack input
and output.</li>
<li>SHOULD handle audio buffer completion callbacks for the input and output sides
of corresponding end-points on the same thread when both are active, and enter
the output callback immediately after the return from the input callback.  Or
if it is not feasible to handle the callbacks on the same thread, then enter the
output callback shortly after entering the input callback to permit the
application to have a consistent timing of the input and output sides.</li>
<li>SHOULD minimize the phase difference between HAL audio buffering for the input
and output sides of corresponding end-points.</li>
<li>SHOULD minimize touch latency.</li>
<li>SHOULD minimize touch latency variability under load (jitter).</li>
<li>SHOULD have a latency from touch input to audio output of less than or
equal to 40 ms.</li>
</ul>

<p>If device implementations meet all of the above requirements, they:</p>

<ul>
<li>[SR] STRONGLY RECOMMENDED to report support for feature
<code translate="no" dir="ltr">android.hardware.audio.pro</code> via the <a href="http://developer.android.com/reference/android/content/pm/PackageManager.html"><code translate="no" dir="ltr">android.content.pm.PackageManager</code></a>
class.</li>
</ul>

<p>If device implementations include a 4 conductor 3.5mm audio jack, they:</p>

<ul>
<li>[C-2-1] MUST have a mean Continuous Round-trip Audio Latency, as defined in
section <a href="#5_6_audio_latency">5.6 Audio Latency</a>, of 20 milliseconds or less,
over 5 measurements with a Mean Absolute Deviation less than 5 milliseconds over
the audio jack path.</li>
<li>[SR] STRONGLY RECOMMENDED to comply with
section <a href="https://source.android.com/devices/accessories/headset/jack-headset-spec">Mobile device (jack) specifications</a>
of the <a href="https://source.android.com/devices/accessories/headset/plug-headset-spec">Wired Audio Headset Specification (v1.1)</a>.</li>
</ul>

<p>If device implementations omit a 4 conductor 3.5mm audio jack and
include a USB port(s) supporting USB host mode, they:</p>

<ul>
<li>[C-3-1] MUST implement the USB audio class.</li>
<li>[C-3-2] MUST have a mean Continuous Round-trip Audio Latency of
25 milliseconds or less, over 5 measurements with a Mean Absolute Deviation
less than 5 milliseconds over the USB host mode port using USB audio class.
(This can be measured using a USB-3.5mm adapter and an Audio Loopback
Dongle, or using a USB audio interface with patch cables connecting the
inputs to outputs).</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to support simultaneous I/O up to 8 channels
each direction, 96 kHz sample rate, and 24-bit or 32-bit depth, when used
with USB audio peripherals that also support these requirements.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to meet this group of requirements using
the AAudio native audio API over the MMAP path.</li>
</ul>

<p>If device implementations include an HDMI port, they:</p>

<ul>
<li>SHOULD support output in stereo and eight channels at 20-bit or
24-bit depth and 192 kHz without bit-depth loss or resampling,
in at least one configuration.</li>
</ul>

<h3 id="511_capture_for_unprocessed" data-text="5.11. Capture for Unprocessed">5.11. Capture for Unprocessed</h3>

<p>Android includes support for recording of unprocessed audio via the
<code translate="no" dir="ltr">android.media.MediaRecorder.AudioSource.UNPROCESSED</code> audio source. In
OpenSL ES, it can be accessed with the record preset
<code translate="no" dir="ltr">SL_ANDROID_RECORDING_PRESET_UNPROCESSED</code>.</p>

<p>If device implementations intent to support unprocessed audio source and make
it available to third-party apps, they:</p>

<ul>
<li><p>[C-1-1] MUST report the support through the <code translate="no" dir="ltr">android.media.AudioManager</code>
property <a href="http://developer.android.com/reference/android/media/AudioManager.html#PROPERTY_SUPPORT_AUDIO_SOURCE_UNPROCESSED">PROPERTY_SUPPORT_AUDIO_SOURCE_UNPROCESSED</a>.</p></li>
<li><p>[C-1-2] MUST exhibit approximately flat amplitude-versus-frequency
characteristics in the mid-frequency range: specifically &plusmn;10dB from
100 Hz to 7000 Hz for each and every microphone used to record the unprocessed
audio source.</p></li>
<li><p>[C-1-3] MUST exhibit amplitude levels in the low frequency
range: specifically from &plusmn;20 dB from 5 Hz to 100 Hz compared to the
mid-frequency range for each and every microphone used to record the
unprocessed audio source.</p></li>
<li><p>[C-1-4] MUST exhibit amplitude levels in the high frequency
range: specifically from &plusmn;30 dB from 7000 Hz to 22 KHz compared to the
mid-frequency range for each and every microphone used to record the
unprocessed audio source.</p></li>
<li><p>[C-1-5] MUST set audio input sensitivity such that a 1000 Hz sinusoidal
tone source played at 94 dB Sound Pressure Level (SPL) yields a response with
RMS of 520 for 16 bit-samples (or -36 dB Full Scale for floating point/double
precision samples) for each and every microphone used to record the unprocessed
audio source.</p></li>
<li><p>[C-1-6] MUST have a signal-to-noise ratio (SNR) at 60 dB or higher for
each and every microphone used to record the unprocessed audio source.
(whereas the SNR is measured as the difference between 94 dB SPL and equivalent
SPL of self noise, A-weighted).</p></li>
<li><p>[C-1-7] MUST have a total harmonic distortion (THD) less than be less than
1% for 1 kHZ at 90 dB SPL input level at each and every microphone used to
record the unprocessed audio source.</p></li>
<li><p>MUST not have any other signal processing (e.g. Automatic Gain Control,
High Pass Filter, or Echo cancellation) in the path other than a level
multiplier to bring the level to desired range. In other words:</p></li>
<li><p>[C-1-8] If any signal processing is present in the architecture for any
reason, it MUST be disabled and effectively introduce zero delay or extra
latency to the signal path.</p></li>
<li><p>[C-1-9] The level multiplier, while allowed to be on the path, MUST NOT
introduce delay or latency to the signal path.</p></li>
</ul>

<p>All SPL measurements are made directly next to the microphone under test.
For multiple microphone configurations, these requirements apply to
each microphone.</p>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.microphone</code> but do not
support unprocessed audio source, they:</p>

<ul>
<li>[C-2-1] MUST return <code translate="no" dir="ltr">null</code> for the <code translate="no" dir="ltr">AudioManager.getProperty(PROPERTY_SUPPORT_AUDIO_SOURCE_UNPROCESSED)</code>
API method, to properly indicate the lack of support.</li>
<li>[SR] are still STRONGLY RECOMMENDED to satisfy as many of the requirements
for the signal path for the unprocessed recording source.</li>
</ul>

<h2 id="6_developer_tools_and_options_compatibility" data-text="6. Developer Tools and Options Compatibility">6. Developer Tools and Options Compatibility</h2>

<h3 id="61_developer_tools" data-text="6.1. Developer Tools">6.1. Developer Tools</h3>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST support the Android Developer Tools provided in the Android
SDK.</li>
<li><p><a href="http://developer.android.com/tools/help/adb.html"><strong>Android Debug Bridge (adb)</strong></a></p>

<ul>
<li>[C-0-2] MUST support adb as documented in the Android SDK and the shell
commands provided in the AOSP, which can be used by app developers,
including <a href="https://source.android.com/devices/input/diagnostics.html"><code translate="no" dir="ltr">dumpsys</code></a>
<code translate="no" dir="ltr">cmd stats</code></li>
<li>[C-0-11] MUST support the shell command <code translate="no" dir="ltr">cmd testharness</code>. Upgrading
device implementations from an earlier Android version without a
persistent data block MAY be exempted from C-0-11.</li>
<li>[C-0-3] MUST NOT alter the format or the contents of device system
events (batterystats , diskstats, fingerprint, graphicsstats, netstats,
notification, procstats) logged via the dumpsys command.</li>
<li>[C-0-10] MUST record, without omission, and make the following events
accessible and available to the <code translate="no" dir="ltr">cmd stats</code> shell command and the
<code translate="no" dir="ltr">StatsManager</code> System API class.
<ul>
<li>ActivityForegroundStateChanged</li>
<li>AnomalyDetected</li>
<li>AppBreadcrumbReported</li>
<li>AppCrashOccurred</li>
<li>AppStartOccurred</li>
<li>BatteryLevelChanged</li>
<li>BatterySaverModeStateChanged</li>
<li>BleScanResultReceived</li>
<li>BleScanStateChanged</li>
<li>ChargingStateChanged</li>
<li>DeviceIdleModeStateChanged</li>
<li>ForegroundServiceStateChanged</li>
<li>GpsScanStateChanged</li>
<li>JobStateChanged</li>
<li>PluggedStateChanged</li>
<li>ScheduledJobStateChanged</li>
<li>ScreenStateChanged</li>
<li>SyncStateChanged</li>
<li>SystemElapsedRealtime</li>
<li>UidProcessStateChanged</li>
<li>WakelockStateChanged</li>
<li>WakeupAlarmOccurred</li>
<li>WifiLockStateChanged</li>
<li>WifiMulticastLockStateChanged</li>
<li>WifiScanStateChanged</li>
</ul></li>
<li>[C-0-4] MUST have the device-side adb daemon be inactive by default and
there MUST be a user-accessible mechanism to turn on the Android Debug
Bridge.</li>
<li>[C-0-5] MUST support secure adb. Android includes support for secure
adb. Secure adb enables adb on known authenticated hosts.</li>
<li>[C-0-6] MUST provide a mechanism allowing adb to be connected from a
host machine. Specifically:</li>
</ul>

<p>If device implementations without a USB port support peripheral mode, they:</p>

<ul>
<li>[C-3-1] MUST implement adb via local-area network (such as Ethernet
or Wi-Fi).</li>
<li>[C-3-2] MUST provide drivers for Windows 7, 8 and 10, allowing
developers to connect to the device using the adb protocol.</li>
</ul>

<p>If device implementations support adb connections to a host machine via
Wi-Fi, they:</p>

<ul>
<li>[C-4-1] MUST have the <code translate="no" dir="ltr">AdbManager#isAdbWifiSupported()</code> method
return <code translate="no" dir="ltr">true</code>.</li>
</ul>

<p>If device implementations support adb connections to a host machine via
Wi-Fi and includes at least one camera, they:</p>

<ul>
<li>[C-5-1] MUST have the <code translate="no" dir="ltr">AdbManager#isAdbWifiQrSupported()</code> method
return <code translate="no" dir="ltr">true</code>.</li>
</ul></li>
<li><p><a href="http://developer.android.com/tools/debugging/ddms.html"><strong>Dalvik Debug Monitor Service (ddms)</strong></a></p>

<ul>
<li>[C-0-7] MUST support all ddms features as documented in the Android SDK.
As ddms uses adb, support for ddms SHOULD be inactive by default, but
MUST be supported whenever the user has activated the Android Debug Bridge,
as above.</li>
</ul></li>
<li><p><a href="http://developer.android.com/tools/help/monkey.html"><strong>Monkey</strong></a></p>

<ul>
<li>[C-0-8] MUST include the Monkey framework and make it available for
applications to use.</li>
</ul></li>
<li><p><a href="http://developer.android.com/tools/help/systrace.html"><strong>SysTrace</strong></a></p>

<ul>
<li>[C-0-9] MUST support the systrace tool as documented in the Android SDK.
Systrace must be inactive by default and there MUST be a user-accessible
mechanism to turn on Systrace.</li>
</ul></li>
<li><p><a href="https://developer.android.com/studio/command-line/perfetto"><strong>Perfetto</strong></a></p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to expose a <code translate="no" dir="ltr">/system/bin/perfetto</code>
binary to the shell user which cmdline complies with
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[C-SR] The perfetto binary is STRONGLY RECOMMENDED to accept as input a
protobuf config that complies with the schema defined in
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[C-SR] The perfetto binary is STRONGLY RECOMMENDED to write as output a
protobuf trace that complies with the schema defined in
<a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to provide, through the perfetto binary,
at least the data sources described  in <a href="https://developer.android.com/studio/command-line/perfetto">the perfetto documentation</a>.</li>
</ul></li>
<li><p><a href="https://source.android.com/devices/tech/perf/lmkd"><strong>Low Memory Killer</strong></a></p>

<ul>
<li>[C-0-10] MUST write a <code translate="no" dir="ltr">LMK_KILL_OCCURRED_FIELD_NUMBER</code> Atom to the
statsd log when an app is terminated by the <a href="https://source.android.com/devices/tech/perf/lmkd">Low Memory Killer</a>.</li>
</ul></li>
<li><p><a href="https://source.android.com/compatibility/cts/harness"><strong>Test Harness Mode</strong></a>
If device implementations support the shell command <code translate="no" dir="ltr">cmd testharness</code> and
run <code translate="no" dir="ltr">cmd testharness enable</code>, they:</p>

<ul>
<li>[C-2-1] MUST return <code translate="no" dir="ltr">true</code> for
<code translate="no" dir="ltr">ActivityManager.isRunningInUserTestHarness()</code></li>
<li>[C-2-2] MUST implement Test Harness Mode as described in
<a href="https://source.android.com/compatibility/cts/harness">Test Harness Mode documentation</a>.</li>
</ul></li>
</ul>

<p>If device implementations report the support of Vulkan 1.0 or higher via the
<code translate="no" dir="ltr">android.hardware.vulkan.version</code> feature flags, they:</p>

<ul>
<li>[C-1-1] MUST provide an affordance for the app developer to enable/disable
GPU debug layers.</li>
<li>[C-1-2] MUST, when the GPU debug layers are enabled, enumerate layers in
libraries provided by external tools (i.e. not part of the platform or
application package) found in debuggable applications&#39; base directory to
support <a href="https://www.khronos.org/registry/vulkan/specs/1.1-extensions/man/html/vkEnumerateInstanceLayerProperties.html">vkEnumerateInstanceLayerProperties()</a>
and <a href="https://www.khronos.org/registry/vulkan/specs/1.1-extensions/man/html/vkCreateInstance.html">vkCreateInstance()</a>
API methods.</li>
</ul>

<h3 id="62_developer_options" data-text="6.2. Developer Options">6.2. Developer Options</h3>

<p>Android includes support for developers to configure application
development-related settings.</p>

<p>Device implementations MUST provide a consistent experience for
Developer Options, they:</p>

<ul>
<li>[C-0-1] MUST honor the <a href="http://developer.android.com/reference/android/provider/Settings.html#ACTION_APPLICATION_DEVELOPMENT_SETTINGS">android.settings.APPLICATION_DEVELOPMENT_SETTINGS</a>
intent to show application development-related settings. The upstream Android
implementation hides the Developer Options menu by default and enables users to
launch Developer Options after pressing seven (7) times on the <strong>Settings</strong> &gt;
<strong>About Device</strong> &gt; <strong>Build Number</strong> menu item.</li>
<li>[C-0-2] MUST hide Developer Options by default.</li>
<li>[C-0-3] MUST provide a clear mechanism that does not give preferential
treatment to one third-party app as opposed to another to enable Developer
Options. MUST provide a public visible document or website that describes how to
enable Developer Options. This document or website MUST be linkable from
the Android SDK documents.</li>
<li>SHOULD have an ongoing visual notification to the user when Developer
Options is enabled and the safety of the user is of concern.</li>
<li>MAY temporarily limit access to the Developer Options menu, by visually
hiding or disabling the menu, to prevent distraction for scenarios where the
safety of the user is of concern.</li>
</ul>

<h2 id="7_hardware_compatibility" data-text="7. Hardware Compatibility">7. Hardware Compatibility</h2>

<p>If a device includes a particular hardware component that has a corresponding
API for third-party developers:</p>

<ul>
<li>[C-0-1] The device implementation MUST implement that
API as described in the Android SDK documentation.</li>
</ul>

<p>If an API in the SDK
interacts with a hardware component that is stated to be optional and the
device implementation does not possess that component:</p>

<ul>
<li>[C-0-2] Complete class definitions (as documented by the SDK) for the component
APIs MUST still be presented.</li>
<li>[C-0-3] The API’s behaviors MUST be implemented as no-ops in some reasonable
fashion.</li>
<li>[C-0-4] API methods MUST return null values where permitted by the SDK
documentation.</li>
<li>[C-0-5] API methods MUST return no-op implementations of classes where null values
are not permitted by the SDK documentation.</li>
<li>[C-0-6] API methods MUST NOT throw exceptions not documented by the SDK
documentation.</li>
<li>[C-0-7] Device implementations MUST consistently report accurate hardware
configuration information via the <code translate="no" dir="ltr">getSystemAvailableFeatures()</code> and
<code translate="no" dir="ltr">hasSystemFeature(String)</code> methods on the
<a href="http://developer.android.com/reference/android/content/pm/PackageManager.html">android.content.pm.PackageManager</a>
class for the same build fingerprint.</li>
</ul>

<p>A typical example of a scenario where these requirements apply is the telephony
API: Even on non-phone devices, these APIs must be implemented as reasonable
no-ops.</p>

<h3 id="71_display_and_graphics" data-text="7.1. Display and Graphics">7.1. Display and Graphics</h3>

<p>Android includes facilities that automatically adjust application assets and UI
layouts appropriately for the device to ensure that third-party applications
run well on a <a href="http://developer.android.com/guide/practices/screens_support.html">variety of hardware configurations</a>.
On the Android-compatible display(s) where all third-party Android-compatible
applications can run, device implementations MUST properly implement these APIs
and behaviors, as detailed in this section.</p>

<p>The units referenced by the requirements in this section are defined as follows:</p>

<ul>
<li><strong>physical diagonal size</strong>. The distance in inches between two opposing
corners of the illuminated portion of the display.</li>
<li><strong>dots per inch (dpi)</strong>. The number of pixels encompassed by a linear
horizontal or vertical span of 1”. Where dpi values are listed, both horizontal
and vertical dpi must fall within the range.</li>
<li><strong>aspect ratio</strong>. The ratio of the pixels of the longer dimension to the
shorter dimension of the screen. For example, a display of 480x854 pixels would
be 854/480 = 1.779, or roughly “16:9”.</li>
<li><strong>density-independent pixel (dp)</strong>. The virtual pixel unit normalized to a
160 dpi screen, calculated as: pixels = dps * (density/160).</li>
</ul>

<h4 id="711_screen_configuration" data-text="7.1.1. Screen Configuration">7.1.1. Screen Configuration</h4>

<h5 id="7111_screen_size_and_shape" data-text="7.1.1.1. Screen Size and Shape">7.1.1.1. Screen Size and Shape</h5>

<p>The Android UI framework supports a variety of different logical screen layout
sizes, and allows applications to query the current configuration&#39;s screen
layout size via <code translate="no" dir="ltr">Configuration.screenLayout</code> with the <code translate="no" dir="ltr">SCREENLAYOUT_SIZE_MASK</code>
and <code translate="no" dir="ltr">Configuration.smallestScreenWidthDp</code>.</p>

<p>Device implementations:</p>

<ul>
<li><p>[C-0-1] MUST report the correct layout size for the
<code translate="no" dir="ltr">Configuration.screenLayout</code> as defined in the Android SDK documentation.
Specifically, device implementations MUST report the correct logical
density-independent pixel (dp) screen dimensions as below:</p>

<ul>
<li>Devices with the <code translate="no" dir="ltr">Configuration.uiMode</code> set as any value other than
UI_MODE_TYPE_WATCH, and reporting a <code translate="no" dir="ltr">small</code> size for the
<code translate="no" dir="ltr">Configuration.screenLayout</code>, MUST have at least 426 dp x 320 dp.</li>
<li>Devices reporting a <code translate="no" dir="ltr">normal</code> size for the <code translate="no" dir="ltr">Configuration.screenLayout</code>,
MUST have at least 480 dp x 320 dp.</li>
<li>Devices reporting a <code translate="no" dir="ltr">large</code> size for the <code translate="no" dir="ltr">Configuration.screenLayout</code>,
MUST have at least 640 dp x 480 dp.</li>
<li>Devices reporting a <code translate="no" dir="ltr">xlarge</code> size for the <code translate="no" dir="ltr">Configuration.screenLayout</code>,
MUST have at least 960 dp x 720 dp.</li>
</ul></li>
<li><p>[C-0-2] MUST correctly honor applications&#39; stated
support for screen sizes through the <a href="https://developer.android.com/guide/topics/manifest/supports-screens-element.html">&lt;<code translate="no" dir="ltr">supports-screens</code>&gt;</a>
attribute in the AndroidManifest.xml, as described
in the Android SDK documentation.</p></li>
<li><p>MAY have the Android-compatible display(s) with rounded corners.</p></li>
</ul>

<p>If device implementations support <code translate="no" dir="ltr">UI_MODE_TYPE_NORMAL</code> and include
Android-compatible display(s) with rounded corners, they:</p>

<ul>
<li><p>[C-1-1] MUST ensure that at least one of the following requirements
is met:</p>

<ul>
<li>The radius of the rounded corners is less than or equal to 38 dp.</li>
<li>When a 15 dp by 15 dp box is anchored at each corner of the logical
display, at least one pixel of each box is visible on the screen.</li>
</ul></li>
<li><p>SHOULD include user affordance to switch to the display mode with the
rectangular corners.</p></li>
</ul>

<p>If device implementations include an Android-compatible display(s) that is
foldable, or includes a folding hinge between multiple display panels and makes
such display(s) available to render third-party apps, they:</p>

<ul>
<li>[C-2-1] MUST implement the latest available stable version of the
<a href="https://developer.android.com/jetpack/androidx/releases/window-extensions">extensions API</a>
or the stable version of <a href="https://cs.android.com/androidx/platform/frameworks/support/+/androidx-main:window/window-sidecar/api/">sidecar API</a>
to be used by <a href="https://developer.android.com/jetpack/androidx/releases/window">Window Manager Jetpack</a> library.</li>
</ul>

<p>If device implementations include an Android-compatible display(s) that is
foldable, or includes a folding hinge between multiple display panels and if
the hinge or fold crosses a fullscreen application window, they:</p>

<ul>
<li>[C-3-1] MUST report the position, bounds and state of hinge or fold through
 extensions or sidecar APIs to the application.</li>
</ul>

<p>For details on correctly implementing the sidecar or extension APIs refer
to the public documentation of <a href="https://developer.android.com/jetpack/androidx/releases/window">Window Manager Jetpack</a>.</p>

<h5 id="7112_screen_aspect_ratio" data-text="7.1.1.2. Screen Aspect Ratio">7.1.1.2. Screen Aspect Ratio</h5>

<p>While there is no restriction to the aspect ratio of the physical display for
the Android-compatible display(s), the aspect ratio of the logical display
where third-party apps are rendered, which can be derived from the height and
width values reported through the <a href="https://developer.android.com/reference/android/view/Display.html"><code translate="no" dir="ltr">view.Display</code></a>
APIs and <a href="https://developer.android.com/reference/android/content/res/Configuration.html">Configuration</a>
APIs, MUST meet the following requirements:</p>

<ul>
<li><p>[C-0-1] Device implementations with <code translate="no" dir="ltr">Configuration.uiMode</code> set to
<code translate="no" dir="ltr">UI_MODE_TYPE_NORMAL</code> MUST have an aspect ratio value less than or equal
to 1.86 (roughly 16:9), unless the app meets one of the following
conditions:</p>

<ul>
<li>The app has declared that it supports a larger screen aspect ratio
through  the <a href="https://developer.android.com/guide/practices/screens-distribution"><code translate="no" dir="ltr">android.max_aspect</code></a>
metadata value.</li>
<li>The app declares it is resizeable via the <a href="https://developer.android.com/guide/topics/ui/multi-window.html#configuring">android:resizeableActivity</a>
attribute.</li>
<li>The app targets API level 24 or higher and does not declare an
<a href="https://developer.android.com/reference/android/R.attr.html#maxAspectRatio"><code translate="no" dir="ltr">android:maxAspectRatio</code></a>
that would restrict the allowed aspect ratio.</li>
</ul></li>
<li><p>[C-0-2] Device implementations with <code translate="no" dir="ltr">Configuration.uiMode</code> set to
<code translate="no" dir="ltr">UI_MODE_TYPE_NORMAL</code> MUST have an aspect ratio value equal to or greater
than 1.3333 (4:3), unless the app can be stretched wider by meeting one of
the following conditions:</p>

<ul>
<li>The app declares it is resizeable via the <a href="https://developer.android.com/guide/topics/ui/multi-window.html#configuring">android:resizeableActivity</a>
attribute.</li>
<li>The app declares an <a href="https://developer.android.com/reference/android/R.attr.html#minAspectRatio"><code translate="no" dir="ltr">android:minAspectRatio</code></a>
that would restrict the allowed aspect ratio.</li>
</ul></li>
<li><p>[C-0-3] Device implementations with the <code translate="no" dir="ltr">Configuration.uiMode</code> set as
<code translate="no" dir="ltr">UI_MODE_TYPE_WATCH</code> MUST have an aspect ratio value set as 1.0 (1:1).</p></li>
</ul>

<h5 id="7113_screen_density" data-text="7.1.1.3. Screen Density">7.1.1.3. Screen Density</h5>

<p>The Android UI framework defines a set of standard logical densities to help
application developers target application resources.</p>

<ul>
<li><p>[C-0-1] By default, device implementations MUST report only one of the
 Android framework densities that are listed on
 <a href="https://developer.android.com/reference/android/util/DisplayMetrics.html"><code translate="no" dir="ltr">DisplayMetrics</code></a>
 through the <a href="https://developer.android.com/reference/android/util/DisplayMetrics.html#DENSITY_DEVICE_STABLE"><code translate="no" dir="ltr">DENSITY_DEVICE_STABLE</code> API</a>
 and this value MUST NOT change at any time; however, the device MAY report a
 different arbitrary density according to the display configuration
 changes made by the user (for example, display size) set after initial
 boot.</p></li>
<li><p>Device implementations SHOULD define the standard Android framework density
 that is numerically closest to the physical density of the screen, unless that
 logical density pushes the reported screen size below the minimum supported. If
 the standard Android framework density that is numerically closest to the
 physical density results in a screen size that is smaller than the smallest
 supported compatible screen size (320 dp width), device implementations SHOULD
 report the next lowest standard Android framework density.</p></li>
</ul>

<p>If there is an affordance to change the display size of the device:</p>

<ul>
<li>[C-1-1] The display size MUST NOT be scaled any larger than 1.5 times the native density or
produce an effective minimum screen dimension smaller than 320dp (equivalent
to resource qualifier sw320dp), whichever comes first.</li>
<li>[C-1-2] Display size MUST NOT be scaled any smaller than 0.85 times the native density.</li>
<li>To ensure good usability and consistent font sizes, it is RECOMMENDED that the
following scaling of Native Display options be provided (while complying with the limits
specified above)
<ul>
<li>Small: 0.85x</li>
<li>Default: 1x (Native display scale)</li>
<li>Large: 1.15x</li>
<li>Larger: 1.3x</li>
<li>Largest 1.45x</li>
</ul></li>
</ul>

<h4 id="712_display_metrics" data-text="7.1.2. Display Metrics">7.1.2. Display Metrics</h4>

<p>If device implementations include the Android-compatible display(s) or
video output to the Android-compatible display screen(s), they:</p>

<ul>
<li>[C-1-1] MUST report correct values for all Android-compatible display
metrics defined in the
<a href="https://developer.android.com/reference/android/util/DisplayMetrics.html"><code translate="no" dir="ltr">android.util.DisplayMetrics</code></a> API.</li>
</ul>

<p>If device implementations does not include an embedded screen or video output,
they:</p>

<ul>
<li>[C-2-1] MUST report correct values of the Android-compatible display
as defined in the <a href="https://developer.android.com/reference/android/util/DisplayMetrics.html"><code translate="no" dir="ltr">android.util.DisplayMetrics</code></a> API
for the emulated default <code translate="no" dir="ltr">view.Display</code>.</li>
</ul>

<h4 id="713_screen_orientation" data-text="7.1.3. Screen Orientation">7.1.3. Screen Orientation</h4>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST report which screen orientations they support
 (<code translate="no" dir="ltr">android.hardware.screen.portrait</code> and/or
 <code translate="no" dir="ltr">android.hardware.screen.landscape</code>) and MUST report at least one supported
 orientation. For example, a device with a fixed orientation landscape
 screen, such as a television or laptop, SHOULD only
 report <code translate="no" dir="ltr">android.hardware.screen.landscape</code>.</li>
<li>[C-0-2] MUST report the correct value for the device’s current
 orientation, whenever queried via the
 <code translate="no" dir="ltr">android.content.res.Configuration.orientation</code>,
 <code translate="no" dir="ltr">android.view.Display.getOrientation()</code>, or other APIs.</li>
</ul>

<p>If device implementations support both screen orientations, they:</p>

<ul>
<li>[C-1-1] MUST support dynamic orientation by applications to either portrait or landscape screen
 orientation. That is, the device must respect the application’s request for a specific screen
 orientation.</li>
<li>[C-1-2] MUST NOT change the reported screen size or density when changing orientation.</li>
<li>MAY select either portrait or landscape orientation as the default.</li>
</ul>

<h4 id="714_2d_and_3d_graphics_acceleration" data-text="7.1.4. 2D and 3D Graphics Acceleration">7.1.4. 2D and 3D Graphics Acceleration</h4>

<h5 id="7141_opengl_es" data-text="7.1.4.1 OpenGL ES">7.1.4.1 OpenGL ES</h5>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST correctly identify the supported OpenGL ES versions (1.1, 2.0,
3.0, 3.1, 3.2) through the managed APIs (such as via the
<code translate="no" dir="ltr">GLES10.getString()</code> method) and the native APIs.</li>
<li>[C-0-2] MUST include the support for all the corresponding managed APIs and
native APIs for every OpenGL ES versions they identified to support.</li>
</ul>

<p>If device implementations include a screen or video output, they:</p>

<ul>
<li>[C-1-1] MUST support both OpenGL ES 1.1 and 2.0, as embodied and detailed
in the <a href="https://developer.android.com/guide/topics/graphics/opengl.html">Android SDK documentation</a>.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to support OpenGL ES 3.1.</li>
<li>SHOULD support OpenGL ES 3.2.</li>
</ul>

<p>The OpenGL ES dEQP tests are partitioned into a number of test lists, each with
an associated date/version number. These are in the Android source tree at
<code translate="no" dir="ltr">external/deqp/android/cts/master/glesXX-master-YYYY-MM-DD.txt</code>. A device that
supports OpenGL ES at a self-reported level indicates that it can pass the dEQP
tests in all test lists from this level and earlier.</p>

<p>If device implementations support any of the OpenGL ES versions, they:</p>

<ul>
<li>[C-2-1] MUST report via the OpenGL ES managed APIs and native APIs any
other OpenGL ES extensions they have implemented, and conversely MUST
NOT report extension strings that they do not support.</li>
<li>[C-2-2] MUST support the <code translate="no" dir="ltr">EGL_KHR_image</code>, <code translate="no" dir="ltr">EGL_KHR_image_base</code>,
<code translate="no" dir="ltr">EGL_ANDROID_image_native_buffer</code>, <code translate="no" dir="ltr">EGL_ANDROID_get_native_client_buffer</code>,
<code translate="no" dir="ltr">EGL_KHR_wait_sync</code>, <code translate="no" dir="ltr">EGL_KHR_get_all_proc_addresses</code>,
<code translate="no" dir="ltr">EGL_ANDROID_presentation_time</code>, <code translate="no" dir="ltr">EGL_KHR_swap_buffers_with_damage</code>,
<code translate="no" dir="ltr">EGL_ANDROID_recordable</code>, and <code translate="no" dir="ltr">EGL_ANDROID_GLES_layers</code> extensions.</li>
<li>[C-2-3] MUST report the maximum version of the OpenGL ES dEQP tests
supported via the <code translate="no" dir="ltr">android.software.opengles.deqp.level</code> feature flag.</li>
<li>[C-2-4] MUST at least support version 132383489 (from Mar 1st, 2020) as
reported in the <code translate="no" dir="ltr">android.software.opengles.deqp.level</code> feature flag.</li>
<li>[C-2-5] MUST pass all OpenGL ES dEQP Tests in the test lists between version
132383489 and the version specified in the
<code translate="no" dir="ltr">android.software.opengles.deqp.level</code> feature flag, for each supported
OpenGL ES version.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to support the <code translate="no" dir="ltr">EGL_KHR_partial_update</code> and
<code translate="no" dir="ltr">OES_EGL_image_external</code> extensions.</li>
<li>SHOULD accurately report via the <code translate="no" dir="ltr">getString()</code> method, any texture
compression format that they support, which is typically vendor-specific.</li>
</ul>

<p>If device implementations declare support for OpenGL ES 3.0, 3.1, or 3.2, they:</p>

<ul>
<li>[C-3-1] MUST export the corresponding function symbols for these version in
addition to the OpenGL ES 2.0 function symbols in the libGLESv2.so library.</li>
<li>[SR] Are STRONGLY RECOMMENDED to support the <code translate="no" dir="ltr">OES_EGL_image_external_essl3</code>
extension.</li>
</ul>

<p>If device implementations support OpenGL ES 3.2, they:</p>

<ul>
<li>[C-4-1] MUST support the OpenGL ES Android Extension Pack in its entirety.</li>
</ul>

<p>If device implementations support the OpenGL ES <a href="https://developer.android.com/reference/android/opengl/GLES31Ext.html">Android Extension Pack</a> in its
entirety, they:</p>

<ul>
<li>[C-5-1] MUST identify the support through the <code translate="no" dir="ltr">android.hardware.opengles.aep</code>
feature flag.</li>
</ul>

<p>If device implementations expose support for the <code translate="no" dir="ltr">EGL_KHR_mutable_render_buffer</code>
extension, they:</p>

<ul>
<li>[C-6-1] MUST also support the <code translate="no" dir="ltr">EGL_ANDROID_front_buffer_auto_refresh</code>
extension.</li>
</ul>

<h5 id="7142_vulkan" data-text="7.1.4.2 Vulkan">7.1.4.2 Vulkan</h5>

<p>Android includes support for <a href="https://www.khronos.org/registry/vulkan/specs/1.0-wsi&amp;lowbarextensions/xhtml/vkspec.html">Vulkan</a>
, a low-overhead, cross-platform API for high-performance 3D graphics.</p>

<p>If device implementations support OpenGL ES 3.1, they:</p>

<ul>
<li>[SR] Are STRONGLY RECOMMENDED to include support for Vulkan 1.1.</li>
</ul>

<p>If device implementations include a screen or video output, they:</p>

<ul>
<li>SHOULD include support for Vulkan 1.1.</li>
</ul>

<p>The Vulkan dEQP tests are partitioned into a number of test lists, each with an
associated date/version.  These are in the Android source tree at
<code translate="no" dir="ltr">external/deqp/android/cts/master/vk-master-YYYY-MM-DD.txt</code>.  A device that
supports Vulkan at a self-reported level indicates that it can pass the dEQP
tests in all test lists from this level and earlier.</p>

<p>If device implementations include support for Vulkan 1.0 or higher, they:</p>

<ul>
<li>[C-1-1] MUST report the correct integer value with the
<code translate="no" dir="ltr">android.hardware.vulkan.level</code> and <code translate="no" dir="ltr">android.hardware.vulkan.version</code>
feature flags.</li>
<li>[C-1-2] MUST enumerate, at least one <code translate="no" dir="ltr">VkPhysicalDevice</code> for the Vulkan
native API <a href="https://www.khronos.org/registry/vulkan/specs/1.0/man/html/vkEnumeratePhysicalDevices.html"><code translate="no" dir="ltr">vkEnumeratePhysicalDevices()</code></a>
.</li>
<li>[C-1-3] MUST fully implement the Vulkan 1.0 APIs for each enumerated
<code translate="no" dir="ltr">VkPhysicalDevice</code>.</li>
<li>[C-1-4] MUST enumerate layers, contained in native libraries named as
<code translate="no" dir="ltr">libVkLayer*.so</code> in the application package’s native library directory,
through the Vulkan native APIs <a href="https://www.khronos.org/registry/vulkan/specs/1.0/man/html/vkEnumerateInstanceLayerProperties.html"><code translate="no" dir="ltr">vkEnumerateInstanceLayerProperties()</code></a>
and <a href="https://www.khronos.org/registry/vulkan/specs/1.0/man/html/vkEnumerateDeviceLayerProperties.html"><code translate="no" dir="ltr">vkEnumerateDeviceLayerProperties()</code></a>
.</li>
<li>[C-1-5] MUST NOT enumerate layers provided by libraries outside of the
application package, or provide other ways of tracing or intercepting the
Vulkan API, unless the application has the <code translate="no" dir="ltr">android:debuggable</code> attribute
set as <code translate="no" dir="ltr">true</code>.</li>
<li>[C-1-6] MUST report all extension strings that they do support via the
Vulkan native APIs , and conversely MUST NOT report extension strings
that they do not correctly support.</li>
<li>[C-1-7] MUST support the VK_KHR_surface, VK_KHR_android_surface, VK_KHR_swapchain,
and VK_KHR_incremental_present extensions.</li>
<li>[C-1-8] MUST report the maximum version of the Vulkan dEQP Tests
supported via the <code translate="no" dir="ltr">android.software.vulkan.deqp.level</code> feature flag.</li>
<li>[C-1-9] MUST at least support version <code translate="no" dir="ltr">132317953</code> (from Mar 1st, 2019) as
reported in the <code translate="no" dir="ltr">android.software.vulkan.deqp.level</code> feature flag.</li>
<li>[C-1-10] MUST pass all Vulkan dEQP Tests in the test lists between
version <code translate="no" dir="ltr">132317953</code> and the version specified in the
<code translate="no" dir="ltr">android.software.vulkan.deqp.level</code> feature flag.</li>
<li>[C-1-11] MUST NOT enumerate support for the VK_KHR_video_queue,
VK_KHR_video_decode_queue, or VK_KHR_video_encode_queue extensions.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to support the VK_KHR_driver_properties and
VK_GOOGLE_display_timing extensions.</li>
</ul>

<p>If device implementations do not include support for Vulkan 1.0, they:</p>

<ul>
<li>[C-2-1] MUST NOT declare any of the Vulkan feature flags (e.g.
<code translate="no" dir="ltr">android.hardware.vulkan.level</code>, <code translate="no" dir="ltr">android.hardware.vulkan.version</code>).</li>
<li>[C-2-2] MUST NOT enumerate any <code translate="no" dir="ltr">VkPhysicalDevice</code> for the Vulkan native API
<code translate="no" dir="ltr">vkEnumeratePhysicalDevices()</code>.</li>
</ul>

<p>If device implementations include support for Vulkan 1.1 and declare any of the
Vulkan feature flags, they:</p>

<ul>
<li>[C-3-1] MUST expose support for the <code translate="no" dir="ltr">SYNC_FD</code> external semaphore and handle
types and the <code translate="no" dir="ltr">VK_ANDROID_external_memory_android_hardware_buffer</code> extension.</li>
</ul>

<h5 id="7143_renderscript" data-text="7.1.4.3 RenderScript">7.1.4.3 RenderScript</h5>

<ul>
<li>[C-0-1] Device implementations MUST support <a href="http://developer.android.com/guide/topics/renderscript/">Android RenderScript</a>, as detailed
 in the Android SDK documentation.</li>
</ul>

<h5 id="7144_2d_graphics_acceleration" data-text="7.1.4.4 2D Graphics Acceleration">7.1.4.4 2D Graphics Acceleration</h5>

<p>Android includes a mechanism for applications to declare that they want to
enable hardware acceleration for 2D graphics at the Application, Activity,
Window, or View level through the use of a manifest tag
<a href="http://developer.android.com/guide/topics/graphics/hardware-accel.html">android:hardwareAccelerated</a>
or direct API calls.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST enable hardware acceleration by default, and MUST
 disable hardware acceleration if the developer so requests by setting
 android:hardwareAccelerated=&quot;false” or disabling hardware acceleration
 directly through the Android View APIs.</li>
<li>[C-0-2] MUST exhibit behavior consistent with the
 Android SDK documentation on <a href="http://developer.android.com/guide/topics/graphics/hardware-accel.html">hardware acceleration</a>.</li>
</ul>

<p>Android includes a TextureView object that lets developers directly integrate
hardware-accelerated OpenGL ES textures as rendering targets in a UI hierarchy.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-3] MUST support the TextureView API, and MUST exhibit
 consistent behavior with the upstream Android implementation.</li>
</ul>

<h5 id="7145_wide-gamut_displays" data-text="7.1.4.5 Wide-gamut Displays">7.1.4.5 Wide-gamut Displays</h5>

<p>If device implementations claim support for wide-gamut displays through
<a href="https://developer.android.com/reference/android/content/res/Configuration.html#isScreenWideColorGamut%28%29"><code translate="no" dir="ltr">Configuration.isScreenWideColorGamut()</code>
</a>
, they:</p>

<ul>
<li>[C-1-1] MUST have a color-calibrated display.</li>
<li>[C-1-2] MUST have a display whose gamut covers the sRGB color gamut
entirely in CIE 1931 xyY space.</li>
<li>[C-1-3] MUST have a display whose gamut has an area of at least 90% of
DCI-P3 in CIE 1931 xyY space.</li>
<li>[C-1-4] MUST support OpenGL ES 3.1 or 3.2 and report it properly.</li>
<li>[C-1-5] MUST advertise support for the <code translate="no" dir="ltr">EGL_KHR_no_config_context</code>,
<code translate="no" dir="ltr">EGL_EXT_pixel_format_float</code>, <code translate="no" dir="ltr">EGL_KHR_gl_colorspace</code>,
<code translate="no" dir="ltr">EGL_EXT_gl_colorspace_scrgb</code>, <code translate="no" dir="ltr">EGL_EXT_gl_colorspace_scrgb_linear</code>,
<code translate="no" dir="ltr">EGL_EXT_gl_colorspace_display_p3</code>, <code translate="no" dir="ltr">EGL_EXT_gl_colorspace_display_p3_linear</code>,
and <code translate="no" dir="ltr">EGL_EXT_gl_colorspace_display_p3_passthrough</code>
extensions.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to support <code translate="no" dir="ltr">GL_EXT_sRGB</code>.</li>
</ul>

<p>Conversely, if device implementations do not support wide-gamut displays, they:</p>

<ul>
<li>[C-2-1] SHOULD cover 100% or more of sRGB in CIE 1931 xyY space, although
the screen color gamut is undefined.</li>
</ul>

<h4 id="715_legacy_application_compatibility_mode" data-text="7.1.5. Legacy Application Compatibility Mode">7.1.5. Legacy Application Compatibility Mode</h4>

<p>Android specifies a “compatibility mode” in which the framework operates in a
&#39;normal&#39; screen size equivalent (320dp width) mode for the benefit of legacy
applications not developed for old versions of Android that pre-date
screen-size independence.</p>

<h4 id="716_screen_technology" data-text="7.1.6. Screen Technology">7.1.6. Screen Technology</h4>

<p>The Android platform includes APIs that allow applications to render rich
graphics to an Android-compatible display. Devices MUST support all of these
APIs as defined by the Android SDK unless specifically allowed in this document.</p>

<p>All of a device implementation&#39;s Android-compatible displays:</p>

<ul>
<li>[C-0-1] MUST be capable of rendering 16-bit color graphics.</li>
<li>SHOULD support displays capable of 24-bit color graphics.</li>
<li>[C-0-2] MUST be capable of rendering animations.</li>
<li>[C-0-3] MUST have a pixel aspect ratio (PAR)
between 0.9 and 1.15. That is, the pixel aspect ratio MUST be near square
(1.0) with a 10 ~ 15% tolerance.</li>
</ul>

<h4 id="717_secondary_displays" data-text="7.1.7. Secondary Displays">7.1.7. Secondary Displays</h4>

<p>Android includes support for secondary Android-compatible displays to enable
media sharing capabilities and developer APIs for accessing external displays.</p>

<p>If device implementations support an external display either via a wired,
wireless, or an embedded additional display connection, they:</p>

<ul>
<li>[C-1-1] MUST implement the <a href="https://developer.android.com/reference/android/hardware/display/DisplayManager.html"><code translate="no" dir="ltr">DisplayManager</code></a>
system service and API as described in the Android SDK documentation.</li>
</ul>

<h3 id="72_input_devices" data-text="7.2. Input Devices">7.2. Input Devices</h3>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST include an input mechanism, such as a
<a href="#7_2_4_touchScreen_input">touchscreen</a> or <a href="#7_2_2_non-touch_navigation">non-touch navigation</a>,
to navigate between the UI elements.</li>
</ul>

<h4 id="721_keyboard" data-text="7.2.1. Keyboard">7.2.1. Keyboard</h4>

<p>If device implementations include support for third-party
Input Method Editor (IME) applications, they:</p>

<ul>
<li>[C-1-1] MUST declare the <a href="https://developer.android.com/reference/android/content/pm/PackageManager.html#FEATURE_INPUT_METHODS"><code translate="no" dir="ltr">android.software.input_methods</code></a>
feature flag.</li>
<li>[C-1-2] MUST implement fully <a href="https://developer.android.com/reference/android/view/inputmethod/InputMethodManager.html"><code translate="no" dir="ltr">Input Management Framework</code></a></li>
<li>[C-1-3] MUST have a preinstalled software keyboard.</li>
</ul>

<p>Device implementations:
*   [C-0-1] MUST NOT include a hardware keyboard that does not match one of the
    formats specified in <a href="http://developer.android.com/reference/android/content/res/Configuration.html">android.content.res.Configuration.keyboard</a>
    (QWERTY or 12-key).
*   SHOULD include additional soft keyboard implementations.
*   MAY include a hardware keyboard.</p>

<h4 id="722_non-touch_navigation" data-text="7.2.2. Non-touch Navigation">7.2.2. Non-touch Navigation</h4>

<p>Android includes support for d-pad, trackball, and wheel as mechanisms for
non-touch navigation.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST report the correct value for
<a href="https://developer.android.com/reference/android/content/res/Configuration.html#navigation">android.content.res.Configuration.navigation</a>.</li>
</ul>

<p>If device implementations lack non-touch navigations, they:</p>

<ul>
<li>[C-1-1] MUST provide a reasonable alternative user interface mechanism for the
selection and editing of text, compatible with Input Management Engines. The
upstream Android open source implementation includes a selection mechanism
suitable for use with devices that lack non-touch navigation inputs.</li>
</ul>

<h4 id="723_navigation_keys" data-text="7.2.3. Navigation Keys">7.2.3. Navigation Keys</h4>

<p>The <a href="http://developer.android.com/reference/android/view/KeyEvent.html#%60KEYCODE_HOME%60">Home</a>,
<a href="http://developer.android.com/reference/android/view/KeyEvent.html#%60KEYCODE_APP_SWITCH%60">Recents</a>,
and <a href="http://developer.android.com/reference/android/view/KeyEvent.html#%60KEYCODE_BACK%60">Back</a>
functions typically provided via an interaction with a dedicated physical button
or a distinct portion of the touch screen, are essential to the Android
navigation paradigm and therefore, device implementations:</p>

<ul>
<li>[C-0-1] MUST provide a user affordance to launch installed applications
that have an activity with the <code translate="no" dir="ltr">&lt;intent-filter&gt;</code> set with <code translate="no" dir="ltr">ACTION=MAIN</code> and
<code translate="no" dir="ltr">CATEGORY=LAUNCHER</code> or <code translate="no" dir="ltr">CATEGORY=LEANBACK_LAUNCHER</code> for Television device
implementations.
The Home function SHOULD be the mechanism for this user affordance.</li>
<li>SHOULD provide buttons for the Recents and Back function.</li>
</ul>

<p>If the Home, Recents, or Back functions are provided, they:</p>

<ul>
<li>[C-1-1] MUST be accessible with a single action (e.g. tap, double-click or
gesture) when any of them are accessible.</li>
<li>[C-1-2] MUST provide a clear indication of which single action would trigger
each function. Having a visible icon imprinted on the button, showing a software
icon on the navigation bar portion of the screen, or walking the user through a
guided step-by-step demo flow during the out-of-box setup experience are
examples of such an indication.</li>
</ul>

<p>Device implementations:</p>

<ul>
<li>[SR] are STRONGLY RECOMMENDED to not provide the input mechanism for the
<a href="http://developer.android.com/reference/android/view/KeyEvent.html#%60KEYCODE_BACK%60">Menu function</a>
as it is deprecated in favor of action bar since Android 4.0.</li>
</ul>

<p>If device implementations provide the Menu function, they:</p>

<ul>
<li>[C-2-1] MUST display the action overflow button whenever the action
overflow menu popup is not empty and the action bar is visible.</li>
<li>[C-2-2] MUST NOT modify the position of the action overflow popup
displayed by selecting the overflow button in the action bar, but MAY render
the action overflow popup at a modified position on the screen when it is
displayed by selecting the Menu function.</li>
</ul>

<p>If device implementations do not provide the Menu function, for backwards
compatibility, they:
*    [C-3-1] MUST make the Menu function available to applications when
<code translate="no" dir="ltr">targetSdkVersion</code> is less than 10, either by a physical button, a software key,
or gestures. This Menu function should be accessible unless hidden together with
other navigation functions.</p>

<p>If device implementations provide the <a href="http://developer.android.com/reference/android/view/KeyEvent.html#%60KEYCODE_ASSIST%60">Assist function</a>,
they:</p>

<ul>
<li>[C-4-1] MUST make the Assist function accessible with a single action
(e.g. tap, double-click or gesture) when other navigation keys are accessible.</li>
<li>[SR] STRONGLY RECOMMENDED to use long press on HOME function as this
designated interaction.</li>
</ul>

<p>If device implementations use a distinct portion of the screen to display the
navigation keys, they:</p>

<ul>
<li>[C-5-1] Navigation keys MUST use a distinct portion of the screen, not
available to applications, and MUST NOT obscure or otherwise interfere with
the portion of the screen available to applications.</li>
<li>[C-5-2] MUST make available a portion of the display to applications that
meets the requirements defined in <a href="#7_1_1_screen_configuration">section 7.1.1</a>.</li>
<li>[C-5-3] MUST honor the flags set by the app through the <a href="https://developer.android.com/reference/android/view/View.html#setSystemUiVisibility%28int%29"><code translate="no" dir="ltr">View.setSystemUiVisibility()</code></a>
API method, so that this distinct portion of the screen
(a.k.a. the navigation bar) is properly hidden away as documented in
the SDK.</li>
</ul>

<p>If the navigation function is provided as an on-screen, gesture-based action:</p>

<ul>
<li>[C-6-1]
<a href="https://developer.android.com/reference/android/view/WindowInsets.html#getMandatorySystemGestureInsets()"><code translate="no" dir="ltr">WindowInsets#getMandatorySystemGestureInsets()</code></a>
MUST only be used to report the Home gesture recognition area.</li>
<li>[C-6-2] Gestures that start within an exclusion rect as provided by the
foreground application via
<a href="https://developer.android.com/reference/android/view/View.html#setSystemGestureExclusionRects(java.util.List%3Candroid.graphics.Rect%3E)"><code translate="no" dir="ltr">View#setSystemGestureExclusionRects()</code></a>,
but outside of
<a href="https://developer.android.com/reference/android/view/WindowInsets.html#getMandatorySystemGestureInsets()"><code translate="no" dir="ltr">WindowInsets#getMandatorySystemGestureInsets()</code></a>,
MUST NOT be intercepted for the navigation function as long as the exclusion
rect is allowed within the max exclusion limit as specified in the
documentation for
<a href="https://developer.android.com/reference/android/view/View.html#setSystemGestureExclusionRects(java.util.List%3Candroid.graphics.Rect%3E)"><code translate="no" dir="ltr">View#setSystemGestureExclusionRects()</code></a>.</li>
<li>[C-6-3] MUST send the foreground app a
<a href="https://developer.android.com/reference/android/view/MotionEvent.html#ACTION_CANCEL"><code translate="no" dir="ltr">MotionEvent.ACTION_CANCEL</code></a>
event once touches start being intercepted for a system gesture,
if the foreground app was previously sent an
<a href="https://developer.android.com/reference/android/view/MotionEvent.html#ACTION_DOWN"><code translate="no" dir="ltr">MotionEvent.ACTION_DOWN</code></a>
event.</li>
<li>[C-6-4] MUST provide a user affordance to switch to an on-screen,
button-based navigation (for example, in Settings).</li>
<li>SHOULD provide Home function as a swipe up from the bottom edge of the
current orientation of the screen.</li>
<li>SHOULD provide Recents function as a swipe up and hold before release, from
the same area as the Home gesture.</li>
<li>Gestures that start within
<a href="https://developer.android.com/reference/android/view/WindowInsets.html#getMandatorySystemGestureInsets()"><code translate="no" dir="ltr">WindowInsets#getMandatorySystemGestureInsets()</code></a>
SHOULD NOT be affected by exclusion rects provided by the foreground
application via
<a href="https://developer.android.com/reference/android/view/View.html#setSystemGestureExclusionRects(java.util.List%3Candroid.graphics.Rect%3E)"><code translate="no" dir="ltr">View#setSystemGestureExclusionRects()</code></a>.</li>
</ul>

<p>If a navigation function is provided from anywhere on the left and right edges
of the current orientation of the screen:</p>

<ul>
<li>[C-7-1] The navigation function MUST be Back and provided as a swipe from
both left and right edges of the current orientation of the screen.</li>
<li>[C-7-2] If custom swipeable system panels are provided on the left or
right edges, they MUST be placed within the top 1/3rd of the screen with
a clear, persistent visual indication that dragging in would invoke the
aforementioned panels, and hence not Back. A system panel MAY be
configured by a user such that it lands below the top 1/3rd of the screen
edge(s) but the system panel MUST NOT use longer than 1/3rd of the edge(s).</li>
<li>[C-7-3] When the foreground app has either the
View.SYSTEM_UI_FLAG_IMMERSIVE, View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY,
WindowInsetsController.BEHAVIOR_DEFAULT, or
WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE flags set,
swiping from the edges MUST behave as implemented in AOSP, which is
documented in the SDK.</li>
<li>[C-7-4] When the foreground app has either the
View.SYSTEM_UI_FLAG_IMMERSIVE, View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY,
WindowInsetsController.BEHAVIOR_DEFAULT, or
WindowInsetsController.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE flags set,
custom swipeable system panels MUST be hidden until the user brings in or
un-dims the system bars (a.k.a. navigation and status bar) as implemented
in AOSP.</li>
</ul>

<h4 id="724_touchscreen_input" data-text="7.2.4. Touchscreen Input">7.2.4. Touchscreen Input</h4>

<p>Android includes support for a variety of pointer input systems, such as
touchscreens, touch pads, and fake touch input devices.
<a href="https://source.android.com/devices/input/touch-devices">Touchscreen-based device implementations</a>
are associated with a display such that the user has the impression of directly
manipulating items on screen. Since the user is directly touching the screen,
the system does not require any additional affordances to indicate the objects
being manipulated.</p>

<p>Device implementations:</p>

<ul>
<li>SHOULD have a pointer input system of some kind
 (either mouse-like or touch).</li>
<li>SHOULD support fully independently tracked pointers.</li>
</ul>

<p>If device implementations include a touchscreen (single-touch or better) on a
primary Android-compatible display, they:</p>

<ul>
<li>[C-1-1] MUST report <code translate="no" dir="ltr">TOUCHSCREEN_FINGER</code> for the <a href="https://developer.android.com/reference/android/content/res/Configuration.html#touchscreen"><code translate="no" dir="ltr">Configuration.touchscreen</code></a>
 API field.</li>
<li>[C-1-2] MUST report the <code translate="no" dir="ltr">android.hardware.touchscreen</code> and
 <code translate="no" dir="ltr">android.hardware.faketouch</code> feature flags.</li>
</ul>

<p>If device implementations include a touchscreen that can track more than
a single touch on a primary Android-compatible display, they:</p>

<ul>
<li>[C-2-1] MUST report the appropriate feature flags <code translate="no" dir="ltr">android.hardware.touchscreen.multitouch</code>,
<code translate="no" dir="ltr">android.hardware.touchscreen.multitouch.distinct</code>, <code translate="no" dir="ltr">android.hardware.touchscreen.multitouch.jazzhand</code>
corresponding to the type of the specific touchscreen on the device.</li>
</ul>

<p>If device implementations rely on an external input device such as mouse or
trackball (i.e. not directly touching the screen) for input on a primary
Android-compatible display and meet the fake touch requirements in
<a href="#7_2_5_fake_touch_input">section 7.2.5</a>, they:</p>

<ul>
<li>[C-3-1] MUST NOT report any feature flag starting with
<code translate="no" dir="ltr">android.hardware.touchscreen</code>.</li>
<li>[C-3-2] MUST report only <code translate="no" dir="ltr">android.hardware.faketouch</code>.</li>
<li>[C-3-3] MUST report <code translate="no" dir="ltr">TOUCHSCREEN_NOTOUCH</code> for the
<a href="https://developer.android.com/reference/android/content/res/Configuration.html#touchscreen"><code translate="no" dir="ltr">Configuration.touchscreen</code></a>
API field.</li>
</ul>

<h4 id="725_fake_touch_input" data-text="7.2.5. Fake Touch Input">7.2.5. Fake Touch Input</h4>

<p>Fake touch interface provides a user input system that approximates a subset of
touchscreen capabilities. For example, a  mouse or remote control that drives
an on-screen cursor approximates touch, but requires the user to first point or
focus then click. Numerous input devices like the mouse, trackpad, gyro-based
air mouse, gyro-pointer, joystick, and multi-touch trackpad can support fake
touch interactions. Android includes the feature constant
android.hardware.faketouch, which corresponds to a high-fidelity non-touch
(pointer-based) input device such as a mouse or trackpad that can adequately
emulate touch-based input (including basic gesture support), and indicates that
the device supports an emulated subset of touchscreen functionality.</p>

<p>If device implementations do not include a touchscreen but include another
pointer input system which they want to make available, they:</p>

<ul>
<li>SHOULD declare support for the <code translate="no" dir="ltr">android.hardware.faketouch</code> feature flag.</li>
</ul>

<p>If device implementations declare support for <code translate="no" dir="ltr">android.hardware.faketouch</code>,
they:</p>

<ul>
<li>[C-1-1] MUST report the <a href="http://developer.android.com/reference/android/view/MotionEvent.html">absolute X and Y screen positions</a>
of the pointer location and display a visual pointer on the screen.</li>
<li>[C-1-2] MUST report touch event with the action code that specifies the
state change that occurs on the pointer <a href="http://developer.android.com/reference/android/view/MotionEvent.html">going down or up on the
screen</a>.</li>
<li>[C-1-3] MUST support pointer down and up on an object on the screen, which
allows users to emulate tap on an object on the screen.</li>
<li>[C-1-4] MUST support pointer down, pointer up, pointer down then pointer up
in the same place on an object on the screen within a time threshold, which
allows users to <a href="http://developer.android.com/reference/android/view/MotionEvent.html">emulate double tap</a>
on an object on the screen.</li>
<li>[C-1-5] MUST support pointer down on an arbitrary point on the screen,
pointer move to any other arbitrary point on the screen, followed by a pointer
up, which allows users to emulate a touch drag.</li>
<li>[C-1-6] MUST support pointer down then allow users to quickly move the
object to a different position on the screen and then pointer up on the screen,
which allows users to fling an object on the screen.</li>
</ul>

<p>If device implementations declare support for
<code translate="no" dir="ltr">android.hardware.faketouch.multitouch.distinct</code>, they:</p>

<ul>
<li>[C-2-1] MUST declare support for <code translate="no" dir="ltr">android.hardware.faketouch</code>.</li>
<li>[C-2-2] MUST support distinct tracking of two or more independent pointer
inputs.</li>
</ul>

<p>If device implementations declare support for
<code translate="no" dir="ltr">android.hardware.faketouch.multitouch.jazzhand</code>, they:</p>

<ul>
<li>[C-3-1] MUST declare support for <code translate="no" dir="ltr">android.hardware.faketouch</code>.</li>
<li>[C-3-2] MUST support distinct tracking of 5 (tracking a hand of fingers)
or more pointer inputs fully independently.</li>
</ul>

<h4 id="726_game_controller_support" data-text="7.2.6. Game Controller Support">7.2.6. Game Controller Support</h4>

<h5 id="7261_button_mappings" data-text="7.2.6.1. Button Mappings">7.2.6.1. Button Mappings</h5>

<p>Device implementations:</p>

<ul>
<li>[C-1-1] MUST be capable to map HID events to the corresponding <a href="https://developer.android.com/reference/android/view/InputEvent"><code translate="no" dir="ltr">InputEvent</code></a> constants as listed in the below tables. The upstream Android implementation satisfies this requirement.</li>
</ul>

<p>If device implementations embed a controller or ship with a separate controller in the box that would provide means to input all the events listed in the below tables, they:</p>

<ul>
<li>[C-2-1] MUST declare the feature flag <code translate="no" dir="ltr">android.hardware.gamepad</code></li>
</ul>

<table>
 <tr>
    <th>Button</th>
    <th>HID Usage<sup>2</sup></th>
    <th>Android Button</th>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BUTTON_A">A</a><sup>1</sup></td>
    <td>0x09 0x0001</td>
    <td>KEYCODE_BUTTON_A (96)</td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BUTTON_B">B</a><sup>1</sup></td>
    <td>0x09 0x0002</td>
    <td>KEYCODE_BUTTON_B (97)</td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BUTTON_X">X</a><sup>1</sup></td>
    <td>0x09 0x0004</td>
    <td>KEYCODE_BUTTON_X (99)</td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BUTTON_Y">Y</a><sup>1</sup></td>
    <td>0x09 0x0005</td>
    <td>KEYCODE_BUTTON_Y (100)</td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_DPAD_UP">D-pad up</a><sup>1</sup><br />

<a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_DPAD_DOWN">D-pad down</a><sup>1</sup></td>
    <td>0x01 0x0039<sup>3</sup></td>
    <td><a href="http://developer.android.com/reference/android/view/MotionEvent.html#AXIS_HAT_Y">AXIS_HAT_Y</a><sup>4</sup></td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_DPAD_LEFT">D-pad left</a>1<br />

<a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_DPAD_RIGHT">D-pad right</a><sup>1</sup></td>
    <td>0x01 0x0039<sup>3</sup></td>
    <td><a href="http://developer.android.com/reference/android/view/MotionEvent.html#AXIS_HAT_X">AXIS_HAT_X</a><sup>4</sup></td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BUTTON_L1">Left shoulder button</a><sup>1</sup></td>
    <td>0x09 0x0007</td>
    <td>KEYCODE_BUTTON_L1 (102)</td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BUTTON_R1">Right shoulder button</a><sup>1</sup></td>
    <td>0x09 0x0008</td>
    <td>KEYCODE_BUTTON_R1 (103)</td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BUTTON_THUMBL">Left stick click</a><sup>1</sup></td>
    <td>0x09 0x000E</td>
    <td>KEYCODE_BUTTON_THUMBL (106)</td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BUTTON_THUMBR">Right stick click</a><sup>1</sup></td>
    <td>0x09 0x000F</td>
    <td>KEYCODE_BUTTON_THUMBR (107)</td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_HOME">Home</a><sup>1</sup></td>
    <td>0x0c 0x0223</td>
    <td>KEYCODE_HOME (3)</td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/KeyEvent.html#KEYCODE_BACK">Back</a><sup>1</sup></td>
    <td>0x0c 0x0224</td>
    <td>KEYCODE_BACK (4)</td>
 </tr>
</table>

<p class="table_footnote">1 <a href="http://developer.android.com/reference/android/view/KeyEvent.html">KeyEvent</a></p>

<p class="table_footnote">2 The above HID usages must be declared within a Game
pad CA (0x01 0x0005).</p>

<p class="table_footnote">3 This usage must have a Logical Minimum of 0, a
Logical Maximum of 7, a Physical Minimum of 0, a Physical Maximum of 315, Units
in Degrees, and a Report Size of 4. The logical value is defined to be the
clockwise rotation away from the vertical axis; for example, a logical value of
0 represents no rotation and the up button being pressed, while a logical value
of 1 represents a rotation of 45 degrees and both the up and left keys being
pressed.</p>

<p class="table_footnote">4 <a
href="http://developer.android.com/reference/android/view/MotionEvent.html">MotionEvent</a></p>

<table>
 <tr>
    <th>Analog Controls<sup>1</sup></th>
    <th>HID Usage</th>
    <th>Android Button</th>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/MotionEvent.html#AXIS_LTRIGGER">Left Trigger</a></td>
    <td>0x02 0x00C5</td>
    <td>AXIS_LTRIGGER </td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/MotionEvent.html#AXIS_THROTTLE">Right Trigger</a></td>
    <td>0x02 0x00C4</td>
    <td>AXIS_RTRIGGER </td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/MotionEvent.html#AXIS_Y">Left Joystick</a></td>
    <td>0x01 0x0030<br />

0x01 0x0031</td>
    <td>AXIS_X<br />

AXIS_Y</td>
 </tr>
 <tr>
    <td><a href="http://developer.android.com/reference/android/view/MotionEvent.html#AXIS_Z">Right Joystick</a></td>
    <td>0x01 0x0032<br />

0x01 0x0035</td>
    <td>AXIS_Z<br />

AXIS_RZ</td>
 </tr>
</table>

<p class="table_footnote">1 <a
href="http://developer.android.com/reference/android/view/MotionEvent.html">MotionEvent</a></p>

<h4 id="727_remote_control" data-text="7.2.7. Remote Control">7.2.7. Remote Control</h4>

<p>See <a href="#2_3_1_hardware">Section 2.3.1</a> for device-specific requirements.</p>

<h3 id="73_sensors" data-text="7.3. Sensors">7.3. Sensors</h3>

<p>If device implementations include a particular sensor type that has a
corresponding API for third-party developers, the device implementation
MUST implement that API as described in the Android SDK documentation and
the Android Open Source documentation on <a href="http://source.android.com/devices/sensors/">sensors</a>.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST accurately report the presence or absence of sensors per the
<a href="http://developer.android.com/reference/android/content/pm/PackageManager.html"><code translate="no" dir="ltr">android.content.pm.PackageManager</code></a>
class.</li>
<li>[C-0-2] MUST return an accurate list of supported sensors via the
<code translate="no" dir="ltr">SensorManager.getSensorList()</code> and similar methods.</li>
<li>[C-0-3] MUST behave reasonably for all other sensor APIs (for example, by
returning <code translate="no" dir="ltr">true</code> or <code translate="no" dir="ltr">false</code> as appropriate when applications attempt to register
listeners, not calling sensor listeners when the corresponding sensors are not
present; etc.).</li>
</ul>

<p>If device implementations include a particular sensor type that has a
corresponding API for third-party developers, they:</p>

<ul>
<li>[C-1-1] MUST <a href="http://developer.android.com/reference/android/hardware/SensorEvent.html">report all sensor measurements</a>
using the relevant International System of Units (metric) values for each
sensor type as defined in the Android SDK documentation.</li>
<li>[C-1-2] MUST report sensor data with a maximum latency of 100
milliseconds + 2 * sample_time for the case of a sensor stream with a
maximum requested latency of 0 ms when the application processor is active.
This delay does not include any filtering delays.</li>
<li>[C-1-3] MUST report the first sensor sample within 400 milliseconds + 2 *
sample_time of the sensor being activated. It is acceptable for this sample to
have an accuracy of 0.</li>
<li>[C-1-4] For any API indicated by the Android SDK documentation to be a
 <a href="https://source.android.com/devices/sensors/report-modes.html#continuous">continuous sensor</a>,
 device implementations MUST continuously provide
 periodic data samples that SHOULD have a jitter below 3%,
 where jitter is defined as the standard deviation of the difference of the
 reported timestamp values between consecutive events.</li>
<li>[C-1-5] MUST ensure that the sensor event stream
 MUST NOT prevent the device CPU from entering a suspend state or waking up
 from a suspend state.</li>
<li>[C-1-6] MUST <a href="http://developer.android.com/reference/android/hardware/SensorEvent.html#timestamp">report the event time</a>
in nanoseconds as defined in the Android SDK documentation, representing the
time the event happened and synchronized with the
SystemClock.elapsedRealtimeNano() clock.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to have timestamp synchronization error
below 100 milliseconds, and SHOULD have timestamp synchronization error below 1
millisecond.</li>
<li>When several sensors are activated, the power consumption SHOULD NOT exceed
 the sum of the individual sensor’s reported power consumption.</li>
</ul>

<p>The list above is not comprehensive; the documented behavior of the Android SDK
and the Android Open Source Documentations on
<a href="http://source.android.com/devices/sensors/">sensors</a> is to be considered
authoritative.</p>

<p>If device implementations include a particular sensor type that has a
corresponding API for third-party developers, they:</p>

<ul>
<li>[C-1-6] MUST set a non-zero resolution for all sensors, and report the value
via the <a href="https://developer.android.com/reference/android/hardware/Sensor#getResolution%28%29"><code translate="no" dir="ltr">Sensor.getResolution()</code></a>
API method.</li>
</ul>

<p>Some sensor types are composite, meaning they can be derived from data provided
by one or more other sensors. (Examples include the orientation sensor and the
linear acceleration sensor.)</p>

<p>Device implementations:</p>

<ul>
<li>SHOULD implement these sensor types, when they
include the prerequisite physical sensors as described
in <a href="https://source.android.com/devices/sensors/sensor-types.html">sensor types</a>.</li>
</ul>

<p>If device implementations include a composite sensor, they:</p>

<ul>
<li>[C-2-1] MUST implement the sensor as described in the Android Open Source
documentation on <a href="https://source.android.com/devices/sensors/sensor-types.html#composite_sensor_type_summary">composite sensors</a>.</li>
</ul>

<p>If device implementations include a particular sensor type that has a
corresponding API for third-party developers and the sensor only reports one
value, then device implementations:</p>

<ul>
<li>[C-3-1] MUST set the resolution to 1 for the sensor and report the value
via the <a href="https://developer.android.com/reference/android/hardware/Sensor#getResolution%28%29"><code translate="no" dir="ltr">Sensor.getResolution()</code></a>
API method.</li>
</ul>

<p>If device implementations include a particular sensor type which supports
<a href="https://developer.android.com/reference/android/hardware/SensorAdditionalInfo#TYPE_VEC3_CALIBRATION">SensorAdditionalInfo#TYPE_VEC3_CALIBRATION</a>
and the sensor is exposed to third-party developers, they:</p>

<ul>
<li>[C-4-1] MUST NOT include any fixed, factory-determined calibration
parameters in the data provided.</li>
</ul>

<p>If device implementations include a combination of 3-axis accelerometer, a
3-axis gyroscope sensor, or a magnetometer sensor, they are:</p>

<ul>
<li>[C-SR] STRONGLY RECOMMENDED to ensure the accelerometer, gyroscope and
magnetometer have a fixed relative position, such that if the device is
transformable (e.g. foldable), the sensor axes remain aligned and consistent
with the sensor coordinate system throughout all possible device
transformation states.</li>
</ul>

<h4 id="731_accelerometer" data-text="7.3.1. Accelerometer">7.3.1. Accelerometer</h4>

<p>Device implementations:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to include a 3-axis accelerometer.</li>
</ul>

<p>If device implementations include a 3-axis accelerometer, they:</p>

<ul>
<li>[C-1-1] MUST be able to report events up to a frequency of at least 50 Hz.</li>
<li>[C-1-2] MUST implement and report <a href="http://developer.android.com/reference/android/hardware/Sensor.html#TYPE_ACCELEROMETER"><code translate="no" dir="ltr">TYPE_ACCELEROMETER</code></a>
sensor.</li>
<li>[C-1-3] MUST comply with the <a href="http://developer.android.com/reference/android/hardware/SensorEvent.html">Android sensor coordinate system</a>
as detailed in the Android APIs.</li>
<li>[C-1-4] MUST be capable of measuring from freefall up to four times the
gravity(4g) or more on any axis.</li>
<li>[C-1-5] MUST have a resolution of at least 12-bits.</li>
<li>[C-1-6] MUST have a standard deviation no greater than 0.05 m/s^, where
the standard deviation should be calculated on a per axis basis on samples
collected over a period of at least 3 seconds at the fastest sampling rate.</li>
<li>[SR] are <strong>STRONGLY RECOMMENDED</strong> to implement the <code translate="no" dir="ltr">TYPE_SIGNIFICANT_MOTION</code>
composite sensor.</li>
<li>[SR] are STRONGLY RECOMMENDED to implement and report <a href="https://developer.android.com/reference/android/hardware/Sensor.html#STRING_TYPE_ACCELEROMETER_UNCALIBRATED"><code translate="no" dir="ltr">TYPE_ACCELEROMETER_UNCALIBRATED</code></a>
sensor. Android devices are STRONGLY RECOMMENDED to meet this requirement so
they will be able to upgrade to the future platform release where this might
become REQUIRED.</li>
<li>SHOULD implement the <code translate="no" dir="ltr">TYPE_SIGNIFICANT_MOTION</code>, <code translate="no" dir="ltr">TYPE_TILT_DETECTOR</code>,
<code translate="no" dir="ltr">TYPE_STEP_DETECTOR</code>, <code translate="no" dir="ltr">TYPE_STEP_COUNTER</code> composite sensors as described
in the Android SDK document.</li>
<li>SHOULD report events up to at least 200 Hz.</li>
<li>SHOULD have a resolution of at least 16-bits.</li>
<li>SHOULD be calibrated while in use if the characteristics changes over
the life cycle and compensated, and preserve the compensation parameters
between device reboots.</li>
<li>SHOULD be temperature compensated.</li>
</ul>

<p>If device implementations include a 3-axis accelerometer and any of the
<code translate="no" dir="ltr">TYPE_SIGNIFICANT_MOTION</code>, <code translate="no" dir="ltr">TYPE_TILT_DETECTOR</code>, <code translate="no" dir="ltr">TYPE_STEP_DETECTOR</code>,
<code translate="no" dir="ltr">TYPE_STEP_COUNTER</code> composite sensors are implemented:</p>

<ul>
<li>[C-2-1] The sum of their power consumption MUST always be less than 4 mW.</li>
<li>SHOULD each be below 2 mW and 0.5 mW for when the device is in a dynamic or
static condition.</li>
</ul>

<p>If device implementations include a 3-axis accelerometer and a 3-axis gyroscope sensor,
they:</p>

<ul>
<li>[C-3-1] MUST implement the <code translate="no" dir="ltr">TYPE_GRAVITY</code> and <code translate="no" dir="ltr">TYPE_LINEAR_ACCELERATION</code>
composite sensors.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to implement the <a href="https://developer.android.com/reference/android/hardware/Sensor.html#TYPE_GAME_ROTATION_VECTOR"><code translate="no" dir="ltr">TYPE_GAME_ROTATION_VECTOR</code></a>
composite sensor.</li>
</ul>

<p>If device implementations include a 3-axis accelerometer, a 3-axis gyroscope sensor,
and a magnetometer sensor, they:</p>

<ul>
<li>[C-4-1] MUST implement a <code translate="no" dir="ltr">TYPE_ROTATION_VECTOR</code> composite sensor.</li>
</ul>

<h4 id="732_magnetometer" data-text="7.3.2. Magnetometer">7.3.2. Magnetometer</h4>

<p>Device implementations:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to include a 3-axis magnetometer (compass).</li>
</ul>

<p>If device implementations include a 3-axis magnetometer, they:</p>

<ul>
<li>[C-1-1] MUST implement the <code translate="no" dir="ltr">TYPE_MAGNETIC_FIELD</code> sensor.</li>
<li>[C-1-2] MUST be able to report events up to a frequency of at least 10 Hz
and SHOULD report events up to at least 50 Hz.</li>
<li>[C-1-3] MUST comply with the <a href="http://developer.android.com/reference/android/hardware/SensorEvent.html">Android sensor coordinate system</a>
as detailed in the
Android APIs.</li>
<li>[C-1-4] MUST be capable of measuring between -900 µT and +900 µT on each
axis before saturating.</li>
<li>[C-1-5] MUST have a hard iron offset value less than 700 µT and SHOULD have
a value below 200 µT, by placing the magnetometer far from
dynamic (current-induced) and static (magnet-induced) magnetic fields.</li>
<li>[C-1-6] MUST have a resolution equal or denser than 0.6 µT.</li>
<li>[C-1-7] MUST support online calibration and compensation of the hard iron
bias, and preserve the compensation parameters between device reboots.</li>
<li>[C-1-8] MUST have the soft iron compensation applied—the calibration can be
done either while in use or during the production of the device.</li>
<li>[C-1-9] MUST have a standard deviation, calculated on a per axis basis on
samples collected over a period of at least 3 seconds at the fastest sampling
rate, no greater than 1.5 µT; SHOULD have a standard deviation no greater than
0.5 µT.</li>
<li>[C-1-10] MUST implement the
<a href="https://developer.android.com/reference/android/hardware/Sensor#STRING_TYPE_MAGNETIC_FIELD_UNCALIBRATED"><code translate="no" dir="ltr">TYPE_MAGNETIC_FIELD_UNCALIBRATED</code></a>
sensor.</li>
</ul>

<p>If device implementations include a 3-axis magnetometer, an accelerometer
sensor, and a 3-axis gyroscope sensor, they:</p>

<ul>
<li>[C-2-1] MUST implement a <code translate="no" dir="ltr">TYPE_ROTATION_VECTOR</code> composite sensor.</li>
</ul>

<p>If device implementations include a 3-axis magnetometer, an accelerometer, they:</p>

<ul>
<li>MAY implement the <code translate="no" dir="ltr">TYPE_GEOMAGNETIC_ROTATION_VECTOR</code> sensor.</li>
</ul>

<p>If device implementations include a 3-axis magnetometer, an accelerometer and
<code translate="no" dir="ltr">TYPE_GEOMAGNETIC_ROTATION_VECTOR</code> sensor, they:</p>

<ul>
<li>[C-3-1] MUST consume less than 10 mW.</li>
<li>SHOULD consume less than 3 mW when the sensor is registered for batch mode
at 10 Hz.</li>
</ul>

<h4 id="733_gps" data-text="7.3.3. GPS">7.3.3. GPS</h4>

<p>Device implementations:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to include a GPS/GNSS receiver.</li>
</ul>

<p>If device implementations include a GPS/GNSS receiver and report the capability
to applications through the <code translate="no" dir="ltr">android.hardware.location.gps</code> feature flag, they:</p>

<ul>
<li>[C-1-1] MUST support location outputs at a rate of at least 1 Hz when
requested via <code translate="no" dir="ltr">LocationManager#requestLocationUpdate</code>.</li>
<li>[C-1-2] MUST be able to determine the location in open-sky conditions
(strong signals, negligible multipath, HDOP &lt; 2) within 10 seconds (fast
time to first fix), when connected to a 0.5 Mbps or faster data speed
internet connection. This requirement is typically met by the use of some
form of Assisted or Predicted GPS/GNSS technique
to minimize GPS/GNSS lock-on time (Assistance data includes Reference Time,
Reference Location and Satellite Ephemeris/Clock).
<ul>
<li>[C-1-6] After making such a location calculation, device
 implementations MUST determine its location, in open sky, within
 5 seconds, when location requests are restarted, up to an hour after
 the initial location calculation, even when the subsequent request is
 made without a data connection, and/or after a power cycle.</li>
</ul></li>
<li><p>In open sky conditions after determining the location, while stationary or
moving with less than 1 meter per second squared of acceleration:</p>

<ul>
<li>[C-1-3] MUST be able to determine location within 20 meters, and speed
 within 0.5 meters per second, at least 95% of the time.</li>
<li>[C-1-4] MUST simultaneously track and report via
<a href="https://developer.android.com/reference/android/location/GnssStatus.Callback.html#GnssStatus.Callback()&#x27;"><code translate="no" dir="ltr">GnssStatus.Callback</code></a>
 at least 8 satellites from one constellation.</li>
<li>SHOULD be able to simultaneously track at least 24 satellites, from
multiple constellations (e.g. GPS + at least one of Glonass, Beidou,
Galileo).</li>
</ul></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to continue to deliver normal GPS/GNSS
location outputs through GNSS Location Provider API&#39;s during an emergency phone
call.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to report GNSS measurements from all
constellations tracked (as reported in GnssStatus messages), with the exception
of SBAS.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to report AGC, and Frequency of GNSS
measurement.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to report all accuracy estimates
(including Bearing, Speed, and Vertical) as part of each GPS/GNSS location.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to report GNSS measurements, as soon as
they are found, even if a location calculated from GPS/GNSS is not yet
reported.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to report GNSS pseudoranges and
pseudorange rates, that, in open-sky conditions after determining the location,
while stationary or moving with less than 0.2 meter per second squared of
acceleration, are sufficient to calculate position within 20 meters, and speed
within 0.2 meters per second, at least 95% of the time.</p></li>
</ul>

<h4 id="734_gyroscope" data-text="7.3.4. Gyroscope">7.3.4. Gyroscope</h4>

<p>Device implementations:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to include a gyroscope sensor.</li>
</ul>

<p>If device implementations include a 3-axis gyroscope, they:</p>

<ul>
<li>[C-1-1] MUST be able to report events up to a frequency of at least 50 Hz.</li>
<li>[C-1-2] MUST implement the <code translate="no" dir="ltr">TYPE_GYROSCOPE</code> sensor.</li>
<li>[C-1-4] MUST have a resolution of 12-bits or more.</li>
<li>[C-1-5] MUST be temperature compensated.</li>
<li>[C-1-6] MUST be calibrated and compensated while in use, and preserve the
compensation parameters between device reboots.</li>
<li>[C-1-7] MUST have a variance no greater than 1e-7 rad^2 / s^2 per Hz
(variance per Hz, or rad^2 / s). The variance is allowed to vary with the
sampling rate, but MUST be constrained by this value. In other words, if you
measure the variance of the gyro at 1 Hz sampling rate it SHOULD be no greater
than 1e-7 rad^2/s^2.</li>
<li>[C-SR] Calibration error is STRONGLY RECOMMENDED to be less than 0.01 rad/s
when device is stationary at room temperature.</li>
<li>[C-SR] Are Strongly Recommended to implement <a href="https://developer.android.com/reference/android/hardware/Sensor#STRING_TYPE_GYROSCOPE_UNCALIBRATED"><code translate="no" dir="ltr">TYPE_GYROSCOPE_UNCALIBRATED</code></a>
sensor.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to have a resolution of 16-bits or more.</li>
<li>SHOULD report events up to at least 200 Hz.</li>
</ul>

<p>If device implementations include a 3-axis gyroscope, an accelerometer sensor
and a magnetometer sensor, they:</p>

<ul>
<li>[C-2-1] MUST implement a <code translate="no" dir="ltr">TYPE_ROTATION_VECTOR</code> composite sensor.</li>
</ul>

<p>If device implementations include a 3-axis accelerometer and a 3-axis gyroscope
sensor, they:</p>

<ul>
<li>[C-3-1] MUST implement the <code translate="no" dir="ltr">TYPE_GRAVITY</code> and
<code translate="no" dir="ltr">TYPE_LINEAR_ACCELERATION</code> composite sensors.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to implement the
<a href="https://developer.android.com/reference/android/hardware/Sensor.html#TYPE_GAME_ROTATION_VECTOR"><code translate="no" dir="ltr">TYPE_GAME_ROTATION_VECTOR</code></a>
composite sensor.</li>
</ul>

<h4 id="735_barometer" data-text="7.3.5. Barometer">7.3.5. Barometer</h4>

<p>Device implementations:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to include a barometer (ambient air pressure
sensor).</li>
</ul>

<p>If device implementations include a barometer, they:</p>

<ul>
<li>[C-1-1] MUST implement and report <code translate="no" dir="ltr">TYPE_PRESSURE</code> sensor.</li>
<li>[C-1-2] MUST be able to deliver events at 5 Hz or greater.</li>
<li>[C-1-3] MUST be temperature compensated.</li>
<li>[SR] STRONGLY RECOMMENDED to be able to report pressure measurements in the
range 300hPa to 1100hPa.</li>
<li>SHOULD have an absolute accuracy of 1hPa.</li>
<li>SHOULD have a relative accuracy of 0.12hPa over 20hPa range
(equivalent to ~1m accuracy over ~200m change at sea level).</li>
</ul>

<h4 id="736_thermometer" data-text="7.3.6. Thermometer">7.3.6. Thermometer</h4>

<p>If device implementations include an ambient thermometer (temperature sensor),
they:</p>

<ul>
<li>[C-1-1] MUST define <a href="https://developer.android.com/reference/android/hardware/Sensor#TYPE_AMBIENT_TEMPERATURE"><code translate="no" dir="ltr">SENSOR_TYPE_AMBIENT_TEMPERATURE</code></a>
for the ambient temperature sensor and the sensor MUST measure the ambient
(room/vehicle cabin) temperature from where the user is interacting with the
device in degrees Celsius.</li>
</ul>

<p>If device implementations include a thermometer sensor that measures a
temperature other than ambient temperature, such as CPU temperature, they:</p>

<ul>
<li>[C-2-1] MUST NOT define <a href="https://developer.android.com/reference/android/hardware/Sensor#TYPE_AMBIENT_TEMPERATURE"><code translate="no" dir="ltr">SENSOR_TYPE_AMBIENT_TEMPERATURE</code></a>
for the temperature sensor.</li>
</ul>

<p>If device implementations include a sensor for monitoring skin temperature,
then they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to support the
[PowerManager.getThermalHeadroom](
https://developer.android.com/reference/android/os/PowerManager#getThermalHeadroom(int))
API.</li>
</ul>

<h4 id="737_photometer" data-text="7.3.7. Photometer">7.3.7. Photometer</h4>

<ul>
<li>Device implementations MAY include a photometer (ambient light sensor).</li>
</ul>

<h4 id="738_proximity_sensor" data-text="7.3.8. Proximity Sensor">7.3.8. Proximity Sensor</h4>

<ul>
<li>Device implementations MAY include a proximity sensor.</li>
</ul>

<p>If device implementations include a proximity sensor and they report only a
binary “near” or “far” reading, they:</p>

<ul>
<li>[C-1-1] MUST measure the proximity of an object in the same direction as the
screen. That is, the proximity sensor MUST be oriented to detect objects
close to the screen, as the primary intent of this sensor type is to
detect a phone in use by the user. If device implementations include a
proximity sensor with any other orientation, it MUST NOT be accessible
through this API.</li>
<li>[C-1-2] MUST have 1-bit of accuracy or more.</li>
<li>[C-1-3] MUST use 0 centimeters as the near reading and 5 centimeters as the
far reading.</li>
<li>[C-1-4] MUST report a maximum range and resolution of 5.</li>
</ul>

<h4 id="739_high_fidelity_sensors" data-text="7.3.9. High Fidelity Sensors">7.3.9. High Fidelity Sensors</h4>

<p>If device implementations include a set of higher quality sensors as defined
in this section, and make available them to third-party apps, they:</p>

<ul>
<li>[C-1-1] MUST identify the capability through the
<code translate="no" dir="ltr">android.hardware.sensor.hifi_sensors</code> feature flag.</li>
</ul>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.sensor.hifi_sensors</code>,
they:</p>

<ul>
<li><p>[C-2-1] MUST have a <code translate="no" dir="ltr">TYPE_ACCELEROMETER</code> sensor which:</p>

<ul>
<li>MUST have a measurement range between at least -8g and +8g, and is
STRONGLY RECOMMENDED to have a measurement range between at least -16g
and +16g.</li>
<li>MUST have a measurement resolution of at least 2048 LSB/g.</li>
<li>MUST have a minimum measurement frequency of 12.5 Hz or lower.</li>
<li>MUST have a maximum measurement frequency of 400 Hz or higher; SHOULD
support the SensorDirectChannel <a href="https://developer.android.com/reference/android/hardware/SensorDirectChannel.html#RATE_VERY_FAST"><code translate="no" dir="ltr">RATE_VERY_FAST</code></a>.</li>
<li>MUST have a measurement noise not above 400 μg/√Hz.</li>
<li>MUST implement a non-wake-up form of this sensor with a buffering
capability of at least 3000 sensor events.</li>
<li>MUST have a batching power consumption not worse than 3 mW.</li>
<li>[C-SR] Is STRONGLY RECOMMENDED to have 3dB measurement bandwidth of at
least 80% of Nyquist frequency, and white noise spectrum within this
bandwidth.</li>
<li>SHOULD have an acceleration random walk less than 30 μg √Hz tested at
room temperature.</li>
<li>SHOULD have a bias change vs. temperature of ≤ +/- 1 mg/°C.</li>
<li>SHOULD have a best-fit line non-linearity of ≤ 0.5%, and sensitivity change vs. temperature of ≤
0.03%/C°.</li>
<li>SHOULD have cross-axis sensitivity of &lt; 2.5 % and variation of
cross-axis sensitivity &lt; 0.2% in device operation temperature range.</li>
</ul></li>
<li><p>[C-2-2] MUST have a <code translate="no" dir="ltr">TYPE_ACCELEROMETER_UNCALIBRATED</code> with the same
quality requirements as <code translate="no" dir="ltr">TYPE_ACCELEROMETER</code>.</p></li>
<li><p>[C-2-3] MUST have a <code translate="no" dir="ltr">TYPE_GYROSCOPE</code> sensor which:</p>

<ul>
<li>MUST have a measurement range between at least -1000 and +1000 dps.</li>
<li>MUST have a measurement resolution of at least 16 LSB/dps.</li>
<li>MUST have a minimum measurement frequency of 12.5 Hz or lower.</li>
<li>MUST have a maximum measurement frequency of 400 Hz or higher; SHOULD
support the SensorDirectChannel <a href="https://developer.android.com/reference/android/hardware/SensorDirectChannel.html#RATE_VERY_FAST"><code translate="no" dir="ltr">RATE_VERY_FAST</code></a>.</li>
<li>MUST have a measurement noise not above 0.014°/s/√Hz.</li>
<li>[C-SR] Is STRONGLY RECOMMENDED to have 3dB measurement bandwidth of at
least 80% of Nyquist frequency, and white noise spectrum within this
bandwidth.</li>
<li>SHOULD have a rate random walk less than 0.001 °/s √Hz tested at room
temperature.</li>
<li>SHOULD have a bias change vs. temperature of ≤ +/- 0.05 °/ s / °C.</li>
<li>SHOULD have a sensitivity change vs. temperature of ≤ 0.02% / °C.</li>
<li>SHOULD have a best-fit line non-linearity of ≤ 0.2%.</li>
<li>SHOULD have a noise density of ≤ 0.007 °/s/√Hz.</li>
<li>SHOULD have calibration error less than 0.002 rad/s in
temperature range 10 ~ 40 ℃ when device is stationary.</li>
<li>SHOULD have g-sensitivity less than 0.1°/s/g.</li>
<li>SHOULD have cross-axis sensitivity of &lt; 4.0 % and cross-axis sensitivity
variation &lt; 0.3% in device operation temperature range.</li>
</ul></li>
<li><p>[C-2-4] MUST have a <code translate="no" dir="ltr">TYPE_GYROSCOPE_UNCALIBRATED</code> with the same quality
requirements as <code translate="no" dir="ltr">TYPE_GYROSCOPE</code>.</p></li>
<li><p>[C-2-5] MUST have a <code translate="no" dir="ltr">TYPE_GEOMAGNETIC_FIELD</code> sensor which:</p>

<ul>
<li>MUST have a measurement range between at least -900 and +900 μT.</li>
<li>MUST have a measurement resolution of at least 5 LSB/uT.</li>
<li>MUST have a minimum measurement frequency of 5 Hz or lower.</li>
<li>MUST have a maximum measurement frequency of 50 Hz or higher.</li>
<li>MUST have a measurement noise not above 0.5 uT.</li>
</ul></li>
<li><p>[C-2-6] MUST have a <code translate="no" dir="ltr">TYPE_MAGNETIC_FIELD_UNCALIBRATED</code> with the same quality
requirements as <code translate="no" dir="ltr">TYPE_GEOMAGNETIC_FIELD</code> and in addition:</p>

<ul>
<li>MUST implement a non-wake-up form of this sensor with a buffering
capability of at least 600 sensor events.</li>
<li>[C-SR] Is STRONGLY RECOMMENDED to have white noise spectrum from 1 Hz to
at least 10 Hz when the report rate is 50 Hz or higher.</li>
</ul></li>
<li><p>[C-2-7] MUST have a <code translate="no" dir="ltr">TYPE_PRESSURE</code> sensor which:</p>

<ul>
<li>MUST have a measurement range between at least 300 and 1100 hPa.</li>
<li>MUST have a measurement resolution of at least 80 LSB/hPa.</li>
<li>MUST have a minimum measurement frequency of 1 Hz or lower.</li>
<li>MUST have a maximum measurement frequency of 10 Hz or higher.</li>
<li>MUST have a measurement noise not above 2 Pa/√Hz.</li>
<li>MUST implement a non-wake-up form of this sensor with a buffering
capability of at least 300 sensor events.</li>
<li>MUST have a batching power consumption not worse than 2 mW.</li>
</ul></li>
<li><p>[C-2-8] MUST have a <code translate="no" dir="ltr">TYPE_GAME_ROTATION_VECTOR</code> sensor.</p></li>
<li><p>[C-2-9] MUST have a <code translate="no" dir="ltr">TYPE_SIGNIFICANT_MOTION</code> sensor which:</p>

<ul>
<li>MUST have a power consumption not worse than 0.5 mW when device is
static and 1.5 mW when device is moving.</li>
</ul></li>
<li><p>[C-2-10] MUST have a <code translate="no" dir="ltr">TYPE_STEP_DETECTOR</code> sensor which:</p>

<ul>
<li>MUST implement a non-wake-up form of this sensor with a buffering
capability of at least 100 sensor events.</li>
<li>MUST have a power consumption not worse than 0.5 mW when device is
static and 1.5 mW when device is moving.</li>
<li>MUST have a batching power consumption not worse than 4 mW.</li>
</ul></li>
<li><p>[C-2-11] MUST have a <code translate="no" dir="ltr">TYPE_STEP_COUNTER</code> sensor which:</p>

<ul>
<li>MUST have a power consumption not worse than 0.5 mW when device is
static and 1.5 mW when device is moving.</li>
</ul></li>
<li><p>[C-2-12] MUST have a <code translate="no" dir="ltr">TILT_DETECTOR</code> sensor which:</p>

<ul>
<li>MUST have a power consumption not worse than 0.5 mW when device is
static and 1.5 mW when device is moving.</li>
</ul></li>
<li><p>[C-2-13] The event timestamp of the same physical event reported by the
Accelerometer, Gyroscope, and Magnetometer MUST be within 2.5 milliseconds
of each other. The event timestamp of the same physical event reported by
the Accelerometer and Gyroscope SHOULD be within 0.25 milliseconds of each
other.</p></li>
<li><p>[C-2-14] MUST have Gyroscope sensor event timestamps on the same time
base as the camera subsystem and within 1 milliseconds of error.</p></li>
<li><p>[C-2-15] MUST deliver samples to applications within 5 milliseconds from
the time when the data is available on any of the above physical sensors
to the application.</p></li>
<li><p>[C-2-16] MUST NOT have a power consumption higher than 0.5 mW
when device is static and 2.0 mW when device is moving
when any combination of the following sensors are enabled:</p>

<ul>
<li><code translate="no" dir="ltr">SENSOR_TYPE_SIGNIFICANT_MOTION</code></li>
<li><code translate="no" dir="ltr">SENSOR_TYPE_STEP_DETECTOR</code></li>
<li><code translate="no" dir="ltr">SENSOR_TYPE_STEP_COUNTER</code></li>
<li><code translate="no" dir="ltr">SENSOR_TILT_DETECTORS</code></li>
</ul></li>
<li><p>[C-2-17] MAY have a <code translate="no" dir="ltr">TYPE_PROXIMITY</code> sensor, but if present MUST have
a minimum buffer capability of 100 sensor events.</p></li>
</ul>

<p>Note that all power consumption requirements in this section do not include the
power consumption of the Application Processor. It is inclusive of the power
drawn by the entire sensor chain—the sensor, any supporting circuitry, any
dedicated sensor processing system, etc.</p>

<p>If device implementations include direct sensor support, they:</p>

<ul>
<li>[C-3-1] MUST correctly declare support of direct channel types and direct
report rates level through the <a href="https://developer.android.com/reference/android/hardware/Sensor.html#isDirectChannelTypeSupported%28int%29"><code translate="no" dir="ltr">isDirectChannelTypeSupported</code></a>
and <a href="https://developer.android.com/reference/android/hardware/Sensor.html#getHighestDirectReportRateLevel%28%29"><code translate="no" dir="ltr">getHighestDirectReportRateLevel</code></a>
API.</li>
<li>[C-3-2] MUST support at least one of the two sensor direct channel types
for all sensors that declare support for sensor direct channel.
<ul>
<li><a href="https://developer.android.com/reference/android/hardware/SensorDirectChannel.html#TYPE_HARDWARE_BUFFER"><code translate="no" dir="ltr">TYPE_HARDWARE_BUFFER</code></a></li>
<li><a href="https://developer.android.com/reference/android/hardware/SensorDirectChannel.html#TYPE_MEMORY_FILE"><code translate="no" dir="ltr">TYPE_MEMORY_FILE</code></a></li>
</ul></li>
<li>SHOULD support event reporting through sensor direct channel for primary
sensor (non-wakeup variant) of the following types:
<ul>
<li><code translate="no" dir="ltr">TYPE_ACCELEROMETER</code></li>
<li><code translate="no" dir="ltr">TYPE_ACCELEROMETER_UNCALIBRATED</code></li>
<li><code translate="no" dir="ltr">TYPE_GYROSCOPE</code></li>
<li><code translate="no" dir="ltr">TYPE_GYROSCOPE_UNCALIBRATED</code></li>
<li><code translate="no" dir="ltr">TYPE_MAGNETIC_FIELD</code></li>
<li><code translate="no" dir="ltr">TYPE_MAGNETIC_FIELD_UNCALIBRATED</code></li>
</ul></li>
</ul>

<h4 id="7310_biometric_sensors" data-text="7.3.10. Biometric Sensors">7.3.10. Biometric Sensors</h4>

<p>For additional background on Measuring Biometric Unlock Security, please see
<a href="https://source.android.com/security/biometric/measure">Measuring Biometric Security documentation</a>.</p>

<p>If device implementations include a secure lock screen, they:</p>

<ul>
<li>SHOULD include a biometric sensor</li>
</ul>

<p>Biometric sensors can be classified as <strong>Class 3</strong> (formerly <strong>Strong</strong>),
<strong>Class 2</strong> (formerly <strong>Weak</strong>), or <strong>Class 1</strong> (formerly <strong>Convenience</strong>)
based on their spoof and imposter acceptance rates, and on the security of the
biometric pipeline. This classification determines the capabilities the
biometric sensor has to interface with the platform and with third-party
applications. Sensors are classified as <strong>Class 1</strong> by default, and need
to meet additional requirements as detailed below if they wish to be classified
as either <strong>Class 2</strong> or <strong>Class 3</strong>. Both <strong>Class 2</strong> and <strong>Class 3</strong>
biometrics get additional capabilities as detailed below.</p>

<p>If device implementations make a biometric sensor available to third-party
applications via <a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricManager">android.hardware.biometrics.BiometricManager</a>,
<a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricPrompt">android.hardware.biometrics.BiometricPrompt</a>,
and <a href="https://developer.android.com/reference/android/provider/Settings#ACTION_BIOMETRIC_ENROLL">android.provider.Settings.ACTION_BIOMETRIC_ENROLL</a>,
they:</p>

<ul>
<li>[C-4-1] MUST meet the requirements for <strong>Class 3</strong> or <strong>Class 2</strong> biometric
as defined in this document.</li>
<li>[C-4-2] MUST recognize and honor each parameter name defined as a constant
in the <a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricManager.Authenticators">Authenticators</a>
class and any combinations thereof.
Conversely, MUST NOT honor or recognize integer constants passed to the
<a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricManager#canAuthenticate%28int%29">canAuthenticate(int)</a>
and <a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricPrompt.Builder#setAllowedAuthenticators%28int%29">setAllowedAuthenticators(int)</a>
methods other than those documented as public constants in
<a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricManager.Authenticators">Authenticators</a>
and any combinations thereof.</li>
<li>[C-4-3] MUST implement the <a href="https://developer.android.com/reference/android/provider/Settings#ACTION_BIOMETRIC_ENROLL">ACTION_BIOMETRIC_ENROLL</a>
action on devices that have either <strong>Class 3</strong> or <strong>Class 2</strong> biometrics.
This action MUST only present the enrollment entry points for <strong>Class 3</strong>
or <strong>Class 2</strong> biometrics.</li>
</ul>

<p>If device implementations support passive biometrics, they:</p>

<ul>
<li>[C-5-1] MUST by default require an additional confirmation step
(e.g. a button press).</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to have a setting to allow users to
override application preference and always require accompanying
confirmation step.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to have the confirm action be secured
such that an operating system or kernel compromise cannot spoof it.
For example, this means that the confirm action based on a physical button
is routed through an input-only general-purpose input/output (GPIO) pin of
a secure element (SE) that cannot be driven by any other means than a
physical button press.</li>
<li>[C-5-2] MUST additionally implement an implicit authentication flow
(without confirmation step) corresponding to
<a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricPrompt.Builder#setConfirmationRequired%28boolean%29">setConfirmationRequired(boolean)</a>,
which applications can set to utilize for sign-in flows.</li>
</ul>

<p>If device implementations have multiple biometric sensors, they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to require only one biometric be confirmed
per authentication (e.g. if both fingerprint and face sensors are available
on the device, <a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricPrompt.AuthenticationCallback.html#onAuthenticationSucceeded%28android.hardware.biometrics.BiometricPrompt.AuthenticationResult%29">onAuthenticationSucceeded</a>
should be sent after any one of them is confirmed).</li>
</ul>

<p>In order for device implementations to allow access to keystore keys to
third-party applications, they:</p>

<ul>
<li>[C-6-1] MUST meet the requirements for <strong>Class 3</strong> as defined in this
section below.</li>
<li>[C-6-2] MUST present only <strong>Class 3</strong> biometrics when the authentication
requires <a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricManager.Authenticators#BIOMETRIC_STRONG">BIOMETRIC_STRONG</a>,
or the authentication is invoked with a <a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricPrompt.CryptoObject">CryptoObject</a>.</li>
</ul>

<p>If device implementations wish to treat a biometric sensor as <strong>Class 1</strong>
(formerly <strong>Convenience</strong>), they:</p>

<ul>
<li>[C-1-1] MUST have a false acceptance rate less than 0.002%.</li>
<li>[C-1-2] MUST disclose that this mode may be less secure than a strong PIN,
pattern, or password and clearly enumerate the risks of enabling it, if the
spoof and imposter acceptance rates are higher than 7% as measured by the
<a href="https://source.android.com/security/biometric/measure">Android Biometrics Test Protocols</a>.</li>
<li>[C-1-9] MUST challenge the user for the recommended primary authentication
(e.g. PIN, pattern, password) after no more than twenty false trials and no
less than ninety-second backoff time for biometric verification - where a
false trial is one with an adequate capture quality
(BIOMETRIC_ACQUIRED_GOOD) that does not match an enrolled biometric.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to lower the total number of false trials
for biometric verification specified in [C-1-9] if the spoof and imposter
acceptance rates are higher than 7% as measure by the Android Biometrics
Test Protocols.</li>
<li>[C-1-3] MUST rate limit attempts for biometric verification - where a
false trial is one with an adequate capture quality
(<a href="https://developer.android.com/reference/android/hardware/biometrics/BiometricPrompt.html#BIOMETRIC_ACQUIRED_GOOD"><code translate="no" dir="ltr">BIOMETRIC_ACQUIRED_GOOD</code></a>)
that does not match an enrolled biometric.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to rate limit attempts for at least
30 seconds after five false trials for biometric verification for the
maximum number of false trials per [C-1-9] - where a false trial is one with
an adequate capture quality (BIOMETRIC_ACQUIRED_GOOD) that does not match an
enrolled biometric.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to have all rate limiting logic in TEE.</li>
<li>[C-1-10] MUST disable biometrics once primary authentication backoff has
first triggered as described in [C-0-2] of section 9.11.</li>
<li>[C-1-4] MUST prevent adding new biometrics without first establishing a
chain of trust by having the user confirm existing or add a new device
credential (PIN/pattern/password) that&#39;s secured by TEE; the Android Open
Source Project implementation provides the mechanism in the framework to do
so.</li>
<li>[C-1-5] MUST completely remove all identifiable biometric data for a user
when the user&#39;s account is removed (including via a factory reset).</li>
<li>[C-1-6] MUST honor the individual flag for that biometric (i.e.
<a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#KEYGUARD_DISABLE_FINGERPRINT"><code translate="no" dir="ltr">DevicePolicyManager.KEYGUARD_DISABLE_FINGERPRINT</code></a>,
<a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#KEYGUARD_DISABLE_FACE"><code translate="no" dir="ltr">DevicePolicymanager.KEYGUARD_DISABLE_FACE</code></a>
, or
<a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#KEYGUARD_DISABLE_IRIS"><code translate="no" dir="ltr">DevicePolicymanager.KEYGUARD_DISABLE_IRIS</code></a>
).</li>
<li>[C-1-7] MUST challenge the user for the recommended primary
authentication (e.g. PIN, pattern, password) once every 24 hours
or less for new devices launching with Android version 10, once every
72 hours or less for devices upgrading from earlier Android version.</li>
<li><p>[C-1-8] MUST challenge the user for the recommended primary
authentication (eg: PIN, pattern, password) or Class 3 (STRONG) biometric
after one of the following:</p>

<ul>
<li>a 4-hour idle timeout period, OR</li>
<li>3 failed biometric authentication attempts.</li>
<li>The idle timeout period and the failed authentication count is reset
  after any successful confirmation of the device credentials.</li>
</ul>

<p>Upgrading devices from an earlier Android version can be exempted from
C-1-8.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to use the logic in the framework provided
by the Android Open Source Project to enforce constraints specified in
[C-1-7] and [C-1-8] for new devices.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to have a false rejection rate of less than
10%, as measured on the device.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to have a latency below 1 second, measured
from when the biometric is detected, until the screen is unlocked, for each
enrolled biometric.</p></li>
</ul>

<p>If device implementations wish to treat a biometric sensor as <strong>Class 2</strong>
(formerly <strong>Weak</strong>), they:</p>

<ul>
<li>[C-2-1] MUST meet all requirements for <strong>Class 1</strong> above.</li>
<li>[C-2-2] MUST have a spoof and imposter acceptance rate not higher than 20%
as measured by the <a href="https://source.android.com/security/biometric/measure">Android Biometrics Test Protocols</a>.</li>
<li>[C-2-3] MUST perform the
biometric matching in an isolated execution environment outside Android
user or kernel space, such as the Trusted Execution Environment (TEE), or
on a chip with a secure channel to the isolated execution environment.</li>
<li>[C-2-4] MUST have all identifiable data encrypted and cryptographically
authenticated such that they cannot be acquired, read or altered outside of
the isolated execution environment or a chip with a secure channel to the
isolated execution environment as documented in the <a href="https://source.android.com/security/biometric#hal-implementation">implementation
guidelines</a>
on the Android Open Source Project site.</li>
<li>[C-2-5] For camera based biometrics, while biometric based authentication
or enrollment is happening:
<ul>
<li>MUST operate the camera in a mode that prevents camera frames from
being read or altered outside the isolated execution environment or a chip
with a secure channel to the isolated execution environment.</li>
<li>For RGB single-camera solutions, the camera frames CAN be
readable outside the isolated execution environment to support operations
such as preview for enrollment, but MUST still NOT be alterable.</li>
</ul></li>
<li>[C-2-6] MUST NOT enable third-party applications to distinguish between
individual biometric enrollments.</li>
<li>[C-2-7] MUST NOT allow unencrypted access to identifiable
biometric data or any data derived from it (such as embeddings) to
the Application Processor outside the context of the TEE.</li>
<li><p>[C-2-8] MUST have a secure processing pipeline such that an operating
system or kernel compromise cannot allow data to be directly injected to
falsely authenticate as the user.</p>

<p>If device implementations are already launched on an earlier Android
version and cannot meet the requirement C-2-8 through a system software
update, they MAY be exempted from the requirement.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to include liveness detection for all
biometric modalities and attention detection for Face biometrics.</p></li>
<li><p>[C-2-9] MUST make the biometric sensor available to third-party
applications.</p></li>
</ul>

<p>If device implementations wish to treat a biometric sensor as <strong>Class 3</strong>
(formerly <strong>Strong</strong>), they:</p>

<ul>
<li>[C-3-1] MUST meet all the requirements of <strong>Class 2</strong> above, except for
[C-1-7] and [C-1-8]. Upgrading devices from an earlier Android version
are not exempted from C-2-7.</li>
<li>[C-3-2] MUST have a hardware-backed keystore implementation.</li>
<li>[C-3-3] MUST have a spoof and imposter acceptance rate not higher than 7%
as measured by the <a href="https://source.android.com/security/biometric/measure">Android Biometrics Test Protocols</a>.</li>
<li>[C-3-4] MUST challenge the user for the recommended primary
authentication (e.g. PIN, pattern, password) once every 72 hours
or less.</li>
<li>[C-3-5] MUST re-generate <a href="https://source.android.com/security/authentication#authtoken_format">Authenticator ID</a>
for all Class 3 biometrics supported on device if any of them is
re-enrolled.</li>
<li>[C-3-6] Must enable biometric-backed keystore keys to third-party
applications.</li>
</ul>

<p>If device implementations contain an under-display fingerprint sensor (UDFPS),
they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to prevent the touchable area of the UDFPS
from interfering with 3-button navigation( which some users might require for
accessibility purposes).</li>
</ul>

<h4 id="7312_pose_sensor" data-text="7.3.12. Pose Sensor">7.3.12. Pose Sensor</h4>

<p>Device implementations:</p>

<ul>
<li>MAY support pose sensor with 6 degrees of freedom.</li>
</ul>

<p>If device implementations support pose sensor with 6 degrees of freedom, they:</p>

<ul>
<li>[C-1-1] MUST implement and report <a href="https://developer.android.com/reference/android/hardware/Sensor.html#TYPE_POSE_6DOF"><code translate="no" dir="ltr">TYPE_POSE_6DOF</code></a>
sensor.</li>
<li>[C-1-2] MUST be more accurate than the rotation vector alone.</li>
</ul>

<h4 id="7313_hinge_angle_sensor" data-text="7.3.13. Hinge Angle Sensor">7.3.13. Hinge Angle Sensor</h4>

<p>If device implementations support a hinge angle sensor, they:</p>

<ul>
<li>[C-1-1] MUST implement and report <a href="https://developer.android.com/reference/android/hardware/Sensor#STRING_TYPE_HINGE_ANGLE"><code translate="no" dir="ltr">TYPE_HINGLE_ANGLE</code></a>.</li>
<li>[C-1-2] MUST support at least two readings between 0 and 360 degrees
(inclusive i.e including 0 and 360 degrees).</li>
<li>[C-1-3] MUST return a <a href="https://developer.android.com/reference/android/hardware/Sensor.html#isWakeUpSensor%28%29">wakeup</a>
sensor for <a href="https://developer.android.com/reference/android/hardware/SensorManager#getDefaultSensor%28int%29"><code translate="no" dir="ltr">getDefaultSensor(SENSOR_TYPE_HINGE_ANGLE)</code></a>.</li>
</ul>

<h3 id="74_data_connectivity" data-text="7.4. Data Connectivity">7.4. Data Connectivity</h3>

<h4 id="741_telephony" data-text="7.4.1. Telephony">7.4.1. Telephony</h4>

<p>“Telephony” as used by the Android APIs and this document refers specifically
to hardware related to placing voice calls and sending SMS messages via a GSM
or CDMA network. While these voice calls may or may not be packet-switched,
they are for the purposes of Android considered independent of any data
connectivity that may be implemented using the same network. In other words,
the Android “telephony” functionality and APIs refer specifically to voice
calls and SMS. For instance, device implementations that cannot place calls or
send/receive SMS messages are not considered a telephony device, regardless of
whether they use a cellular network for data connectivity.</p>

<ul>
<li>Android MAY be used on devices that do not include telephony hardware. That
is, Android is compatible with devices that are not phones.</li>
</ul>

<p>If device implementations include GSM or CDMA telephony, they:</p>

<ul>
<li>[C-1-1] MUST declare the <code translate="no" dir="ltr">android.hardware.telephony</code> feature flag and
other sub-feature flags according to the technology.</li>
<li>[C-1-2] MUST implement full support for the API for that technology.</li>
<li>SHOULD allow all available cellular service types (2G, 3G, 4G, 5G, etc.)
during emergency calls (regardless of the network types set by
<code translate="no" dir="ltr">SetAllowedNetworkTypeBitmap()</code>).</li>
</ul>

<p>If device implementations do not include telephony hardware, they:</p>

<ul>
<li>[C-2-1] MUST implement the full APIs as no-ops.</li>
</ul>

<p>If device implementations support eUICCs or eSIMs/embedded SIMs and include
a proprietary mechanism to make eSIM functionality available for third-party
developers, they:</p>

<ul>
<li>[C-3-1] MUST provide a complete implementation of the <a href="https://developer.android.com/reference/android/telephony/euicc/EuiccManager"><code translate="no" dir="ltr">EuiccManager API</code></a>.</li>
</ul>

<p>If device implementations don’t set the system property
 <code translate="no" dir="ltr">ro.telephony.iwlan_operation_mode</code> to ‘legacy’, then they:</p>

<ul>
<li>[C-4-1] MUST NOT report ‘<a href="https://cs.android.com/android/platform/superproject/+/master:frameworks/base/telephony/java/android/telephony/TelephonyManager.java;l=2820?q=telephonymanager.java&amp;ss=android%2Fplatform%2Fsuperproject">NETWORK_TYPE_IWLAN</a>’
 via <a href="https://cs.android.com/android/platform/superproject/+/master:frameworks/base/telephony/java/android/telephony/NetworkRegistrationInfo.java;l=478?q=networkregistrationinfo&amp;ss=android%2Fplatform%2Fsuperproject">NetworkRegistrationInfo#getAccessNetworkTechnology()</a>
 when <a href="https://cs.android.com/android/platform/superproject/+/master:frameworks/base/telephony/java/android/telephony/NetworkRegistrationInfo.java;l=363?q=networkregistrationinfo&amp;ss=android%2Fplatform%2Fsuperproject">NetworkRegistrationInfo#getTransportType()</a>
 is reported as ‘<a href="https://cs.android.com/android/platform/superproject/+/master:frameworks/base/telephony/java/android/telephony/NetworkRegistrationInfo.java;l=363?q=networkregistrationinfo&amp;ss=android%2Fplatform%2Fsuperproject">TRANSPORT_TYPE_WWAN</a>’ for the same NetworkRegistrationInfo instance.</li>
</ul>

<p>If device implementations support a single IP Multimedia Subsystem (IMS)
registration for both multimedia telephony service (MMTEL) and
rich communication service (RCS) features and are expected to comply
with cellular carrier requirements regarding using a single
IMS registration for all IMS signalling traffic, they:</p>

<ul>
<li>[C-5-1] MUST declare the <a href="https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_TELEPHONY_IMS"><code translate="no" dir="ltr">android.hardware.telephony.ims</code></a>
feature flag and provide a complete implementation of the
ImsService API for both MMTEL and RCS <a href="https://android.googlesource.com/platform/frameworks/base/+/master/telephony/java/android/telephony/ims/stub/RcsCapabilityExchangeImplBase.java">User Capability Exchange API</a>.</li>
<li>[C-5-2] MUST declare the <a href="https://android-review.googlesource.com/c/platform/frameworks/base/+/1564832"><code translate="no" dir="ltr">android.hardware.telephony.ims.singlereg</code></a>
feature flag and provide a complete implementation of the <a href="https://android.googlesource.com/platform/frameworks/base/+/master/telephony/java/android/telephony/ims/stub/SipTransportImplBase.java">SipTransport API</a>,
the <a href="https://android.googlesource.com/platform/frameworks/base/+/master/telephony/java/android/telephony/gba/GbaService.java">GbaService API</a>,
dedicated bearer indications using the IRadio 1.6 HAL, and provisioning
via Auto Configuration Server (ACS) or other proprietary provisioning
mechanism using the <a href="https://android.googlesource.com/platform/frameworks/base/+/master/telephony/java/android/telephony/ims/stub/ImsConfigImplBase.java">IMS Configuration API</a>.</li>
</ul>

<h5 id="7411_number_blocking_compatibility" data-text="7.4.1.1. Number Blocking Compatibility">7.4.1.1. Number Blocking Compatibility</h5>

<p>If device implementations report the <code translate="no" dir="ltr">android.hardware.telephony feature</code>, they:</p>

<ul>
<li>[C-1-1] MUST include number blocking support</li>
<li>[C-1-2] MUST fully implement <a href="http://developer.android.com/reference/android/provider/BlockedNumberContract.html"><code translate="no" dir="ltr">BlockedNumberContract</code></a>
and the corresponding API as described in the SDK documentation.</li>
<li>[C-1-3] MUST block all calls and messages from a phone number in
&#39;BlockedNumberProvider&#39; without any interaction with apps. The only exception
is when number blocking is temporarily lifted as described in the SDK
documentation.</li>
<li>[C-1-4] MUST NOT write to the <a href="http://developer.android.com/reference/android/provider/CallLog.html">platform call log provider</a>
for a blocked call.</li>
<li>[C-1-5] MUST NOT write to the <a href="http://developer.android.com/reference/android/provider/Telephony.html">Telephony provider</a>
for a blocked message.</li>
<li>[C-1-6] MUST implement a blocked numbers management UI, which is opened
with the intent returned by <code translate="no" dir="ltr">TelecomManager.createManageBlockedNumbersIntent()</code>
method.</li>
<li>[C-1-7] MUST NOT allow secondary users to view or edit the blocked numbers
on the device as the Android platform assumes the primary user to have full
control of the telephony services, a single instance, on the device. All
blocking related UI MUST be hidden for secondary users and the blocked list MUST
still be respected.</li>
<li>SHOULD migrate the blocked numbers into the provider when a device updates
to Android 7.0.</li>
</ul>

<h5 id="7412_telecom_api" data-text="7.4.1.2. Telecom API">7.4.1.2. Telecom API</h5>

<p>If device implementations report <code translate="no" dir="ltr">android.hardware.telephony</code>, they:</p>

<ul>
<li>[C-1-1] MUST support the <code translate="no" dir="ltr">ConnectionService</code> APIs described in the <a href="https://developer.android.com/guide/topics/connectivity/telecom/selfManaged.html">SDK</a>.</li>
<li>[C-1-2] MUST display a new incoming call and provide user affordance to
accept or reject the incoming call when the user is on an ongoing call
that is made by a third-party app that does not support the hold feature
specified via
<a href="https://developer.android.com/reference/android/telecom/Connection.html#CAPABILITY_SUPPORT_HOLD"><code translate="no" dir="ltr">CAPABILITY_SUPPORT_HOLD</code></a>.</li>
<li>[C-1-3] MUST have an application that implements
<a href="https://developer.android.com/reference/android/telecom/InCallService">InCallService</a>.</li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to notify the user that answering an
incoming call will drop an ongoing call.</p>

<p>The AOSP implementation meets these requirements by a heads-up notification
which indicates to the user that answering an incoming call will cause the
other call to be dropped.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to preload the default dialer app that
shows a call log entry and the name of a third-party app in its call log
when the third-party app sets the
<a href="https://developer.android.com/reference/android/telecom/PhoneAccount.html#EXTRA_LOG_SELF_MANAGED_CALLS"><code translate="no" dir="ltr">EXTRA_LOG_SELF_MANAGED_CALLS</code></a>
extras key on its <code translate="no" dir="ltr">PhoneAccount</code> to <code translate="no" dir="ltr">true</code>.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to handle the audio headset&#39;s
<code translate="no" dir="ltr">KEYCODE_MEDIA_PLAY_PAUSE</code> and <code translate="no" dir="ltr">KEYCODE_HEADSETHOOK</code> events for the
<a href="https://developer.android.com/reference/android/telecom/package-summary.html"><code translate="no" dir="ltr">android.telecom</code></a>
APIs as below:</p>

<ul>
<li>Call <a href="https://developer.android.com/reference/android/telecom/Connection.html#onDisconnect%28%29"><code translate="no" dir="ltr">Connection.onDisconnect()</code></a>
when a short press of the key event is detected during an ongoing call.</li>
<li>Call <a href="https://developer.android.com/reference/android/telecom/Connection.html#onAnswer%28%29"><code translate="no" dir="ltr">Connection.onAnswer()</code></a>
when a short press of the key event is detected during an incoming call.</li>
<li>Call <a href="https://developer.android.com/reference/android/telecom/Connection.html#onReject%28%29"><code translate="no" dir="ltr">Connection.onReject()</code></a>
when a long press of the key event is detected during an incoming call.</li>
<li>Toggle the mute status of the <a href="https://developer.android.com/reference/android/telecom/CallAudioState.html"><code translate="no" dir="ltr">CallAudioState</code></a>.</li>
</ul></li>
</ul>

<h4 id="742_ieee_80211_wi-fi" data-text="7.4.2. IEEE 802.11 (Wi-Fi)">7.4.2. IEEE 802.11 (Wi-Fi)</h4>

<p>Device implementations:</p>

<ul>
<li>SHOULD include support for one or more forms of 802.11.</li>
</ul>

<p>If device implementations include support for 802.11 and expose the
functionality to a third-party application, they:</p>

<ul>
<li>[C-1-1] MUST implement the corresponding Android API.</li>
<li>[C-1-2] MUST report the hardware feature flag <code translate="no" dir="ltr">android.hardware.wifi</code>.</li>
<li>[C-1-3] MUST implement the <a href="http://developer.android.com/reference/android/net/wifi/WifiManager.MulticastLock.html">multicast API</a>
as described in the SDK documentation.</li>
<li>[C-1-4] MUST support multicast DNS (mDNS) and MUST NOT filter mDNS packets
(224.0.0.251) at any time of operation including:
<ul>
<li>Even when the screen is not in an active state.</li>
<li>For Android Television device implementations, even when in standby
power states.</li>
</ul></li>
<li>[C-1-5] MUST NOT treat the <a href="https://developer.android.com/reference/android/net/wifi/WifiManager.html#enableNetwork%28int%2C%20boolean%29"><code translate="no" dir="ltr">WifiManager.enableNetwork()</code></a>
API method call as a sufficient indication to switch the currently active
<code translate="no" dir="ltr">Network</code> that is used by default for application traffic and is returned
by <a href="https://developer.android.com/reference/android/net/ConnectivityManager"><code translate="no" dir="ltr">ConnectivityManager</code></a>
API methods such as <a href="https://developer.android.com/reference/android/net/ConnectivityManager#getActiveNetwork%28%29"><code translate="no" dir="ltr">getActiveNetwork</code></a>
and <a href="https://developer.android.com/reference/android/net/ConnectivityManager#registerDefaultNetworkCallback%28android.net.ConnectivityManager.NetworkCallback,%20android.os.Handler%29"><code translate="no" dir="ltr">registerDefaultNetworkCallback</code></a>.
In other words, they MAY only disable the Internet access provided by any
other network provider (e.g. mobile data) if they successfully validate
that the Wi-Fi network is providing Internet access.</li>
<li>[C-1-6] Are STRONGLY RECOMMENDED to, when the
<a href="https://developer.android.com/reference/android/net/ConnectivityManager.html#reportNetworkConnectivity%28android.net.Network%2C%20boolean%29"><code translate="no" dir="ltr">ConnectivityManager.reportNetworkConnectivity()</code></a>
API method is called, re-evaluate the Internet access on the <code translate="no" dir="ltr">Network</code> and,
once the evaluation determines that the current <code translate="no" dir="ltr">Network</code> no longer provides
Internet access, switch to any other available network (e.g. mobile
data) that provides Internet access.</li>
<li>[C-1-7] MUST randomize the source MAC address and sequence number of probe
request frames, once at the beginning of each scan, while STA is
disconnected.</li>
<li>[C-1-8] MUST use one consistent MAC address (SHOULD NOT randomize MAC
address halfway through a scan).</li>
<li>[C-1-9] MUST iterate probe request sequence number as normal (sequentially)
between the probe requests in a scan.</li>
<li>[C-1-10] MUST randomize Probe request sequence number between the last probe
request of a scan and the first probe request of the next scan.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to randomize the source MAC address used for
all STA communication to an Access Point (AP) while associating and
associated.
<ul>
<li>The device MUST use a different randomized MAC address for each SSID
(FQDN for Passpoint) it communicates with.</li>
<li>The device MUST provide the user with an option to control the
randomization per SSID (FQDN for Passpoint) with non randomized and
randomized options, and MUST set the default mode for new Wi-Fi
configurations to be randomized.</li>
</ul></li>
<li>[C-SR] Are STRONGLY RECOMMENDED to use a random BSSID for any AP that they
create.
<ul>
<li>The MAC address MUST be randomized and persisted per SSID used by the
AP.</li>
<li>The DEVICE MAY provide the user with an option to disable this feature.
If such an option is provided, randomization MUST be enabled by default.</li>
</ul></li>
</ul>

<p>If device implementations include support for Wi-Fi power save mode as defined
in IEEE 802.11 standard, they:</p>

<ul>
<li>[C-3-1] MUST turn off Wi-Fi power save mode whenever an app acquires
<code translate="no" dir="ltr">WIFI_MODE_FULL_HIGH_PERF</code> lock or <code translate="no" dir="ltr">WIFI_MODE_FULL_LOW_LATENCY</code> lock
via <a href="https://developer.android.com/reference/android/net/wifi/WifiManager.html#createWifiLock(int,%2520java.lang.String)"><code translate="no" dir="ltr">WifiManager.createWifiLock()</code></a>
and  <a href="https://developer.android.com/reference/android/net/wifi/WifiManager.WifiLock.html#acquire()"><code translate="no" dir="ltr">WifiManager.WifiLock.acquire()</code></a>
APIs and the lock is active.</li>
<li>[C-3-2] The average round trip latency between the device
and an access point while the device is in a Wi-Fi Low Latency Lock
(<code translate="no" dir="ltr">WIFI_MODE_FULL_LOW_LATENCY</code>) mode MUST be smaller than the
latency during a Wi-Fi High Perf Lock (<code translate="no" dir="ltr">WIFI_MODE_FULL_HIGH_PERF</code>) mode.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to minimize Wi-Fi round trip latency
whenever a Low Latency Lock (<code translate="no" dir="ltr">WIFI_MODE_FULL_LOW_LATENCY</code>) is acquired
and takes effect.</li>
</ul>

<p>If device implementations support Wi-Fi and use Wi-Fi for location scanning,
they:</p>

<ul>
<li>[C-2-1] MUST provide a user affordance to enable/disable the value read
 through the <a href="https://developer.android.com/reference/android/net/wifi/WifiManager.html#isScanAlwaysAvailable%28%29"><code translate="no" dir="ltr">WifiManager.isScanAlwaysAvailable</code></a>
 API method.</li>
</ul>

<h5 id="7421_wi-fi_direct" data-text="7.4.2.1. Wi-Fi Direct">7.4.2.1. Wi-Fi Direct</h5>

<p>Device implementations:</p>

<ul>
<li>SHOULD include support for Wi-Fi Direct (Wi-Fi peer-to-peer).</li>
</ul>

<p>If device implementations include support for Wi-Fi Direct, they:</p>

<ul>
<li>[C-1-1] MUST implement the <a href="http://developer.android.com/reference/android/net/wifi/p2p/WifiP2pManager.html">corresponding Android API</a>
as described in the SDK documentation.</li>
<li>[C-1-2] MUST report the hardware feature <code translate="no" dir="ltr">android.hardware.wifi.direct</code>.</li>
<li>[C-1-3] MUST support regular Wi-Fi operation.</li>
<li>[C-1-4] MUST support Wi-Fi and Wi-Fi Direct operations concurrently.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to randomize the source MAC address for all
newly formed Wi-Fi Direct connections.</li>
</ul>

<h5 id="7422_wi-fi_tunneled_direct_link_setup" data-text="7.4.2.2. Wi-Fi Tunneled Direct Link Setup">7.4.2.2. Wi-Fi Tunneled Direct Link Setup</h5>

<p>Device implementations:</p>

<ul>
<li>SHOULD include support for
 <a href="http://developer.android.com/reference/android/net/wifi/WifiManager.html">Wi-Fi Tunneled Direct Link Setup (TDLS)</a>
 as described in the Android SDK Documentation.</li>
</ul>

<p>If device implementations include support for TDLS and TDLS is enabled by the
WiFiManager API, they:</p>

<ul>
<li>[C-1-1] MUST declare support for TDLS through <a href="https://developer.android.com/reference/android/net/wifi/WifiManager.html#isTdlsSupported%28%29"><code translate="no" dir="ltr">WifiManager.isTdlsSupported</code></a>.</li>
<li>SHOULD use TDLS only when it is possible AND beneficial.</li>
<li>SHOULD have some heuristic and NOT use TDLS when its performance might be
worse than going through the Wi-Fi access point.</li>
</ul>

<h5 id="7423_wi-fi_aware" data-text="7.4.2.3. Wi-Fi Aware">7.4.2.3. Wi-Fi Aware</h5>

<p>Device implementations:</p>

<ul>
<li>SHOULD include support for <a href="http://www.wi-fi.org/discover-wi-fi/wi-fi-aware">Wi-Fi Aware</a>.</li>
</ul>

<p>If device implementations include support for Wi-Fi Aware and expose the
functionality to third-party apps, then they:</p>

<ul>
<li>[C-1-1] MUST implement the <code translate="no" dir="ltr">WifiAwareManager</code> APIs as described in the
<a href="http://developer.android.com/reference/android/net/wifi/aware/WifiAwareManager.html">SDK documentation</a>.</li>
<li>[C-1-2] MUST declare the <code translate="no" dir="ltr">android.hardware.wifi.aware</code> feature flag.</li>
<li>[C-1-3] MUST support Wi-Fi and Wi-Fi Aware operations concurrently.</li>
<li>[C-1-4] MUST randomize the Wi-Fi Aware management interface address at intervals
no longer than 30 minutes and whenever Wi-Fi Aware is enabled unless an Aware
ranging operation is ongoing or an Aware data-path is active (randomization is not
expected for as long as the data-path is active).</li>
</ul>

<p>If device implementations include support for Wi-Fi Aware and
Wi-Fi Location as described in <a href="#7_4_2_5_Wi-Fi_Location">Section 7.4.2.5</a> and
exposes these functionalities to third-party apps, then they:</p>

<ul>
<li>[C-2-1] MUST implement the location-aware discovery APIs: <a href="https://developer.android.com/reference/android/net/wifi/aware/PublishConfig.Builder.html#setRangingEnabled%28boolean%29">setRangingEnabled</a>,
<a href="https://developer.android.com/reference/android/net/wifi/aware/SubscribeConfig.Builder#setMinDistanceMm%28int%29">setMinDistanceMm</a>,
<a href="https://developer.android.com/reference/android/net/wifi/aware/SubscribeConfig.Builder#setMaxDistanceMm%28int%29">setMaxDistanceMm</a>
, and
<a href="https://developer.android.com/reference/android/net/wifi/aware/DiscoverySessionCallback#onServiceDiscoveredWithinRange%28android.net.wifi.aware.PeerHandle,%20byte%5B%5D,%20java.util.List%3Cbyte%5B%5D%3E,%20int%29">onServiceDiscoveredWithinRange</a>.</li>
</ul>

<h5 id="7424_wi-fi_passpoint" data-text="7.4.2.4. Wi-Fi Passpoint">7.4.2.4. Wi-Fi Passpoint</h5>

<p>If device implementations include support for 802.11 (Wi-Fi) they:</p>

<ul>
<li>[C-1-1] MUST include support for <a href="http://www.wi-fi.org/discover-wi-fi/wi-fi-certified-passpoint">Wi-Fi Passpoint</a>.</li>
<li>[C-1-2] MUST implement the Passpoint related <code translate="no" dir="ltr">WifiManager</code> APIs as
described in the <a href="http://developer.android.com/reference/android/net/wifi/WifiManager.html">SDK documentation</a>.</li>
<li>[C-1-3] MUST support IEEE 802.11u standard, specifically related
to Network Discovery and Selection, such as Generic Advertisement
Service (GAS) and Access Network Query Protocol (ANQP).</li>
<li>[C-1-4] MUST declare <code translate="no" dir="ltr">android.hardware.wifi.passpoint</code> feature flag.</li>
<li>[C-1-5] MUST follow the AOSP implementation to discover, match and associate
to Passpoint networks.</li>
<li>[C-1-6] MUST support at least the following subset of device provisioning
protocols as defined in the Wi-Fi Alliance Passpoint R2: EAP-TTLS
authentication and SOAP-XML.</li>
<li>[C-1-7] MUST process the AAA server certificate as described in
Hotspot 2.0 R3 specification.</li>
<li>[C-1-8] MUST support user control of provisioning through the Wi-Fi picker.</li>
<li>[C-1-9] MUST keep Passpoint configurations persistent across reboots.</li>
<li>[C-SR] Are Strongly recommended to support the terms and conditions
acceptance feature.</li>
<li>[C-SR] Are Strongly recommended to support the Venue information feature.</li>
</ul>

<p>Conversely if device implementations do not include support for Wi-Fi
Passpoint:</p>

<ul>
<li>[C-2-1] The implementation of the Passpoint related <code translate="no" dir="ltr">WifiManager</code>
APIs MUST throw an <code translate="no" dir="ltr">UnsupportedOperationException</code>.</li>
</ul>

<p>If a global Passpoint disable user control switch is provided, implementations:</p>

<ul>
<li>[C-3-1]  MUST enable Passpoint by default.</li>
</ul>

<h5 id="7425_wi-fi_location_wi-fi_round_trip_time_-_rtt" data-text="7.4.2.5. Wi-Fi Location (Wi-Fi Round Trip Time - RTT)">7.4.2.5. Wi-Fi Location (Wi-Fi Round Trip Time - RTT)</h5>

<p>Device implementations:</p>

<ul>
<li>SHOULD include support for <a href="https://www.wi-fi.org/discover-wi-fi/wi-fi-location">Wi-Fi Location</a>.</li>
</ul>

<p>If device implementations include support for Wi-Fi Location and expose the
functionality to third-party apps, then they:</p>

<ul>
<li>[C-1-1] MUST implement the <code translate="no" dir="ltr">WifiRttManager</code> APIs as described in the
<a href="http://developer.android.com/reference/android/net/wifi/rtt/WifiRttManager.html">SDK documentation</a>.</li>
<li>[C-1-2] MUST declare the <code translate="no" dir="ltr">android.hardware.wifi.rtt</code> feature flag.</li>
<li>[C-1-3] MUST randomize the source MAC address for each RTT burst
which is executed while the Wi-Fi interface on which the RTT is
being executed is not associated to an Access Point.</li>
<li>[C-1-4] MUST be accurate to within 2 meters at 80 MHz bandwidth
at the 68th percentile (as calculated with the Cumulative
Distribution Function).</li>
</ul>

<h5 id="7426_wi-fi_keepalive_offload" data-text="7.4.2.6. Wi-Fi Keepalive Offload">7.4.2.6. Wi-Fi Keepalive Offload</h5>

<p>Device implementations:</p>

<ul>
<li>SHOULD include support for Wi-Fi keepalive offload.</li>
</ul>

<p>If device implementations include support for Wi-Fi keepalive offload and
expose the functionality to third-party apps, they:</p>

<ul>
<li><p>[C-1-1] MUST support the
<a href="https://developer.android.google.com/reference/android/net/SocketKeepalive.html">SocketKeepAlive</a> API.</p></li>
<li><p>[C-1-2] MUST support at least three concurrent keepalive slots over Wi-Fi and
at least one keepalive slot over cellular.</p></li>
</ul>

<p>If device implementations do not include support for Wi-Fi keepalive offload,
they:</p>

<ul>
<li>[C-2-1] MUST return <a href="https://developer.android.google.com/reference/android/net/SocketKeepalive.html#ERROR_UNSUPPORTED"><code translate="no" dir="ltr">ERROR_UNSUPPORTED</code></a>.</li>
</ul>

<h5 id="7427_wi-fi_easy_connect_device_provisioning_protocol" data-text="7.4.2.7. Wi-Fi Easy Connect (Device Provisioning Protocol)">7.4.2.7. Wi-Fi Easy Connect (Device Provisioning Protocol)</h5>

<p>Device implementations:</p>

<ul>
<li>SHOULD include support for <a href="https://www.wi-fi.org/file/wi-fi-certified-easy-connect-technology-overview">Wi-Fi Easy Connect (DPP)</a>.</li>
</ul>

<p>If device implementations include support for Wi-Fi Easy Connect and expose the
functionality to third-party apps, they:</p>

<ul>
<li>[C-1-1] MUST have the <a href="https://developer.android.com/reference/android/net/wifi/WifiManager.html#isEasyConnectSupported()">WifiManager#isEasyConnectSupported()</a>
method return <code translate="no" dir="ltr">true</code>.</li>
</ul>

<h5 id="7427_enterprise_wi-fi_server_certificate_validation" data-text="7.4.2.7. Enterprise Wi-Fi Server Certificate Validation">7.4.2.7. Enterprise Wi-Fi Server Certificate Validation</h5>

<p>If the Wi-Fi server certificate is not validated or the Wi-Fi server
domain name is not set, device implementations:</p>

<ul>
<li>[C-SR] are STRONGLY RECOMMENDED not to provide the user an option
to manually add <a href="https://source.android.com/devices/tech/connect/wifi-wpa3-owe">Enterprise Wi-Fi network</a>
in the Settings app.</li>
</ul>

<h4 id="743_bluetooth" data-text="7.4.3. Bluetooth">7.4.3. Bluetooth</h4>

<p>If device implementations support Bluetooth Audio profile, they:</p>

<ul>
<li>SHOULD support Advanced Audio Codecs and Bluetooth Audio Codecs
(e.g. LDAC).</li>
</ul>

<p>If device implementations support HFP, A2DP and AVRCP, they:</p>

<ul>
<li>SHOULD support at least 5 total connected devices.</li>
</ul>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.vr.high_performance</code>
feature, they:</p>

<ul>
<li>[C-1-1] MUST support Bluetooth 4.2 and Bluetooth LE Data Length Extension.</li>
</ul>

<p>Android includes support for <a href="http://developer.android.com/reference/android/bluetooth/package-summary.html">Bluetooth and Bluetooth Low Energy</a>.</p>

<p>If device implementations include support for Bluetooth and Bluetooth
Low Energy, they:</p>

<ul>
<li>[C-2-1] MUST declare the relevant platform features
(<code translate="no" dir="ltr">android.hardware.bluetooth</code> and <code translate="no" dir="ltr">android.hardware.bluetooth_le</code>
respectively) and implement the platform APIs.</li>
<li>SHOULD implement relevant Bluetooth profiles such as
 A2DP, AVRCP, OBEX, HFP, etc. as appropriate for the device.</li>
</ul>

<p>If device implementations include support for Bluetooth Low Energy, they:</p>

<ul>
<li>[C-3-1] MUST declare the hardware feature <code translate="no" dir="ltr">android.hardware.bluetooth_le</code>.</li>
<li>[C-3-2] MUST enable the GATT (generic attribute profile) based Bluetooth
APIs as described in the SDK documentation and
<a href="http://developer.android.com/reference/android/bluetooth/package-summary.html">android.bluetooth</a>.</li>
<li>[C-3-3] MUST report the correct value for
<code translate="no" dir="ltr">BluetoothAdapter.isOffloadedFilteringSupported()</code> to indicate whether the
filtering logic for the <a href="https://developer.android.com/reference/android/bluetooth/le/ScanFilter.html">ScanFilter</a>
API classes is implemented.</li>
<li>[C-3-4] MUST report the correct value for
<code translate="no" dir="ltr">BluetoothAdapter.isMultipleAdvertisementSupported()</code> to indicate
whether Low Energy Advertising is supported.</li>
<li>[C-3-5] MUST implement a Resolvable Private Address (RPA) timeout no longer
than 15 minutes and rotate the address at timeout to protect user privacy.
To prevent timing attacks, timeout intervals MUST also be randomized
between 5 and 15 minutes.</li>
<li>SHOULD support offloading of the filtering logic to the bluetooth chipset
when implementing the <a href="https://developer.android.com/reference/android/bluetooth/le/ScanFilter.html">ScanFilter API</a>.</li>
<li>SHOULD support offloading of the batched scanning to the bluetooth chipset.</li>
<li>SHOULD support multi advertisement with at least 4 slots.</li>
</ul>

<p>If device implementations support Bluetooth LE and use Bluetooth LE for
location scanning, they:</p>

<ul>
<li>[C-4-1] MUST provide a user affordance to enable/disable the value read
 through the System API <code translate="no" dir="ltr">BluetoothAdapter.isBleScanAlwaysAvailable()</code>.</li>
</ul>

<p>If device implementations include support for Bluetooth LE and Hearing Aids
Profile, as described in
<a href="https://source.android.com/devices/bluetooth/asha">Hearing Aid Audio Support Using Bluetooth LE</a>, they:</p>

<ul>
<li>[C-5-1] MUST return <code translate="no" dir="ltr">true</code> for
<a href="https://developer.android.com/reference/android/bluetooth/BluetoothAdapter.html#getProfileProxy(android.content.Context,%20android.bluetooth.BluetoothProfile.ServiceListener,%20int)">BluetoothAdapter.getProfileProxy(context, listener, BluetoothProfile.HEARING_AID)</a>.</li>
</ul>

<p>If device implementations include support for Bluetooth or Bluetooth Low Energy,
they:</p>

<ul>
<li>[C-6-1] MUST restrict access to any Bluetooth metadata (such as scan
results) which could be used to derive the location of the device, unless
the requesting app successfully passes an <a href="https://developer.android.com/reference/android/Manifest.permission#ACCESS_FINE_LOCATION"><code translate="no" dir="ltr">android.permission.ACCESS_FINE_LOCATION</code></a>
permission check based on its current foreground/background state.</li>
</ul>

<p>If device implementations include support for Bluetooth or Bluetooth Low Energy
and the app manifest does not include a declaration from the developer stating
that they are not deriving location from Bluetooth,
then, they: </p>

<ul>
<li>[C-6-2] MUST gate Bluetooth access behind the <a href="https://developer.android.com/reference/android/Manifest.permission#ACCESS_FINE_LOCATION"><code translate="no" dir="ltr">android.permission.ACCESS_FINE_LOCATION</code></a>.</li>
</ul>

<h4 id="744_near-field_communications" data-text="7.4.4. Near-Field Communications">7.4.4. Near-Field Communications</h4>

<p>Device implementations:</p>

<ul>
<li>SHOULD include a transceiver and related hardware for Near-Field
Communications (NFC).</li>
<li>[C-0-1] MUST implement <code translate="no" dir="ltr">android.nfc.NdefMessage</code> and
<code translate="no" dir="ltr">android.nfc.NdefRecord</code> APIs even if they do not include support for NFC or
declare the <code translate="no" dir="ltr">android.hardware.nfc</code> feature as the classes represent a
protocol-independent data representation format.</li>
</ul>

<p>If device implementations include NFC hardware and plan to make it available to
third-party apps, they:</p>

<ul>
<li>[C-1-1] MUST report the <code translate="no" dir="ltr">android.hardware.nfc</code> feature from the
<a href="http://developer.android.com/reference/android/content/pm/PackageManager.html"><code translate="no" dir="ltr">android.content.pm.PackageManager.hasSystemFeature()</code> method</a>.</li>
<li>MUST be capable of reading and writing NDEF messages via the following NFC
standards as below:</li>
<li>[C-1-2] MUST be capable of acting as an NFC Forum reader/writer
(as defined by the NFC Forum technical specification
NFCForum-TS-DigitalProtocol-1.0) via the following NFC standards:
<ul>
<li>NfcA (ISO14443-3A)</li>
<li>NfcB (ISO14443-3B)</li>
<li>NfcF (JIS X 6319-4)</li>
<li>IsoDep (ISO 14443-4)</li>
<li>NFC Forum Tag Types 1, 2, 3, 4, 5 (defined by the NFC Forum)</li>
</ul></li>
<li><p>[SR] STRONGLY RECOMMENDED to be capable of reading and writing NDEF
messages as well as raw data via the following NFC standards. Note that
while the NFC standards are stated as STRONGLY RECOMMENDED, the
Compatibility Definition for a future version is planned to change these
to MUST. These standards are optional in this version but will be required
in future versions. Existing and new devices that run this version of
Android are very strongly encouraged to meet these requirements now so
they will be able to upgrade to the future platform releases.</p></li>
<li><p>[C-1-13] MUST poll for all supported technologies while in NFC discovery
mode.</p></li>
<li><p>SHOULD be in NFC discovery mode while the device is awake with the
screen active and the lock-screen unlocked.</p></li>
<li><p>SHOULD be capable of reading the barcode and URL (if encoded) of
<a href="http://developer.android.com/reference/android/nfc/tech/NfcBarcode.html">Thinfilm NFC Barcode</a>
products.</p></li>
</ul>

<p>Note that publicly available links are not available for the JIS, ISO, and NFC
Forum specifications cited above.</p>

<p>Android includes support for NFC Host Card Emulation (HCE) mode.</p>

<p>If device implementations include an NFC controller chipset capable of HCE (for
NfcA and/or NfcB) and support Application ID (AID) routing, they:</p>

<ul>
<li>[C-2-1] MUST report the <code translate="no" dir="ltr">android.hardware.nfc.hce</code> feature constant.</li>
<li>[C-2-2] MUST support <a href="http://developer.android.com/guide/topics/connectivity/nfc/hce.html">NFC HCE APIs</a> as
defined in the Android SDK.</li>
</ul>

<p>If device implementations include an NFC controller chipset capable of HCE
for NfcF, and implement the feature for third-party applications, they:</p>

<ul>
<li>[C-3-1] MUST report the <code translate="no" dir="ltr">android.hardware.nfc.hcef</code> feature constant.</li>
<li>[C-3-2] MUST implement the <a href="https://developer.android.com/reference/android/nfc/cardemulation/NfcFCardEmulation.html">NfcF Card Emulation APIs</a>
as defined in the Android SDK.</li>
</ul>

<p>If device implementations include general NFC support as described in this
section and support MIFARE technologies (MIFARE Classic,
MIFARE Ultralight, NDEF on MIFARE Classic) in the reader/writer role, they:</p>

<ul>
<li>[C-4-1] MUST implement the corresponding Android APIs as documented by
the Android SDK.</li>
<li>[C-4-2] MUST report the feature <code translate="no" dir="ltr">com.nxp.mifare</code> from the
<a href="http://developer.android.com/reference/android/content/pm/PackageManager.html"><code translate="no" dir="ltr">android.content.pm.PackageManager.hasSystemFeature</code>()</a>
method. Note that this is not a standard Android feature and as such does not
appear as a constant in the <code translate="no" dir="ltr">android.content.pm.PackageManager</code> class.</li>
</ul>

<h4 id="745_networking_protocols_and_apis" data-text="7.4.5. Networking protocols and APIs">7.4.5. Networking protocols and APIs</h4>

<h5 id="7451_minimum_network_capability" data-text="7.4.5.1. Minimum Network Capability">7.4.5.1. Minimum Network Capability</h5>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST include support for one or more forms of
data networking. Specifically, device implementations MUST include support for
at least one data standard capable of 200 Kbit/sec or greater. Examples of
technologies that satisfy this requirement include EDGE, HSPA, EV-DO,
802.11g, Ethernet and Bluetooth PAN.</li>
<li>SHOULD also include support for at least one common wireless data
standard, such as 802.11 (Wi-Fi), when a physical networking standard (such as
Ethernet) is the primary data connection.</li>
<li>MAY implement more than one form of data connectivity.</li>
</ul>

<h5 id="7452_ipv6" data-text="7.4.5.2. IPv6">7.4.5.2. IPv6</h5>

<p>Device implementations:</p>

<ul>
<li>[C-0-2] MUST include an IPv6 networking stack and support IPv6
communication using the managed APIs, such as <code translate="no" dir="ltr">java.net.Socket</code> and
<code translate="no" dir="ltr">java.net.URLConnection</code>, as well as the native APIs, such as <code translate="no" dir="ltr">AF_INET6</code>
sockets.</li>
<li>[C-0-3] MUST enable IPv6 by default.
<ul>
<li>MUST ensure that IPv6 communication is as reliable as IPv4, for example:
<ul>
<li>[C-0-4] MUST maintain IPv6 connectivity in doze mode.</li>
<li>[C-0-5] Rate-limiting MUST NOT cause the device to lose IPv6
connectivity on any IPv6-compliant network that uses RA lifetimes of
at least 180 seconds.</li>
</ul></li>
</ul></li>
<li>[C-0-6] MUST provide third-party applications with direct IPv6 connectivity
to the network when connected to an IPv6 network, without any form of address or
port translation happening locally on the device. Both managed APIs such as
<a href="https://developer.android.com/reference/java/net/Socket.html#getLocalAddress%28%29"><code translate="no" dir="ltr">Socket#getLocalAddress</code></a>
or <a href="https://developer.android.com/reference/java/net/Socket.html#getLocalPort%28%29"><code translate="no" dir="ltr">Socket#getLocalPort</code></a>)
and NDK APIs such as <code translate="no" dir="ltr">getsockname()</code> or <code translate="no" dir="ltr">IPV6_PKTINFO</code> MUST return the IP
address and port that is actually used to send and receive packets on the
network and is visible as the source ip and port to internet (web) servers.</li>
</ul>

<p>The required level of IPv6 support depends on the network type, as shown in
the following requirements.</p>

<p>If device implementations support Wi-Fi, they:</p>

<ul>
<li>[C-1-1] MUST support dual-stack and IPv6-only operation on Wi-Fi.</li>
</ul>

<p>If device implementations support Ethernet, they:</p>

<ul>
<li>[C-2-1] MUST support dual-stack and IPv6-only operation on
Ethernet.</li>
</ul>

<p>If device implementations support Cellular data, they:</p>

<ul>
<li>[C-3-1] MUST support IPv6 operation (IPv6-only and possibly dual-stack) on
cellular.</li>
</ul>

<p>If device implementations support more than one network type (e.g., Wi-Fi
and cellular data), they:</p>

<ul>
<li>[C-4-1] MUST simultaneously meet the above requirements on each network
when the device is simultaneously connected to more than one network type.</li>
</ul>

<h5 id="7453_captive_portals" data-text="7.4.5.3. Captive Portals">7.4.5.3. Captive Portals</h5>

<p>A captive portal refers to a network that requires sign-in in order to
obtain internet access.</p>

<p>If device implementations provide a complete implementation of the
<a href="https://developer.android.com/reference/android/webkit/WebView.html"><code translate="no" dir="ltr">android.webkit.Webview API</code></a>,
they:</p>

<ul>
<li>[C-1-1] MUST provide a captive portal application to handle the intent
<a href="https://developer.android.com/reference/android/net/ConnectivityManager#ACTION_CAPTIVE_PORTAL_SIGN_IN"><code translate="no" dir="ltr">ACTION_CAPTIVE_PORTAL_SIGN_IN</code></a>
and display the captive portal login page, by sending that intent, on
call to the System API
<code translate="no" dir="ltr">ConnectivityManager#startCaptivePortalApp(Network, Bundle)</code>.</li>
<li>[C-1-2] MUST perform detection of captive portals and support login
through the captive portal application when the device is connected
to any network type, including cellular/mobile network, WiFi, Ethernet
or Bluetooth.</li>
<li>[C-1-3] MUST support logging in to captive portals using cleartext DNS
when the device is configured to use private DNS strict mode.</li>
<li>[C-1-4] MUST use encrypted DNS as per the SDK documentation for
<a href="https://developer.android.com/reference/android/net/LinkProperties.html#getPrivateDnsServerName%28%29"><code translate="no" dir="ltr">android.net.LinkProperties.getPrivateDnsServerName</code></a>
and <a href="https://developer.android.com/reference/android/net/LinkProperties#isPrivateDnsActive%28%29"><code translate="no" dir="ltr">android.net.LinkProperties.isPrivateDnsActive</code></a>
for all network traffic that is not explicitly communicating with the
captive portal.</li>
<li>[C-1-5] MUST ensure that, while the user is logging in to a captive
portal, the default network used by applications (as returned by
<a href="https://developer.android.com/reference/android/net/ConnectivityManager#getActiveNetwork%28%29"><code translate="no" dir="ltr">ConnectivityManager.getActiveNetwork</code></a>,
<a href="https://developer.android.com/reference/android/net/ConnectivityManager#registerDefaultNetworkCallback%28android.net.ConnectivityManager.NetworkCallback%29"><code translate="no" dir="ltr">ConnectivityManager.registerDefaultNetworkCallback</code></a>,
and used by default by Java networking APIs such as java.net.Socket,
and native APIs such as connect()) is any other available network
that provides internet access, if available.</li>
</ul>

<h4 id="746_sync_settings" data-text="7.4.6. Sync Settings">7.4.6. Sync Settings</h4>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST have the master auto-sync setting on by default so that
the method <a href="http://developer.android.com/reference/android/content/ContentResolver.html"><code translate="no" dir="ltr">getMasterSyncAutomatically()</code></a>
returns “true”.</li>
</ul>

<h4 id="747_data_saver" data-text="7.4.7. Data Saver">7.4.7. Data Saver</h4>

<p>If device implementations include a metered connection, they are:</p>

<ul>
<li>[SR] STRONGLY RECOMMENDED to provide the data saver mode.</li>
</ul>

<p>If device implementations provide the data saver mode, they:</p>

<ul>
<li>[C-1-1] MUST support all the APIs in the <code translate="no" dir="ltr">ConnectivityManager</code>
class as described in the <a href="https://developer.android.com/training/basics/network-ops/data-saver.html">SDK documentation</a></li>
</ul>

<p>If device implementations do not provide the data saver mode, they:</p>

<ul>
<li>[C-2-1] MUST return the value <code translate="no" dir="ltr">RESTRICT_BACKGROUND_STATUS_DISABLED</code> for
<a href="https://developer.android.com/reference/android/net/ConnectivityManager.html#getRestrictBackgroundStatus%28%29"><code translate="no" dir="ltr">ConnectivityManager.getRestrictBackgroundStatus()</code></a></li>
<li>[C-2-2] MUST NOT broadcast
<code translate="no" dir="ltr">ConnectivityManager.ACTION_RESTRICT_BACKGROUND_CHANGED</code>.</li>
</ul>

<h4 id="748_secure_elements" data-text="7.4.8. Secure Elements">7.4.8. Secure Elements</h4>

<p>If device implementations support <a href="https://developer.android.com/reference/android/se/omapi/package-summary">Open Mobile API</a>-capable
secure elements and make them available to third-party apps, they:</p>

<ul>
<li><p>[C-1-1] MUST enumerate the available secure elements readers via
<a href="https://developer.android.com/reference/android/se/omapi/SEService#getReaders%28%29"><code translate="no" dir="ltr">android.se.omapi.SEService.getReaders()</code></a> API.</p></li>
<li><p>[C-1-2] MUST declare the correct feature flags via
<a href="https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_SE_OMAPI_UICC"><code translate="no" dir="ltr">android.hardware.se.omapi.uicc</code></a>
for the device with UICC-based secure elements,
<a href="https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_SE_OMAPI_ESE"><code translate="no" dir="ltr">android.hardware.se.omapi.ese</code></a>
for the device with eSE-based secure elements and
<a href="https://developer.android.com/reference/android/content/pm/PackageManager#FEATURE_SE_OMAPI_SD"><code translate="no" dir="ltr">android.hardware.se.omapi.sd</code></a>
for the device with SD-based secure elements.</p></li>
</ul>

<h3 id="75_cameras" data-text="7.5. Cameras">7.5. Cameras</h3>

<p>If device implementations include at least one camera, they:</p>

<ul>
<li>[C-1-1] MUST declare the <code translate="no" dir="ltr">android.hardware.camera.any</code> feature flag.</li>
<li>[C-1-2] MUST be possible for an application to simultaneously allocate
3 RGBA_8888 bitmaps equal to the size of the images produced by the
largest-resolution camera sensor on the device, while camera is open for the
purpose of basic preview and still capture.</li>
<li>[C-1-3] MUST ensure that the preinstalled default camera application
handling intents <a href="https://developer.android.com/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE"><code translate="no" dir="ltr">MediaStore.ACTION_IMAGE_CAPTURE</code></a>,
<a href="https://developer.android.com/reference/android/provider/MediaStore.html#ACTION_IMAGE_CAPTURE_SECURE"><code translate="no" dir="ltr">MediaStore.ACTION_IMAGE_CAPTURE_SECURE</code></a>,
or
<a href="https://developer.android.com/reference/android/provider/MediaStore.html#ACTION_VIDEO_CAPTURE"><code translate="no" dir="ltr">MediaStore.ACTION_VIDEO_CAPTURE</code></a>,
is responsible for removing the user location in the image metadata before
sending it to the receiving application when the receiving application does not
have <a href="https://developer.android.com/reference/android/Manifest.permission.html#ACCESS_FINE_LOCATION"><code translate="no" dir="ltr">ACCESS_FINE_LOCATION</code></a>.</li>
</ul>

<h4 id="751_rear-facing_camera" data-text="7.5.1. Rear-Facing Camera">7.5.1. Rear-Facing Camera</h4>

<p>A rear-facing camera is a camera located on the side of
the device opposite the display; that is, it images scenes on the far side of
the device, like a traditional camera.</p>

<p>Device implementations:</p>

<ul>
<li>SHOULD include a rear-facing camera.</li>
</ul>

<p>If device implementations include at least one rear-facing camera, they:</p>

<ul>
<li>[C-1-1] MUST report the feature flag <code translate="no" dir="ltr">android.hardware.camera</code> and
<code translate="no" dir="ltr">android.hardware.camera.any</code>.</li>
<li>[C-1-2] MUST have a resolution of at least 2 megapixels.</li>
<li>SHOULD have either hardware auto-focus or software auto-focus implemented
in the camera driver (transparent to application software).</li>
<li>MAY have fixed-focus or EDOF (extended depth of field) hardware.</li>
<li>MAY include a flash.</li>
</ul>

<p>If the camera includes a flash:</p>

<ul>
<li>[C-2-1] the flash lamp MUST NOT be lit while an
<code translate="no" dir="ltr">android.hardware.Camera.PreviewCallback</code> instance has been registered
on a Camera preview surface, unless the application has explicitly enabled
the flash by enabling the <code translate="no" dir="ltr">FLASH_MODE_AUTO</code> or <code translate="no" dir="ltr">FLASH_MODE_ON</code> attributes
of a <code translate="no" dir="ltr">Camera.Parameters</code> object. Note that this constraint does not apply to the
device’s built-in system camera application, but only to third-party
applications using <code translate="no" dir="ltr">Camera.PreviewCallback</code>.</li>
</ul>

<h4 id="752_front-facing_camera" data-text="7.5.2. Front-Facing Camera">7.5.2. Front-Facing Camera</h4>

<p>A front-facing camera is a camera located on the same side of the device
as the display; that is, a camera typically used to image the user, such
as for video conferencing and similar applications.</p>

<p>Device implementations:</p>

<ul>
<li>MAY include a front-facing camera.</li>
</ul>

<p>If device implementations include at least one front-facing camera, they:</p>

<ul>
<li>[C-1-1] MUST report the feature flag <code translate="no" dir="ltr">android.hardware.camera.any</code> and
<code translate="no" dir="ltr">android.hardware.camera.front</code>.</li>
<li>[C-1-2] MUST have a resolution of at least VGA (640x480 pixels).</li>
<li>[C-1-3] MUST NOT use a front-facing camera as the default for the
Camera API and MUST NOT configure the API to treat a front-facing camera as
the default rear-facing camera, even if it is the only camera on the device.</li>
<li>[C-1-4] The camera preview MUST be mirrored horizontally relative to the
orientation specified by the application when the current application has
explicitly requested that the Camera
display be rotated via a call to the
<a href="http://developer.android.com/reference/android/hardware/Camera.html#setDisplayOrientation(int)"><code translate="no" dir="ltr">android.hardware.Camera.setDisplayOrientation()</code></a>
method. Conversely, the preview MUST be mirrored along the device’s default
horizontal axis when the current application does not explicitly request
that the Camera display be rotated via a call to the
<a href="http://developer.android.com/reference/android/hardware/Camera.html#setDisplayOrientation(int)"><code translate="no" dir="ltr">android.hardware.Camera.setDisplayOrientation()</code></a>
method.</li>
<li>[C-1-5] MUST NOT mirror the final captured still image or video streams
returned to application callbacks or committed to media storage.</li>
<li>[C-1-6] MUST mirror the image displayed by the postview in the same manner
as the camera preview image stream.</li>
<li>MAY include features (such as auto-focus, flash, etc.) available to
rear-facing cameras as described in <a href="#7_5_1_rear-facing_camera">section 7.5.1</a>.</li>
</ul>

<p>If device implementations are capable of being rotated by user (such as
automatically via an accelerometer or manually via user input):</p>

<ul>
<li>[C-2-1] The camera preview MUST be mirrored horizontally relative to
the device’s current orientation.</li>
</ul>

<h4 id="753_external_camera" data-text="7.5.3. External Camera">7.5.3. External Camera</h4>

<p>Device implementations:</p>

<ul>
<li>MAY include support for an external camera that is not necessarily
always connected.</li>
</ul>

<p>If device implementations include support for an external camera, they:</p>

<ul>
<li>[C-1-1] MUST declare the platform feature flag
<code translate="no" dir="ltr">android.hardware.camera.external</code> and <code translate="no" dir="ltr">android.hardware camera.any</code>.</li>
<li>[C-1-2] MUST support USB Video Class (UVC 1.0 or higher) if the external
camera connects through the USB host port.</li>
<li>[C-1-3] MUST pass camera CTS tests with a physical external camera device
connected. Details of camera CTS testing are available at <a href="https://source.android.com/compatibility/cts/camera-hal">source.android.com</a>.</li>
<li>SHOULD support video compressions such as MJPEG to enable transfer of
high-quality unencoded streams (i.e. raw or independently compressed picture
streams).</li>
<li>MAY support multiple cameras.</li>
<li>MAY support camera-based video encoding.</li>
</ul>

<p>If camera-based video encoding is supported:</p>

<ul>
<li>[C-2-1] A simultaneous
unencoded / MJPEG stream (QVGA or greater resolution) MUST be accessible to
the device implementation.</li>
</ul>

<h4 id="754_camera_api_behavior" data-text="7.5.4. Camera API Behavior">7.5.4. Camera API Behavior</h4>

<p>Android includes two API packages to access the camera, the newer
android.hardware.camera2 API expose lower-level camera control to the app,
including efficient zero-copy burst/streaming flows and per-frame controls of
exposure, gain, white balance gains, color conversion, denoising, sharpening,
and more.</p>

<p>The older API package,<code translate="no" dir="ltr">android.hardware.Camera</code>, is marked as deprecated in
Android 5.0 but as it should still be available for apps to use. Android device
implementations MUST ensure the continued support of the API as described in
this section and in the Android SDK.</p>

<p>All features that are common between the deprecated android.hardware.Camera class
and the newer android.hardware.camera2 package MUST have equivalent performance
and quality in both APIs. For example, with equivalent settings,
autofocus speed and accuracy must be identical, and the quality of captured images
must be the same. Features that depend on the different semantics of the two APIs
are not required to have matching speed or quality, but SHOULD match as closely
as possible.</p>

<p>Device implementations MUST implement the following behaviors for the
camera-related APIs, for all available cameras. Device implementations:</p>

<ul>
<li>[C-0-1] MUST use <code translate="no" dir="ltr">android.hardware.PixelFormat.YCbCr_420_SP</code> for preview
data provided to application callbacks when an application has never called
<code translate="no" dir="ltr">android.hardware.Camera.Parameters.setPreviewFormat(int)</code>.</li>
<li>[C-0-2] MUST further be in the NV21 encoding format when an application
registers an <code translate="no" dir="ltr">android.hardware.Camera.PreviewCallback</code>
instance and the system calls the <code translate="no" dir="ltr">onPreviewFrame()</code> method and the preview
format is YCbCr_420_SP, the data in the byte[] passed into <code translate="no" dir="ltr">onPreviewFrame()</code>.
That is, NV21 MUST be the default.</li>
<li>[C-0-3] MUST support the YV12 format (as denoted by the
<code translate="no" dir="ltr">android.graphics.ImageFormat.YV12</code> constant) for camera previews for both
front- and rear-facing cameras for <code translate="no" dir="ltr">android.hardware.Camera</code>. (The hardware
video encoder and camera may use any native pixel format, but the device
implementation MUST support conversion to YV12.)</li>
<li>[C-0-4] MUST support the <code translate="no" dir="ltr">android.hardware.ImageFormat.YUV_420_888</code> and
<code translate="no" dir="ltr">android.hardware.ImageFormat.JPEG</code> formats as outputs through the
<code translate="no" dir="ltr">android.media.ImageReader</code> API for <code translate="no" dir="ltr">android.hardware.camera2</code> devices that
advertise <a href="https://developer.android.com/reference/android/hardware/camera2/CameraMetadata.html#REQUEST_AVAILABLE_CAPABILITIES_BACKWARD_COMPATIBLE"><code translate="no" dir="ltr">REQUEST_AVAILABLE_CAPABILITIES_BACKWARD_COMPATIBLE</code></a>
capability in <a href="https://developer.android.com/reference/android/hardware/camera2/CameraCharacteristics.html#REQUEST_AVAILABLE_CAPABILITIES"><code translate="no" dir="ltr">android.request.availableCapabilities</code></a>.</li>
<li>[C-0-5] MUST still implement the full <a href="http://developer.android.com/reference/android/hardware/Camera.html">Camera API</a>
included in the Android SDK documentation, regardless of whether the device
includes hardware autofocus or other capabilities. For instance, cameras that
lack autofocus MUST still call any registered
<code translate="no" dir="ltr">android.hardware.Camera.AutoFocusCallback</code> instances (even though this has no
relevance to a non-autofocus camera.) Note that this does apply to front-facing
cameras; for instance, even though most front-facing cameras do not support
autofocus, the API callbacks must still be “faked” as described.</li>
<li>[C-0-6] MUST recognize and honor each parameter name
defined as a constant in the
<a href="https://developer.android.com/reference/android/hardware/Camera.Parameters.html"><code translate="no" dir="ltr">android.hardware.Camera.Parameters</code></a>
class and the <a href="https://developer.android.com/reference/android/hardware/camera2/CaptureRequest"><code translate="no" dir="ltr">android.hardware.camera2.CaptureRequest</code></a> class.
Conversely, device implementations MUST NOT honor or recognize string constants
passed to the <code translate="no" dir="ltr">android.hardware.Camera.setParameters()</code> method other than those
documented as constants on the <code translate="no" dir="ltr">android.hardware.Camera.Parameters</code>. That is,
device implementations MUST support all standard Camera parameters if the
hardware allows, and MUST NOT support custom Camera parameter types.
For instance, device implementations that support image capture
using high dynamic range (HDR) imaging techniques MUST support camera parameter
<code translate="no" dir="ltr">Camera.SCENE_MODE_HDR</code>.</li>
<li>[C-0-7] MUST report the proper level of support with the
<a href="https://developer.android.com/reference/android/hardware/camera2/CameraCharacteristics.html#INFO_SUPPORTED_HARDWARE_LEVEL"><code translate="no" dir="ltr">android.info.supportedHardwareLevel</code></a>
property as described in the Android SDK and report the appropriate
<a href="http://source.android.com/devices/camera/versioning.html">framework feature flags</a>.</li>
<li>[C-0-8] MUST also declare its individual camera capabilities of
<code translate="no" dir="ltr">android.hardware.camera2</code> via the
<code translate="no" dir="ltr">android.request.availableCapabilities</code> property
and declare the appropriate <a href="http://source.android.com/devices/camera/versioning.html">feature flags</a>;
MUST define the feature flag if any of its attached camera devices
supports the feature.</li>
<li>[C-0-9] MUST broadcast the <code translate="no" dir="ltr">Camera.ACTION_NEW_PICTURE</code>
intent whenever a new picture is taken by the camera and the entry of the
picture has been added to the media store.</li>
<li>[C-0-10] MUST broadcast the <code translate="no" dir="ltr">Camera.ACTION_NEW_VIDEO</code>
intent whenever a new video is recorded by the camera and the entry of the
picture has been added to the media store.</li>
<li>[C-0-11] MUST have all cameras accessible via the deprecated
<a href="https://developer.android.com/reference/android/hardware/Camera"><code translate="no" dir="ltr">android.hardware.Camera</code></a>
API also accessible via the <a href="https://developer.android.com/reference/android/hardware/camera2/package-summary"><code translate="no" dir="ltr">android.hardware.camera2</code></a>
API.</li>
<li>[C-0-12] MUST ensure that the facial appearance is NOT altered, including
but not limited to altering facial geometry, facial skin tone, or facial
skin smoothening for any <a href="https://developer.android.com/reference/android/hardware/camera2/package-summary"><code translate="no" dir="ltr">android.hardware.camera2</code></a>
or <a href="https://developer.android.com/reference/android/hardware/Camera"><code translate="no" dir="ltr">android.hardware.Camera</code></a>
API.</li>
<li>[C-SR] For devices with multiple RGB cameras facing in the same direction,
are STRONGLY RECOMMENDED to support a logical camera device that lists
capability
<a href="https://developer.android.com/reference/android/hardware/camera2/CameraMetadata#REQUEST_AVAILABLE_CAPABILITIES_LOGICAL_MULTI_CAMERA"><code translate="no" dir="ltr">CameraMetadata.REQUEST_AVAILABLE_CAPABILITIES_LOGICAL_MULTI_CAMERA</code></a>,
consisting of all of the RGB cameras facing that direction as physical sub-devices.</li>
</ul>

<p>If device implementations provide a proprietary camera API to 3rd-party apps,
they:</p>

<ul>
<li>[C-1-1] MUST implement such a camera API using <a href="https://developer.android.com/reference/android/hardware/camera2/package-summary"><code translate="no" dir="ltr">android.hardware.camera2</code></a>
API.</li>
<li>MAY provide vendor tags and/or extensions to <a href="https://developer.android.com/reference/android/hardware/camera2/package-summary"><code translate="no" dir="ltr">android.hardware.camera2</code></a>
API.</li>
</ul>

<h4 id="755_camera_orientation" data-text="7.5.5. Camera Orientation">7.5.5. Camera Orientation</h4>

<p>If device implementations have a front- or a rear-facing camera, such camera(s):</p>

<ul>
<li>[C-1-1] MUST be oriented so that the long dimension of the camera
aligns with the screen’s long dimension. That is, when the device is held in the
landscape orientation, cameras MUST capture images in the landscape orientation.
This applies regardless of the device’s natural orientation; that is, it applies
to landscape-primary devices as well as portrait-primary devices.</li>
</ul>

<h3 id="76_memory_and_storage" data-text="7.6. Memory and Storage">7.6. Memory and Storage</h3>

<h4 id="761_minimum_memory_and_storage" data-text="7.6.1. Minimum Memory and Storage">7.6.1. Minimum Memory and Storage</h4>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST include a <a href="http://developer.android.com/reference/android/app/DownloadManager.html">Download Manager</a>
that applications MAY use to download data files and they MUST be capable of
downloading individual files of at least 100MB in size to the default
“cache” location.</li>
</ul>

<h4 id="762_application_shared_storage" data-text="7.6.2. Application Shared Storage">7.6.2. Application Shared Storage</h4>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST offer storage to be shared by applications, also often referred
as “shared external storage”, &quot;application shared storage&quot; or by the Linux
path &quot;/sdcard&quot; it is mounted on.</li>
<li>[C-0-2] MUST be configured with shared storage mounted by default, in other
words “out of the box”, regardless of whether the storage is implemented on
an internal storage component or a removable storage medium (e.g. Secure
Digital card slot).</li>
<li>[C-0-3] MUST mount the application shared storage directly on the Linux path
<code translate="no" dir="ltr">sdcard</code> or include a Linux symbolic link from <code translate="no" dir="ltr">sdcard</code> to the actual mount
point.</li>
<li>[C-0-4] MUST enable <a href="https://developer.android.com/privacy/scoped-storage">scoped storage</a> by default for all
apps targeting API level 29 or above, except in the following situation:
<ul>
<li>When the app has requested <code translate="no" dir="ltr">android:requestLegacyExternalStorage=&quot;true&quot;</code>
in their manifest.</li>
</ul></li>
<li>[C-0-5] MUST redact location metadata, such as GPS Exif tags, stored in
media files when those files are accessed through <code translate="no" dir="ltr">MediaStore</code>, except when
the calling app holds the <code translate="no" dir="ltr">ACCESS_MEDIA_LOCATION</code> permission.</li>
</ul>

<p>Device implementations MAY meet the above requirements using either of the
following:</p>

<ul>
<li>User-accessible removable storage, such as a Secure Digital (SD) card slot.</li>
<li>A portion of the internal (non-removable) storage as implemented in the
Android Open Source Project (AOSP).</li>
</ul>

<p>If device implementations use removable storage to satisfy the above
requirements, they:</p>

<ul>
<li>[C-1-1] MUST implement a toast or pop-up user interface warning the user
when there is no storage medium inserted in the slot.</li>
<li>[C-1-2] MUST include a FAT-formatted storage medium (e.g. SD card) or show
on the box and other material available at time of purchase that the storage
medium has to be purchased separately.</li>
</ul>

<p>If device implementations use a portion of the non-removable storage to satisfy
the above requirements, they:</p>

<ul>
<li>SHOULD use the AOSP implementation of the internal application shared
storage.</li>
<li>MAY share the storage space with the application private data.</li>
</ul>

<p>If device implementations have a USB port with USB peripheral mode support,
they:</p>

<ul>
<li>[C-3-1] MUST provide a mechanism to access the data on the application
shared storage from a host computer.</li>
<li>SHOULD expose content from both storage paths transparently through
Android’s media scanner service and <code translate="no" dir="ltr">android.provider.MediaStore</code>.</li>
<li>MAY use USB mass storage, but SHOULD use Media Transfer Protocol to satisfy
this requirement.</li>
</ul>

<p>If device implementations have a USB port with USB peripheral mode and support
Media Transfer Protocol, they:</p>

<ul>
<li>SHOULD be compatible with the reference Android MTP host,
<a href="http://www.android.com/filetransfer">Android File Transfer</a>.</li>
<li>SHOULD report a USB device class of 0x00.</li>
<li>SHOULD report a USB interface name of &#39;MTP&#39;.</li>
</ul>

<h4 id="763_adoptable_storage" data-text="7.6.3. Adoptable Storage">7.6.3. Adoptable Storage</h4>

<p>If the device is expected to be mobile in nature unlike Television,
device implementations are:</p>

<ul>
<li>[SR] STRONGLY RECOMMENDED to implement the adoptable storage in
a long-term stable location, since accidentally disconnecting them can
cause data loss/corruption.</li>
</ul>

<p>If the removable storage device port is in a long-term stable location,
such as within the battery compartment or other protective cover,
device implementations are:</p>

<ul>
<li>[SR] STRONGLY RECOMMENDED to implement
<a href="http://source.android.com/devices/storage/adoptable.html">adoptable storage</a>.</li>
</ul>

<h3 id="77_usb" data-text="7.7. USB">7.7. USB</h3>

<p>If device implementations have a USB port, they:</p>

<ul>
<li>SHOULD support USB peripheral mode and SHOULD support USB host mode.</li>
<li>SHOULD support disabling data signaling over USB.</li>
</ul>

<h4 id="771_usb_peripheral_mode" data-text="7.7.1. USB peripheral mode">7.7.1. USB peripheral mode</h4>

<p>If device implementations include a USB port supporting peripheral mode:</p>

<ul>
<li>[C-1-1] The port MUST be connectable to a USB host that has a standard
type-A or type-C USB port.</li>
<li>[C-1-2] MUST report the correct value of <code translate="no" dir="ltr">iSerialNumber</code> in USB standard
device descriptor through <code translate="no" dir="ltr">android.os.Build.SERIAL</code>.</li>
<li>[C-1-3]  MUST detect 1.5A and 3.0A chargers per the Type-C resistor
standard and MUST detect changes in the advertisement if they support
Type-C USB.</li>
<li>[SR] The port SHOULD use micro-B, micro-AB or Type-C USB form factor.
Existing and new Android devices are <strong>STRONGLY RECOMMENDED to meet these
requirements</strong> so they will be able to upgrade to the future platform releases.</li>
<li>[SR] The port SHOULD be located on the bottom of the device
(according to natural orientation) or enable software screen rotation for
all apps (including home screen), so that the display draws correctly when
the device is oriented with the port at bottom. Existing and new Android
devices are <strong>STRONGLY RECOMMENDED to meet these requirements</strong> so they will
be able to upgrade to future platform releases.</li>
<li>[SR] SHOULD implement support to draw 1.5 A current during HS chirp
and traffic as specified in the <a href="http://www.usb.org/developers/docs/devclass_docs/BCv1.2_070312.zip">USB Battery Charging specification, revision 1.2</a>.
Existing and new Android devices are <strong>STRONGLY RECOMMENDED to meet these
requirements</strong> so they will be able to upgrade to the future platform releases.</li>
<li>[SR] STRONGLY RECOMMENDED to not support proprietary
charging methods that modify Vbus voltage beyond default levels, or alter
sink/source roles as such may result in interoperability issues with the
chargers or devices that support the standard USB Power Delivery methods. While
this is called out as &quot;STRONGLY RECOMMENDED&quot;, in future Android versions we
might REQUIRE all type-C devices to support full interoperability with standard
type-C chargers.</li>
<li>[SR] STRONGLY RECOMMENDED to support Power Delivery for data and
power role swapping when they support Type-C USB and USB host mode.</li>
<li>SHOULD support Power Delivery for high-voltage charging and support for
Alternate Modes such as display out.</li>
<li>SHOULD implement the Android Open Accessory (AOA) API and specification as
documented in the Android SDK documentation.</li>
</ul>

<p>If device implementations include a USB port and implement the AOA
specification, they:</p>

<ul>
<li>[C-2-1] MUST declare support for the hardware feature
<a href="http://developer.android.com/guide/topics/connectivity/usb/accessory.html"><code translate="no" dir="ltr">android.hardware.usb.accessory</code></a>.</li>
<li>[C-2-2] The USB mass storage class MUST include the string &quot;android&quot; at the
end of the interface description <code translate="no" dir="ltr">iInterface</code> string of the USB mass storage</li>
<li>SHOULD NOT implement <a href="https://source.android.com/devices/accessories/aoa2#audio-support">AOAv2 audio</a>
documented in the Android Open Accessory Protocol 2.0 documentation. AOAv2 audio
is deprecated as of Android version 8.0 (API level 26).</li>
</ul>

<h4 id="772_usb_host_mode" data-text="7.7.2. USB host mode">7.7.2. USB host mode</h4>

<p>If device implementations include a USB port supporting host mode, they:</p>

<ul>
<li>[C-1-1] MUST implement the Android USB host API as documented in the
Android SDK and MUST declare support for the hardware feature
<a href="http://developer.android.com/guide/topics/connectivity/usb/host.html"><code translate="no" dir="ltr">android.hardware.usb.host</code></a>.</li>
<li>[C-1-2] MUST implement support to connect standard USB peripherals,
in other words, they MUST either:
<ul>
<li>Have an on-device type C port or ship with cable(s) adapting an on-device
proprietary port to a standard USB type-C port (USB Type-C device).</li>
<li>Have an on-device type A or ship with cable(s) adapting an on-device
proprietary port to a standard USB type-A port.</li>
<li>Have an on-device micro-AB port, which SHOULD ship with a cable adapting
to a standard type-A port.</li>
</ul></li>
<li>[C-1-3] MUST NOT ship with an adapter converting from USB type A or
micro-AB ports to a type-C port (receptacle).</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to implement the <a href="http://developer.android.com/reference/android/hardware/usb/UsbConstants.html#USB_CLASS_AUDIO">USB audio class</a>
as documented in the Android SDK documentation.</li>
<li>SHOULD support charging the connected USB peripheral device while in host
mode; advertising a source current of at least 1.5A as specified in the
Termination Parameters section of the
<a href="http://www.usb.org/developers/docs/usb_31_021517.zip">USB Type-C Cable and Connector Specification Revision 1.2</a> for USB Type-C
connectors or using Charging Downstream Port(CDP) output current range as
specified in the <a href="http://www.usb.org/developers/docs/devclass_docs/BCv1.2_070312.zip">USB Battery Charging specifications, revision 1.2</a>
for Micro-AB connectors.</li>
<li>SHOULD implement and support USB Type-C standards.</li>
</ul>

<p>If device implementations include a USB port supporting host mode and the USB
audio class, they:</p>

<ul>
<li>[C-2-1] MUST support the <a href="https://developer.android.com/reference/android/hardware/usb/UsbConstants.html#USB_CLASS_HID">USB HID class</a>.</li>
<li>[C-2-2] MUST support the detection and mapping of the following HID data
fields specified in the <a href="http://www.usb.org/developers/hidpage/Hut1_12v2.pdf">USB HID Usage Tables</a>
and the <a href="http://www.usb.org/developers/hidpage/Voice_Command_Usage.pdf">Voice Command Usage Request</a>
to the <a href="https://developer.android.com/reference/android/view/KeyEvent.html"><code translate="no" dir="ltr">KeyEvent</code></a>
constants as below:
<ul>
<li>Usage Page (0xC) Usage ID (0x0CD): <code translate="no" dir="ltr">KEYCODE_MEDIA_PLAY_PAUSE</code></li>
<li>Usage Page (0xC) Usage ID (0x0E9): <code translate="no" dir="ltr">KEYCODE_VOLUME_UP</code></li>
<li>Usage Page (0xC) Usage ID (0x0EA): <code translate="no" dir="ltr">KEYCODE_VOLUME_DOWN</code></li>
<li>Usage Page (0xC) Usage ID (0x0CF): <code translate="no" dir="ltr">KEYCODE_VOICE_ASSIST</code></li>
</ul></li>
</ul>

<p>If device implementations include a USB port supporting host mode and
the Storage Access Framework (SAF), they:</p>

<ul>
<li>[C-3-1] MUST recognize any remotely connected MTP (Media Transfer Protocol)
devices and make their contents accessible through the <code translate="no" dir="ltr">ACTION_GET_CONTENT</code>,
<code translate="no" dir="ltr">ACTION_OPEN_DOCUMENT</code>, and <code translate="no" dir="ltr">ACTION_CREATE_DOCUMENT</code> intents. .</li>
</ul>

<p>If device implementations include a USB port supporting host mode and USB
Type-C, they:</p>

<ul>
<li>[C-4-1] MUST implement Dual Role Port functionality as defined by the USB
Type-C specification (section 4.5.1.3.3).</li>
<li>[SR] STRONGLY RECOMMENDED to support DisplayPort, SHOULD support USB
SuperSpeed Data Rates, and are STRONGLY RECOMMENDED to support Power Delivery
for data and power role swapping.</li>
<li>[SR] STRONGLY RECOMMENDED to NOT support Audio Adapter Accessory Mode as
described in the Appendix A of the
<a href="http://www.usb.org/developers/docs/">USB Type-C Cable and Connector Specification Revision 1.2</a>.</li>
<li>SHOULD implement the Try.* model that is most appropriate for the
device form factor. For example a handheld device SHOULD implement the
Try.SNK model.</li>
</ul>

<h3 id="78_audio" data-text="7.8. Audio">7.8. Audio</h3>

<h4 id="781_microphone" data-text="7.8.1. Microphone">7.8.1. Microphone</h4>

<p>If device implementations include a microphone, they:</p>

<ul>
<li>[C-1-1] MUST report the <code translate="no" dir="ltr">android.hardware.microphone</code> feature constant.</li>
<li>[C-1-2] MUST meet the audio recording requirements in
<a href="#5_4_audio_recording">section 5.4</a>.</li>
<li>[C-1-3] MUST meet the audio latency requirements in
<a href="#5_6_audio_latency">section 5.6</a>.</li>
<li>[SR] Are STRONGLY RECOMMENDED to support near-ultrasound recording as described
in <a href="#7_8_3_near_ultrasound">section 7.8.3</a>.</li>
</ul>

<p>If device implementations omit a microphone, they:</p>

<ul>
<li>[C-2-1] MUST NOT report the <code translate="no" dir="ltr">android.hardware.microphone</code> feature constant.</li>
<li>[C-2-2] MUST implement the audio recording API at least as no-ops, per
 <a href="#7_hardware_compatibility">section 7</a>.</li>
</ul>

<h4 id="782_audio_output" data-text="7.8.2. Audio Output">7.8.2. Audio Output</h4>

<p>If device implementations include a speaker or an audio/multimedia output
port for an audio output peripheral such as a 4 conductor 3.5mm audio jack or
USB host mode port using <a href="https://source.android.com/devices/audio/usb#audioClass">USB audio class</a>, they:</p>

<ul>
<li>[C-1-1] MUST report the <code translate="no" dir="ltr">android.hardware.audio.output</code> feature constant.</li>
<li>[C-1-2] MUST meet the audio playback requirements in
<a href="#5_5_audio_playback">section 5.5</a>.</li>
<li>[C-1-3] MUST meet the audio latency requirements in
<a href="#5_6_audio_latency">section 5.6</a>.</li>
<li>[SR] STRONGLY RECOMMENDED to support near-ultrasound playback as described
in <a href="#7_8_3_near_ultrasound">section 7.8.3</a>.</li>
</ul>

<p>If device implementations do not include a speaker or audio output port, they:</p>

<ul>
<li>[C-2-1] MUST NOT report the <code translate="no" dir="ltr">android.hardware.audio.output</code> feature.</li>
<li>[C-2-2] MUST implement the Audio Output related APIs as no-ops at least.</li>
</ul>

<p>For the purposes of this section, an &quot;output port&quot; is a
<a href="https://en.wikipedia.org/wiki/Computer_port_%28hardware%29">physical interface</a>
such as a 3.5mm audio jack, HDMI, or USB host mode port with USB audio class.
Support for audio output over radio-based protocols such as Bluetooth,
WiFi, or cellular network does not qualify as including an &quot;output port&quot;.</p>

<h5 id="7821_analog_audio_ports" data-text="7.8.2.1. Analog Audio Ports">7.8.2.1. Analog Audio Ports</h5>

<p>In order to be compatible with the <a href="https://source.android.com/devices/accessories/headset/plug-headset-spec">headsets and other audio accessories</a>
using the 3.5mm audio plug across the Android ecosystem, if device
implementations include one or more analog audio ports, they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to include at least one of the
audio port(s) to be a 4 conductor 3.5mm audio jack.</li>
</ul>

<p>If device implementations have a 4 conductor 3.5mm audio jack, they:</p>

<ul>
<li>[C-1-1] MUST support audio playback to stereo headphones and stereo headsets
with a microphone.</li>
<li>[C-1-2] MUST support TRRS audio plugs with the CTIA pin-out order.</li>
<li>[C-1-3] MUST support the detection and mapping to the keycodes for the
following 3 ranges of equivalent impedance between the microphone and ground
conductors on the audio plug:
<ul>
<li><strong>70 ohm or less</strong>: <code translate="no" dir="ltr">KEYCODE_HEADSETHOOK</code></li>
<li><strong>210-290 ohm</strong>: <code translate="no" dir="ltr">KEYCODE_VOLUME_UP</code></li>
<li><strong>360-680 ohm</strong>: <code translate="no" dir="ltr">KEYCODE_VOLUME_DOWN</code></li>
</ul></li>
<li>[C-1-4] MUST trigger <code translate="no" dir="ltr">ACTION_HEADSET_PLUG</code> upon a plug insert, but
only after all contacts on plug are touching their relevant segments
on the jack.</li>
<li>[C-1-5] MUST be capable of driving at least 150mV ± 10% of output voltage on
a 32 ohm speaker impedance.</li>
<li>[C-1-6] MUST have a microphone bias voltage between 1.8V ~ 2.9V.</li>
<li>[C-1-7] MUST detect and map to the keycode for the following
range of equivalent impedance between the microphone and ground conductors
on the audio plug:
<ul>
<li><strong>110-180 ohm:</strong> <code translate="no" dir="ltr">KEYCODE_VOICE_ASSIST</code></li>
</ul></li>
<li>[C-SR] Are STRONGLY RECOMMENDED to support audio plugs with the OMTP
pin-out order.</li>
<li>[C-SR] Are STRONGLY RECOMMEND to support audio recording from stereo
headsets with a microphone.</li>
</ul>

<p>If device implementations have a 4 conductor 3.5mm audio jack and support a
microphone, and broadcast the <code translate="no" dir="ltr">android.intent.action.HEADSET_PLUG</code> with the
extra value microphone set as 1, they:</p>

<ul>
<li>[C-2-1] MUST support the detection of microphone on the plugged in audio
accessory.</li>
</ul>

<h5 id="7822_digital_audio_ports" data-text="7.8.2.2. Digital Audio Ports">7.8.2.2. Digital Audio Ports</h5>

<p>In order to be compatible with the headsets and other audio accessories using
USB-C connectors and implementing (USB audio class) across the Android ecosystem
as defined in <a href="https://source.android.com/devices/accessories/headset/usb-device">Android USB headset specification</a>.</p>

<p>See Section <a href="#2_2_1_hardware">2.2.1</a> for device-specific requirements.</p>

<h4 id="783_near-ultrasound" data-text="7.8.3. Near-Ultrasound">7.8.3. Near-Ultrasound</h4>

<p>Near-Ultrasound audio is the 18.5 kHz to 20 kHz band.</p>

<p>Device implementations:</p>

<ul>
<li>MUST correctly report the support of
near-ultrasound audio capability via the <a href="http://developer.android.com/reference/android/media/AudioManager.html#getProperty%28java.lang.String%29">AudioManager.getProperty</a>
API as follows:</li>
</ul>

<p>If <a href="http://developer.android.com/reference/android/media/AudioManager.html#PROPERTY_SUPPORT_MIC_NEAR_ULTRASOUND"><code translate="no" dir="ltr">PROPERTY_SUPPORT_MIC_NEAR_ULTRASOUND</code></a>
is &quot;true&quot;, the following requirements MUST be met by the
<code translate="no" dir="ltr">VOICE_RECOGNITION</code> and <code translate="no" dir="ltr">UNPROCESSED</code> audio sources:</p>

<ul>
<li>[C-1-1] The microphone&#39;s mean power response in the 18.5 kHz to 20 kHz band
 MUST be no more than 15 dB below the response at 2 kHz.</li>
<li>[C-1-2] The microphone&#39;s unweighted signal to noise ratio over 18.5 kHz to 20 kHz
 for a 19 kHz tone at -26 dBFS MUST be no lower than 50 dB.</li>
</ul>

<p>If <a href="http://developer.android.com/reference/android/media/AudioManager.html#PROPERTY_SUPPORT_SPEAKER_NEAR_ULTRASOUND"><code translate="no" dir="ltr">PROPERTY_SUPPORT_SPEAKER_NEAR_ULTRASOUND</code></a>
is &quot;true&quot;:</p>

<ul>
<li>[C-2-1] The speaker&#39;s mean response in 18.5 kHz - 20 kHz MUST be no lower than 40 dB below the response at 2 kHz.</li>
</ul>

<h4 id="784_signal_integrity" data-text="7.8.4. Signal Integrity">7.8.4. Signal Integrity</h4>

<p>Device implementations:
*   SHOULD provide a glitch-free audio signal path for both input
    and output streams on handheld devices, as defined by zero glitches
    measured during a test of one minute per path.
    Test using <a href="https://github.com/google/oboe/tree/master/apps/OboeTester">OboeTester</a>
    “Automated Glitch Test”.</p>

<p>The test requires an <a href="https://source.android.com/devices/audio/latency/loopback">audio loopback dongle</a>,
used directly in a 3.5mm jack, and/or in combination with a USB-C to 3.5mm adapter.
All audio output ports SHOULD be tested.</p>

<p>OboeTester currently supports AAudio paths, so the
following combinations SHOULD be tested for glitches using AAudio:</p>

<table>
 <tr>
  <th>Perf Mode
  <th>Sharing
  <th>Out Sample Rate
  <th>In Chans
  <th>Out Chans
 </tr>
 <tr>
  <td>LOW_LATENCY</td>
  <td>EXCLUSIVE</td>
  <td>UNSPECIFIED</td>
  <td>1</td>
  <td>2</td>
 </tr>
 <tr>
  <td>LOW_LATENCY</td>
  <td>EXCLUSIVE</td>
  <td>UNSPECIFIED</td>
  <td>2</td>
  <td>1</td>
 </tr>
 <tr>
  <td>LOW_LATENCY</td>
  <td>SHARED</td>
  <td>UNSPECIFIED</td>
  <td>1</td>
  <td>2</td>
 </tr>
 <tr>
  <td>LOW_LATENCY</td>
  <td>SHARED</td>
  <td>UNSPECIFIED</td>
  <td>2</td>
  <td>1</td>
 </tr>
 <tr>
  <td>NONE</td>
  <td>SHARED</td>
  <td>48000</td>
  <td>1</td>
  <td>2</td>
 </tr>
 <tr>
  <td>NONE</td>
  <td>SHARED</td>
  <td>48000</td>
  <td>2</td>
  <td>1</td>
 </tr>
 <tr>
  <td>NONE</td>
  <td>SHARED</td>
  <td>44100</td>
  <td>1</td>
  <td>2</td>
 </tr>
 <tr>
  <td>NONE</td>
  <td>SHARED</td>
  <td>44100</td>
  <td>2</td>
  <td>1</td>
 </tr>
 <tr>
  <td>NONE</td>
  <td>SHARED</td>
  <td>16000</td>
  <td>1</td>
  <td>2</td>
 </tr>
 <tr>
  <td>NONE</td>
  <td>SHARED</td>
  <td>16000</td>
  <td>2</td>
  <td>1</td>
 </tr>
</table>

<p>A reliable stream SHOULD meet the following criteria for Signal to Noise
Ratio (SNR) and Total Harmonic Distortion (THD) for 2000 Hz sine.</p>

<table>
 <tr>
  <th>Transducer</th>
  <th>THD</th>
  <th>SNR</th>
 </tr>
 <tr>
  <td>primary built-in speaker, measured using an external reference microphone</td>
  <td>&lt; 3.0%</td>
  <td>&gt;= 50 dB</td>
 </tr>
 <tr>
  <td>primary built-in microphone, measured using an external reference speaker</td>
  <td>&lt; 3.0%</td>
  <td>&gt;= 50 dB</td>
 </tr>
 <tr>
  <td>built-in analog 3.5 mm jacks, tested using loopback adapter</td>
  <td>&lt; 1%</td>
  <td>&gt;= 60 dB</td>
 </tr>
 <tr>
  <td>USB adapters supplied with the phone, tested using loopback adapter</td>
  <td>&lt; 1.0%</td>
  <td>&gt;= 60 dB</td>
 </tr>
</table>

<h3 id="79_virtual_reality" data-text="7.9. Virtual Reality">7.9. Virtual Reality</h3>

<p>Android includes APIs and facilities to build &quot;Virtual Reality&quot; (VR)
applications including high quality mobile VR experiences. Device
implementations MUST properly implement these APIs and behaviors,
as detailed in this section.</p>

<h4 id="791_virtual_reality_mode" data-text="7.9.1. Virtual Reality Mode">7.9.1. Virtual Reality Mode</h4>

<p>Android includes support for <a href="https://developer.android.com/reference/android/app/Activity.html#setVrModeEnabled%28boolean,%20android.content.ComponentName%29">VR Mode</a>,
a feature which handles stereoscopic rendering of notifications and disables
monocular system UI components while a VR application has user focus.</p>

<h4 id="792_virtual_reality_mode_-_high_performance" data-text="7.9.2. Virtual Reality Mode - High Performance">7.9.2. Virtual Reality Mode - High Performance</h4>

<p>If device implementations support VR mode, they:</p>

<ul>
<li>[C-1-1] MUST have at least 2 physical cores.</li>
<li>[C-1-2] MUST declare the <code translate="no" dir="ltr">android.hardware.vr.high_performance</code> feature.</li>
<li>[C-1-3] MUST support sustained performance mode.</li>
<li>[C-1-4] MUST support OpenGL ES 3.2.</li>
<li>[C-1-5] MUST support <code translate="no" dir="ltr">android.hardware.vulkan.level</code> 0.</li>
<li>SHOULD support <code translate="no" dir="ltr">android.hardware.vulkan.level</code> 1 or higher.</li>
<li>[C-1-6] MUST implement
<a href="https://www.khronos.org/registry/EGL/extensions/KHR/EGL_KHR_mutable_render_buffer.txt"><code translate="no" dir="ltr">EGL_KHR_mutable_render_buffer</code></a>,
<a href="https://www.khronos.org/registry/EGL/extensions/ANDROID/EGL_ANDROID_front_buffer_auto_refresh.txt"><code translate="no" dir="ltr">EGL_ANDROID_front_buffer_auto_refresh</code></a>,
<a href="https://www.khronos.org/registry/EGL/extensions/ANDROID/EGL_ANDROID_get_native_client_buffer.txt"><code translate="no" dir="ltr">EGL_ANDROID_get_native_client_buffer</code></a>,
<a href="https://www.khronos.org/registry/EGL/extensions/KHR/EGL_KHR_fence_sync.txt"><code translate="no" dir="ltr">EGL_KHR_fence_sync</code></a>,
<a href="https://www.khronos.org/registry/EGL/extensions/KHR/EGL_KHR_wait_sync.txt"><code translate="no" dir="ltr">EGL_KHR_wait_sync</code></a>,
<a href="https://www.khronos.org/registry/EGL/extensions/IMG/EGL_IMG_context_priority.txt"><code translate="no" dir="ltr">EGL_IMG_context_priority</code></a>,
<a href="https://www.khronos.org/registry/EGL/extensions/EXT/EGL_EXT_protected_content.txt"><code translate="no" dir="ltr">EGL_EXT_protected_content</code></a>,
<a href="https://www.khronos.org/registry/EGL/extensions/EXT/EGL_EXT_image_gl_colorspace.txt"><code translate="no" dir="ltr">EGL_EXT_image_gl_colorspace</code></a>,
and expose the extensions in the list of available EGL extensions.</li>
<li>[C-1-8] MUST implement
<a href="https://www.khronos.org/registry/OpenGL/extensions/EXT/EXT_multisampled_render_to_texture2.txt"><code translate="no" dir="ltr">GL_EXT_multisampled_render_to_texture2</code></a>,
<a href="https://www.khronos.org/registry/OpenGL/extensions/OVR/OVR_multiview.txt"><code translate="no" dir="ltr">GL_OVR_multiview</code></a>,
<a href="https://www.khronos.org/registry/OpenGL/extensions/OVR/OVR_multiview2.txt"><code translate="no" dir="ltr">GL_OVR_multiview2</code></a>,
<a href="https://www.khronos.org/registry/OpenGL/extensions/OVR/OVR_multiview_multisampled_render_to_texture.txt"><code translate="no" dir="ltr">GL_OVR_multiview_multisampled_render_to_texture</code></a>,
<a href="https://www.khronos.org/registry/OpenGL/extensions/EXT/EXT_protected_textures.txt"><code translate="no" dir="ltr">GL_EXT_protected_textures</code></a>,
and expose the extensions in the list of available GL extensions.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to implement
<a href="https://www.khronos.org/registry/OpenGL/extensions/EXT/EXT_external_buffer.txt"><code translate="no" dir="ltr">GL_EXT_external_buffer</code></a>,
<a href="https://www.khronos.org/registry/OpenGL/extensions/EXT/EXT_EGL_image_array.txt"><code translate="no" dir="ltr">GL_EXT_EGL_image_array</code></a>,
and expose the extensions in the list of available GL extensions.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to support Vulkan 1.1.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to implement
<a href="https://www.khronos.org/registry/vulkan/specs/1.1-extensions/html/vkspec.html#VK_ANDROID_external_memory_android_hardware_buffer"><code translate="no" dir="ltr">VK_ANDROID_external_memory_android_hardware_buffer</code></a>,
<a href="https://www.khronos.org/registry/vulkan/specs/1.1-extensions/html/vkspec.html#VK_GOOGLE_display_timing"><code translate="no" dir="ltr">VK_GOOGLE_display_timing</code></a>,
<a href="https://www.khronos.org/registry/vulkan/specs/1.1-extensions/html/vkspec.html#VK_KHR_shared_presentable_image"><code translate="no" dir="ltr">VK_KHR_shared_presentable_image</code></a>,
and expose it in the list of available Vulkan extensions.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to expose at least one Vulkan queue family where <code translate="no" dir="ltr">flags</code>
contain both <code translate="no" dir="ltr">VK_QUEUE_GRAPHICS_BIT</code> and <code translate="no" dir="ltr">VK_QUEUE_COMPUTE_BIT</code>,
and <code translate="no" dir="ltr">queueCount</code> is at least 2.</li>
<li>[C-1-7] The GPU and display MUST be able to synchronize access to the shared
front buffer such that alternating-eye rendering of VR content at 60fps with two
render contexts will be displayed with no visible tearing artifacts.</li>
<li>[C-1-9] MUST implement support for <a href="https://developer.android.com/ndk/reference/hardware__buffer_8h.html"><code translate="no" dir="ltr">AHardwareBuffer</code></a>
flags <code translate="no" dir="ltr">AHARDWAREBUFFER_USAGE_GPU_DATA_BUFFER</code>,
<code translate="no" dir="ltr">AHARDWAREBUFFER_USAGE_SENSOR_DIRECT_DATA</code> and
<code translate="no" dir="ltr">AHARDWAREBUFFER_USAGE_PROTECTED_CONTENT</code>
as described in the NDK.</li>
<li>[C-1-10] MUST implement support for <code translate="no" dir="ltr">AHardwareBuffer</code>s with any
combination of the usage flags
<code translate="no" dir="ltr">AHARDWAREBUFFER_USAGE_GPU_COLOR_OUTPUT</code>,
<code translate="no" dir="ltr">AHARDWAREBUFFER_USAGE_GPU_SAMPLED_IMAGE</code>,
<code translate="no" dir="ltr">AHARDWAREBUFFER_USAGE_PROTECTED_CONTENT</code>
for at least the following formats:
<code translate="no" dir="ltr">AHARDWAREBUFFER_FORMAT_R5G6B5_UNORM</code>,
<code translate="no" dir="ltr">AHARDWAREBUFFER_FORMAT_R8G8B8A8_UNORM</code>,
<code translate="no" dir="ltr">AHARDWAREBUFFER_FORMAT_R10G10B10A2_UNORM</code>,
<code translate="no" dir="ltr">AHARDWAREBUFFER_FORMAT_R16G16B16A16_FLOAT</code>.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to support the allocation of <code translate="no" dir="ltr">AHardwareBuffer</code>s
with more than one layer and flags and formats specified in C-1-10.</li>
<li>[C-1-11] MUST support H.264 decoding at least 3840 x 2160 at 30fps,
compressed to an average of 40Mbps (equivalent to 4 instances of
1920 x1080 at 30 fps-10 Mbps or 2 instances of 1920 x 1080 at 60 fps-20 Mbps).</li>
<li>[C-1-12] MUST support HEVC and VP9, MUST be capable of decoding at least
1920 x 1080 at 30 fps compressed to an average of 10 Mbps and SHOULD be
capable of decoding 3840 x 2160 at 30 fps-20 Mbps (equivalent to
4 instances of 1920 x 1080 at 30 fps-5 Mbps).</li>
<li>[C-1-13] MUST support <code translate="no" dir="ltr">HardwarePropertiesManager.getDeviceTemperatures</code> API
and return accurate values for skin temperature.</li>
<li>[C-1-14] MUST have an embedded screen, and its resolution MUST be at least
1920 x 1080.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to have a display resolution of at least
2560 x 1440.</li>
<li>[C-1-15] The display MUST update at least 60 Hz while in VR Mode.</li>
<li>[C-1-17] The display MUST support a low-persistence mode with ≤ 5 milliseconds
persistence, persistence being defined as the amount of time for
which a pixel is emitting light.</li>
<li>[C-1-18] MUST support Bluetooth 4.2 and Bluetooth LE Data Length Extension
<a href="#7_4_3_bluetooth">section 7.4.3</a>.</li>
<li>[C-1-19] MUST support and properly report
<a href="https://developer.android.com/reference/android/hardware/Sensor#isDirectChannelTypeSupported%28int%29">Direct Channel Type</a>
for all of the following default sensor types:
<ul>
<li><code translate="no" dir="ltr">TYPE_ACCELEROMETER</code></li>
<li><code translate="no" dir="ltr">TYPE_ACCELEROMETER_UNCALIBRATED</code></li>
<li><code translate="no" dir="ltr">TYPE_GYROSCOPE</code></li>
<li><code translate="no" dir="ltr">TYPE_GYROSCOPE_UNCALIBRATED</code></li>
<li><code translate="no" dir="ltr">TYPE_MAGNETIC_FIELD</code></li>
<li><code translate="no" dir="ltr">TYPE_MAGNETIC_FIELD_UNCALIBRATED</code></li>
</ul></li>
<li>[C-SR] Are STRONGLY RECOMMENDED to support the
<a href="https://developer.android.com/reference/android/hardware/SensorDirectChannel.html#TYPE_HARDWARE_BUFFER"><code translate="no" dir="ltr">TYPE_HARDWARE_BUFFER</code></a>
direct channel type for all Direct Channel Types listed above.</li>
<li>[C-1-21] MUST meet the gyroscope, accelerometer, and magnetometer related
requirements for <code translate="no" dir="ltr">android.hardware.hifi_sensors</code>, as specified in
<a href="#7_3_9_high_fidelity_sensors">section 7.3.9</a>.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to support the
<code translate="no" dir="ltr">android.hardware.sensor.hifi_sensors</code> feature.</li>
<li>[C-1-22] MUST have end-to-end motion to photon latency not higher than
28 milliseconds.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to have end-to-end motion to photon latency
not higher than 20 milliseconds.</li>
<li>[C-1-23] MUST have first-frame ratio, which is the ratio between the
brightness of pixels on the first frame after a transition from black to
white and the brightness of white pixels in steady state, of at least 85%.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to have first-frame ratio of at least 90%.</li>
<li>MAY provide an exclusive core to the foreground
application and MAY support the <code translate="no" dir="ltr">Process.getExclusiveCores</code> API to return
the numbers of the cpu cores that are exclusive to the top foreground
application.</li>
</ul>

<p>If exclusive core is supported, then the core:</p>

<ul>
<li>[C-2-1] MUST not allow any other userspace processes to run on it
(except device drivers used by the application), but MAY allow some kernel
processes to run as necessary.</li>
</ul>

<h3 id="710_haptics" data-text="7.10. Haptics">7.10. Haptics</h3>

<p>See Section <a href="#2_2_1_hardware">2.2.1</a> for device-specific requirements.</p>

<h2 id="8_performance_and_power" data-text="8. Performance and Power">8. Performance and Power</h2>

<p>Some minimum performance and power criteria are critical to the user experience
and impact the baseline assumptions developers would have when developing an
app.</p>

<h3 id="81_user_experience_consistency" data-text="8.1. User Experience Consistency">8.1. User Experience Consistency</h3>

<p>A smooth user interface can be provided to the end user if there are certain
minimum requirements to ensure a consistent frame rate and response times for
applications and games. Device implementations, depending on the device type,
MAY have measurable requirements for the user interface latency and task
switching as described in <a href="#2_device-types">section 2</a>.</p>

<h3 id="82_file_io_access_performance" data-text="8.2. File I/O Access Performance">8.2. File I/O Access Performance</h3>

<p>Providing a common baseline for a consistent file access performance on the
application private data storage (<code translate="no" dir="ltr">/data</code> partition) allows app developers
to set a proper expectation that would help their software design. Device
implementations, depending on the device type, MAY have certain requirements
described in <a href="#2_device-type">section 2</a> for the following read
and write operations:</p>

<ul>
<li><strong>Sequential write performance</strong>. Measured by writing a 256MB file using
10MB write buffer.</li>
<li><strong>Random write performance</strong>. Measured by writing a 256MB file using 4KB
write buffer.</li>
<li><strong>Sequential read performance</strong>. Measured by reading a 256MB file using
10MB write buffer.</li>
<li><strong>Random read performance</strong>. Measured by reading a 256MB file using 4KB
write buffer.</li>
</ul>

<h3 id="83_power-saving_modes" data-text="8.3. Power-Saving Modes">8.3. Power-Saving Modes</h3>

<p>If device implementations include features to improve device power management
that are included in AOSP (e.g. App Standby Bucket, Doze) or extend the features
to apply stronger restrictions than <a href="https://developer.android.com/topic/performance/power/power-details">the RESTRICTED App Standby Bucket</a>, they:</p>

<ul>
<li>[C-1-1] MUST NOT deviate from the AOSP implementation for the triggering,
maintenance, wakeup algorithms and the use of global system settings or
<a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/provider/DeviceConfig.java">DeviceConfig</a>
of App Standby and Doze power-saving modes.</li>
<li>[C-1-2] MUST NOT deviate from the AOSP implementation for the use of global
settings or DeviceConfig to manage the throttling of jobs, alarm and
network for apps in each bucket for App standby.</li>
<li>[C-1-3] MUST NOT deviate from the AOSP implementation for the number of the
<a href="https://developer.android.com/topic/performance/appstandby">App Standby Buckets</a> used for App
Standby.</li>
<li>[C-1-4] MUST implement <a href="https://developer.android.com/topic/performance/appstandby">App Standby Buckets</a> and Doze as
described in <a href="https://source.android.com/devices/tech/power/mgmt">Power Management</a>.</li>
<li>[C-1-5] MUST return <code translate="no" dir="ltr">true</code> for <a href="https://developer.android.com/reference/android/os/PowerManager#isPowerSaveMode%28%29"><code translate="no" dir="ltr">PowerManager.isPowerSaveMode()</code></a>
when the device is on power save mode.</li>
<li>[C-1-6] MUST provide user affordance to display all apps that are exempted
from App Standby and Doze power-saving modes or any battery optimizations
and MUST implement the <a href="https://developer.android.com/reference/android/provider/Settings#ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS">ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS</a>
intent to ask the user to allow an app to ignore battery
optimizations.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to provide user affordance to enable and
disable the battery saver feature.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to provide user affordance to display all
apps that are exempted from App Standby and Doze power-saving modes.</li>
</ul>

<p>If device implementations extend power management features that are included
in AOSP and that extension applies more stringent restrictions than
<a href="https://developer.android.com/topic/performance/power/power-details">the Rare App Standby Bucket</a>, refer to
<a href="#3_5_api-behavioral-compatibility">section 3.5.1</a>.</p>

<p>In addition to the power-saving modes, Android device implementations MAY
implement any or all of the 4 sleeping power states as defined by the Advanced
Configuration and Power Interface (ACPI).</p>

<p>If device implementations implement S4 power states as defined by the
ACPI, they:</p>

<ul>
<li>[C-1-1] MUST enter this state only after the user has taken an explicit action
to put the device in an inactive state (e.g. by closing a lid that is physically
part of the device or turning off a vehicle or television) and before the
user re-activates the device (e.g. by opening the lid or turning the vehicle
or television back on).</li>
</ul>

<p>If device implementations implement S3 power states as defined by the
ACPI, they:</p>

<ul>
<li><p>[C-2-1] MUST meet C-1-1 above, or, MUST enter S3 state only when third-party
applications do not need the system resources (e.g. the screen, CPU).</p>

<p>Conversely, MUST exit from S3 state when third-party applications need the
system resources, as described on this SDK.</p>

<p>For example, while the third-party applications request to keep the screen
on through <code translate="no" dir="ltr">FLAG_KEEP_SCREEN_ON</code> or keep CPU running through
<code translate="no" dir="ltr">PARTIAL_WAKE_LOCK</code>, the device MUST NOT enter S3 state unless, as described
in C-1-1, the user has taken explicit action to put the device in an
inactive state. Conversely, at a time when a task that third-party apps
implement through JobScheduler is triggered or Firebase Cloud Messaging is
delivered to third-party apps, the device MUST exit the S3 state unless the
user has put the device in an inactive state. These are not comprehensive
examples and AOSP implements extensive wake-up signals that trigger a wakeup
from this state.</p></li>
</ul>

<h3 id="84_power_consumption_accounting" data-text="8.4. Power Consumption Accounting">8.4. Power Consumption Accounting</h3>

<p>A more accurate accounting and reporting of the power consumption provides the
app developer both the incentives and the tools to optimize the power usage
pattern of the application.</p>

<p>Device implementations:</p>

<ul>
<li>[SR] STRONGLY RECOMMENDED to provide a per-component power profile
that defines the <a href="http://source.android.com/devices/tech/power/values.html">current consumption value</a>
for each hardware component and the approximate battery drain caused by the
components over time as documented in the Android Open Source Project site.</li>
<li>[SR] STRONGLY RECOMMENDED to report all power consumption values in milliampere
hours (mAh).</li>
<li>[SR] STRONGLY RECOMMENDED to report CPU power consumption per each process&#39;s UID.
The Android Open Source Project meets the requirement through the
<code translate="no" dir="ltr">uid_cputime</code> kernel module implementation.</li>
<li>[SR] STRONGLY RECOMMENDED to make this power usage available via the
<a href="http://source.android.com/devices/tech/power/batterystats.html"><code translate="no" dir="ltr">adb shell dumpsys batterystats</code></a>
shell command to the app developer.</li>
<li>SHOULD be attributed to the hardware component itself if unable to
attribute hardware component power usage to an application.</li>
</ul>

<h3 id="85_consistent_performance" data-text="8.5. Consistent Performance">8.5. Consistent Performance</h3>

<p>Performance can fluctuate dramatically for high-performance long-running apps,
either because of the other apps running in the background or the CPU throttling
due to temperature limits. Android includes programmatic interfaces so that when
the device is capable, the top foreground application can request that the
system optimize the allocation of the resources to address such fluctuations.</p>

<p>Device implementations:</p>

<ul>
<li><p>[C-0-1] MUST report the support of Sustained Performance Mode accurately
through the <a href="https://developer.android.com/reference/android/os/PowerManager.html#isSustainedPerformanceModeSupported%28%29"><code translate="no" dir="ltr">PowerManager.isSustainedPerformanceModeSupported()</code></a>
API method.</p></li>
<li><p>SHOULD support Sustained Performance Mode.</p></li>
</ul>

<p>If device implementations report support of Sustained Performance Mode, they:</p>

<ul>
<li>[C-1-1] MUST provide the top foreground application a consistent level of
performance for at least 30 minutes, when the app requests it.</li>
<li>[C-1-2] MUST honor the <a href="https://developer.android.com/reference/android/view/Window.html#setSustainedPerformanceMode%28boolean%29"><code translate="no" dir="ltr">Window.setSustainedPerformanceMode()</code></a>
API and other related APIs.</li>
</ul>

<p>If device implementations include two or more CPU cores, they:</p>

<ul>
<li>SHOULD provide at least one exclusive core that can be reserved by the top
foreground application.</li>
</ul>

<p>If device implementations support reserving one exclusive core for the top
foreground application, they:</p>

<ul>
<li>[C-2-1] MUST report through the <a href="https://developer.android.com/reference/android/os/Process.html#getExclusiveCores%28%29"><code translate="no" dir="ltr">Process.getExclusiveCores()</code></a>
 API method the ID numbers of the exclusive cores that can be reserved
 by the top foreground application.</li>
<li>[C-2-2] MUST not allow any user space processes except the device drivers
 used by the application to run on the exclusive cores, but MAY allow some
 kernel processes to run as necessary.</li>
</ul>

<p>If device implementations do not support an exclusive core, they:</p>

<ul>
<li>[C-3-1] MUST return an empty list through the
<a href="https://developer.android.com/reference/android/os/Process.html#getExclusiveCores%28%29"><code translate="no" dir="ltr">Process.getExclusiveCores()</code></a>
 API method.</li>
</ul>

<h2 id="9_security_model_compatibility" data-text="9. Security Model Compatibility">9. Security Model Compatibility</h2>

<p>Device implementations:</p>

<ul>
<li><p>[C-0-1] MUST implement a security model consistent
with the Android platform security model as defined in <a href="http://developer.android.com/guide/topics/security/permissions.html">Security and Permissions reference document</a>
in the APIs in the Android developer documentation.</p></li>
<li><p>[C-0-2] MUST support installation of self-signed
applications without requiring any additional permissions/certificates from any
third parties/authorities.</p></li>
</ul>

<p>If device implementations declare the <code translate="no" dir="ltr">android.hardware.security.model.compatible</code>
feature, they:</p>

<ul>
<li>[C-1-1] MUST support the requirements listed in the following subsections.</li>
</ul>

<h3 id="91_permissions" data-text="9.1. Permissions">9.1. Permissions</h3>

<p>Device implementations:</p>

<ul>
<li><p>[C-0-1] MUST support the <a href="http://developer.android.com/guide/topics/security/permissions.html">Android permissions model</a> and
the <a href="https://developer.android.com/reference/android/app/role/RoleManager">Android Roles Model</a> 
as defined in the Android developer documentation. Specifically, they
MUST enforce each permission and role defined as described in the
SDK documentation; no permissions and no roles may be omitted, altered,
or ignored.</p></li>
<li><p>MAY add additional permissions, provided the new permission ID strings
are not in the <code translate="no" dir="ltr">android.\*</code> namespace.</p></li>
<li><p>[C-0-2] Permissions with a <code translate="no" dir="ltr">protectionLevel</code> of
<a href="https://developer.android.com/reference/android/content/pm/PermissionInfo.html#PROTECTION&amp;lowbar;FLAG&amp;lowbar;PRIVILEGED"><code translate="no" dir="ltr">PROTECTION_FLAG_PRIVILEGED</code></a>
MUST only be granted to apps preinstalled in the privileged path(s) of the system
image and within the subset of the explicitly allowlisted permissions for each
app. The AOSP implementation meets this requirement by reading and honoring
the allowlisted permissions for each app from the files in the
<code translate="no" dir="ltr">etc/permissions/</code> path and using the <code translate="no" dir="ltr">system/priv-app</code> path as the
privileged path.</p></li>
</ul>

<p>Permissions with a protection level of dangerous are runtime permissions.
Applications with <code translate="no" dir="ltr">targetSdkVersion</code> &gt; 22 request them at runtime.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-3] MUST show a dedicated interface for the user to decide
 whether to grant the requested runtime permissions and also provide
 an interface for the user to manage runtime permissions.</li>
<li>[C-0-4] MUST have one and only one implementation of both user
 interfaces.</li>
<li>[C-0-5] MUST NOT grant any runtime permissions to preinstalled
 apps unless:
<ul>
<li>The user&#39;s consent can be obtained before the application
 uses it.</li>
<li>The runtime permissions are associated with an intent pattern
 for which the preinstalled application is set as the default handler.</li>
</ul></li>
<li>[C-0-6] MUST grant the <code translate="no" dir="ltr">android.permission.RECOVER_KEYSTORE</code> permission
 only to system apps that register a properly secured Recovery Agent. A
 properly secured Recovery Agent is defined as an on-device software agent
 that synchronizes with an off-device remote storage, that is equipped with
 secure hardware with protection equivalent or stronger than what is
 described in
 <a href="https://developer.android.com/preview/features/security/ckv-whitepaper.html">Google Cloud Key Vault Service</a>
 to prevent brute-force attacks on the lockscreen knowledge factor.</li>
</ul>

<p>Device implementations:</p>

<ul>
<li><p>[C-0-7] MUST adhere to <a href="https://developer.android.com/privacy/device-location">Android location permission</a> properties when an app
requests the location or physical activity data through standard Android API
or proprietary mechanism. Such data includes but not limited to:</p>

<ul>
<li>Device&#39;s location (e.g. latitude and longitude) as described in
<a href="#9_8_8_location">section 9.8.8</a>.</li>
<li>Information that can be used to determine or estimate the device&#39;s
location (e.g. SSID, BSSID, Cell ID, or location of the network that the
device is connected to).</li>
<li>User&#39;s physical activity or classification of the physical activity.</li>
</ul></li>
</ul>

<p>More specifically, device implementations:</p>
<pre class="prettyprint" translate="no" dir="ltr"><code translate="no" dir="ltr">    *   [C-0-8] MUST obtain user consent to allow an app to access the
        location or physical activity data.
    *   [C-0-9] MUST grant a runtime permission ONLY to the app that holds
        sufficient permission as described on SDK.
        For example,
</code></pre>
<p><a href="https://developer.android.com/reference/android/telephony/TelephonyManager.html#getAllCellInfo()">TelephonyManager#getServiceState</a>
            requires <code translate="no" dir="ltr">android.permission.ACCESS_FINE_LOCATION</code>).</p>

<p>The only exceptions to the Android location permission properties above are for
apps not accessing Location to derive or identify user location; specifically:</p>

<ul>
<li>When apps hold the <code translate="no" dir="ltr">RADIO_SCAN_WITHOUT_LOCATION</code> permission.</li>
<li>For device configuration and setup purposes, where system apps hold the
<code translate="no" dir="ltr">NETWORK_SETTINGS</code> or <code translate="no" dir="ltr">NETWORK_SETUP_WIZARD</code> permission.</li>
</ul>

<p>Permissions can be marked as restricted altering their behavior.</p>

<ul>
<li><p>[C-0-10] Permissions marked with the flag <code translate="no" dir="ltr">hardRestricted</code> MUST NOT be
 granted to an app unless:</p>

<ul>
<li>An app APK file is in the system partition.</li>
<li>The user assigns a role that is associated with the <code translate="no" dir="ltr">hardRestricted</code>
 permissions to an app.</li>
<li>The installer grants the <code translate="no" dir="ltr">hardRestricted</code> to an app.</li>
<li>An app is granted the <code translate="no" dir="ltr">hardRestricted</code> on an earlier Android version.</li>
</ul></li>
<li><p>[C-0-11] Apps holding a <code translate="no" dir="ltr">softRestricted</code> permission MUST get only limited
access and MUST NOT gain full access until whitelisted as described in the
SDK, where full and limited access is defined for each <code translate="no" dir="ltr">softRestricted</code>
permission (for example, <a href="https://developer.android.com/reference/android/Manifest.permission#READ_EXTERNAL_STORAGE"><code translate="no" dir="ltr">READ_EXTERNAL_STORAGE</code></a>).</p></li>
<li><p>[C-0-12] MUST NOT provide any custom functions or APIs to bypass the
permission restrictions defined in <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#setPermissionPolicy(android.content.ComponentName,%20int)">setPermissionPolicy</a>
and <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#setPermissionGrantState(android.content.ComponentName,%20java.lang.String,%20java.lang.String,%20int)">setPermissionGrantState</a>
APIs.</p></li>
<li><p>[C-0-13] MUST use the AppOpsManager APIs to record and track each and
every programmatic access of data protected by dangerous permissions from
Android activities and services.</p></li>
<li><p>[C-0-14] MUST only assign roles to applications with functionalities that
meet the role requirements.</p></li>
<li><p>[C-0-15] MUST not define roles that are duplicates or superset functionality
of roles defined by the platform.</p></li>
</ul>

<p>If devices report <code translate="no" dir="ltr">android.software.managed_users</code>, they:</p>

<ul>
<li>[C-1-1] MUST NOT have the following permissions silently granted by the
admin:
<ul>
<li>Location (ACCESS_BACKGROUND_LOCATION, ACCESS_COARSE_LOCATION,
ACCESS_FINE_LOCATION).</li>
<li>Camera (CAMERA)</li>
<li>Microphone (RECORD_AUDIO)</li>
<li>Body sensor  (BODY_SENSORS)</li>
<li>Physical activity (ACTIVITY_RECOGNITION)</li>
</ul></li>
</ul>

<p>If device implementations provide a user affordance to choose which apps can
draw on top of other apps with an activity that handles the
<a href="https://developer.android.com/reference/android/provider/Settings.html#ACTION_MANAGE_OVERLAY_PERMISSION"><code translate="no" dir="ltr">ACTION_MANAGE_OVERLAY_PERMISSION</code></a>
intent, they:</p>

<ul>
<li>[C-2-1] MUST ensure that all activities with intent filters for the
<a href="https://developer.android.com/reference/android/provider/Settings.html#ACTION_MANAGE_OVERLAY_PERMISSION"><code translate="no" dir="ltr">ACTION_MANAGE_OVERLAY_PERMISSION</code></a>
intent have the same UI screen, regardless of the initiating app or any
information it provides.</li>
</ul>

<p>If device implementations report android.software.device_admin, they:</p>

<ul>
<li>[C-3-1] MUST show a disclaimer during fully managed device setup
(device owner setup) stating that the IT admin will have the ability to
allow apps to control settings on the phone including microphone, camera and
location, with options for user to continue setup or exit setup UNLESS the
admin has opted out of control of permissions on the device.</li>
</ul>

<p>If device implementations pre-install any packages that hold any of the <a href="https://cs.android.com/android/platform/superproject/+/master:packages/modules/Permission/PermissionController/res/xml/roles.xml;l=615">System UI Intelligence</a>, <a href="https://cs.android.com/android/platform/superproject/+/master:packages/modules/Permission/PermissionController/res/xml/roles.xml;l=648">System Ambient Audio Intelligence</a>, <a href="https://cs.android.com/android/platform/superproject/+/master:packages/modules/Permission/PermissionController/res/xml/roles.xml;l=677">System Audio Intelligence</a>, <a href="https://cs.android.com/android/platform/superproject/+/master:packages/modules/Permission/PermissionController/res/xml/roles.xml;l=704">System Notification Intelligence</a>, <a href="https://cs.android.com/android/platform/superproject/+/master:packages/modules/Permission/PermissionController/res/xml/roles.xml;l=724">System Text Intelligence</a>, or <a href="https://cs.android.com/android/platform/superproject/+/master:packages/modules/Permission/PermissionController/res/xml/roles.xml;l=745">System Visual Intelligence</a> roles, the packages:</p>

<ul>
<li>[C-4-1] MUST fulfill all requirements outlined for device implementations in section &quot;9.8.6 Content Capture&quot;.</li>
<li>[C-4-2] MUST NOT have android.permission.INTERNET permission. This is stricter than the STRONGLY RECOMMENDED listed in section 9.8.6.</li>
<li>[C-4-3] MUST NOT bind to other apps, except for the following system apps: Bluetooth, Contacts, Media, Telephony, SystemUI, and components providing Internet APIs.This is stricter than the STRONGLY RECOMMENDED listed in section 9.8.6.</li>
</ul>

<h3 id="92_uid_and_process_isolation" data-text="9.2. UID and Process Isolation">9.2. UID and Process Isolation</h3>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST support the Android application
sandbox model, in which each application runs as a unique Unixstyle UID
and in a separate process.</li>
<li>[C-0-2] MUST support running multiple applications
as the same Linux user ID, provided that the applications are properly signed
and constructed, as defined in the <a href="http://developer.android.com/guide/topics/security/permissions.html">Security and Permissions reference</a>.</li>
</ul>

<h3 id="93_filesystem_permissions" data-text="9.3. Filesystem Permissions">9.3. Filesystem Permissions</h3>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST support the Android file access
permissions model as defined in the <a href="http://developer.android.com/guide/topics/security/permissions.html">Security and Permissions reference</a>.</li>
</ul>

<h3 id="94_alternate_execution_environments" data-text="9.4. Alternate Execution Environments">9.4. Alternate Execution Environments</h3>

<p>Device implementations MUST keep consistency of the Android security and
permission model, even if they include runtime environments that execute
applications using some other software or technology than the Dalvik Executable
Format or native code. In other words:</p>

<ul>
<li><p>[C-0-1] Alternate runtimes MUST themselves be Android applications,
and abide by the standard Android security model, as described elsewhere
in <a href="#9_security_model_compatibility">section 9</a>.</p></li>
<li><p>[C-0-2] Alternate runtimes MUST NOT be granted access to resources
protected by permissions not requested in the runtime’s <code translate="no" dir="ltr">AndroidManifest.xml</code>
file via the &lt;<code translate="no" dir="ltr">uses-permission</code>&gt; mechanism.</p></li>
<li><p>[C-0-3] Alternate runtimes MUST NOT permit applications to make use of
features protected by Android permissions restricted to system applications.</p></li>
<li><p>[C-0-4] Alternate runtimes MUST abide by the Android sandbox model
and installed applications using an alternate runtime MUST NOT
reuse the sandbox of any other app installed on the device, except through
the standard Android mechanisms of shared user ID and signing certificate.</p></li>
<li><p>[C-0-5] Alternate runtimes MUST NOT launch with, grant, or be granted
access to the sandboxes corresponding to other Android applications.</p></li>
<li><p>[C-0-6] Alternate runtimes MUST NOT be launched with, be granted, or grant
to other applications any privileges of the superuser (root), or of any other
user ID.</p></li>
<li><p>[C-0-7] When the <code translate="no" dir="ltr">.apk</code> files of alternate runtimes are included in the
system image of device implementations, it MUST be signed with a key distinct
from the key used to sign other applications included with the device
implementations.</p></li>
<li><p>[C-0-8] When installing applications, alternate runtimes MUST obtain
user consent for the Android permissions used by the application.</p></li>
<li><p>[C-0-9] When an application needs to make use of a device resource for
which there is a corresponding Android permission (such as Camera, GPS, etc.),
the alternate runtime MUST inform the user that the application will be able to
access that resource.</p></li>
<li><p>[C-0-10] When the runtime environment does not record application
capabilities in this manner, the runtime environment MUST list all permissions
held by the runtime itself when installing any application using that runtime.</p></li>
<li><p>Alternate runtimes SHOULD install apps via the <code translate="no" dir="ltr">PackageManager</code> into
separate Android sandboxes (Linux user IDs, etc.).</p></li>
<li><p>Alternate runtimes MAY provide a single Android sandbox shared by all
applications using the alternate runtime.</p></li>
</ul>

<h3 id="95_multi-user_support" data-text="9.5. Multi-User Support">9.5. Multi-User Support</h3>

<p>Android includes <a href="http://developer.android.com/reference/android/os/UserManager.html">support for multiple users</a>
and provides support for full user isolation and clone user profiles with
partial isolation(i.e. single additional user profile  of type
<code translate="no" dir="ltr">android.os.usertype.profile.CLONE</code>).</p>

<ul>
<li>Device implementations MAY but SHOULD NOT enable multi-user if they use
<a href="http://developer.android.com/reference/android/os/Environment.html">removable media</a>
for primary external storage.</li>
</ul>

<p>If device implementations include support for multiple users, they:</p>

<ul>
<li>[C-1-2] MUST, for each user, implement a security
model consistent with the Android platform security model as defined in
<a href="http://developer.android.com/guide/topics/security/permissions.html">Security and Permissions reference document</a>
in the APIs.</li>
<li>[C-1-3] MUST have separate and isolated shared application storage
(a.k.a. <code translate="no" dir="ltr">/sdcard</code>) directories for each user instance.</li>
<li>[C-1-4] MUST ensure that applications owned by and running on behalf a
given user cannot list, read, or write to the files owned by any other user,
even if the data of both users are stored on the same volume or filesystem.</li>
<li>[C-1-5] MUST encrypt the contents of the SD card when multiuser is enabled
using a key stored only on non-removable media accessible only to the system if
device implementations use removable media for the external storage APIs.
As this will make the media unreadable by a host PC, device implementations
will be required to switch to MTP or a similar system to provide host PCs with
access to the current user’s data.</li>
</ul>

<p>If device implementations include support for multiple users, then for
all users except users specifically created for running dual instances
of the same app, they:</p>

<ul>
<li>[C-2-1] MUST have separate and isolated shared application storage
(a.k.a. /sdcard) directories for each user instance.</li>
<li>[C-2-2] MUST ensure that applications owned by and running on
behalf of a given user cannot list, read, or write to the files owned
by any other user, even if the data of both users are stored on the same
volume or filesystem.</li>
</ul>

<p>Device implementations MAY create a single additional user profile of type
<code translate="no" dir="ltr">android.os.usertype.profile.CLONE</code> against the primary user (and only against
the primary user) for the purpose of running dual instances of the same app.
These dual instances share partially isolated storage, are presented to the
end user in the launcher at the same time and appear in the same recents view.
For example, this could be used to support the user installing two separate
instances of a single app on a dual-SIM device.</p>

<p>If device implementations create the additional user profile discussed above,
then they:</p>

<ul>
<li>[C-3-1] MUST only provide access to storage or data that is either already
accessible to the parent user profile or is directly owned by this
additional user profile.</li>
<li>[C-3-2] MUST NOT have this as a work profile.</li>
<li>[C-3-3] MUST have isolated private app data directories from the parent
user account.</li>
<li>[C-3-4] MUST NOT allow the additional user profile to be created if there
is a Device Owner provisioned (see section 3.9.1) or allow a Device Owner
to be provisioned without removing the additional user profile first.</li>
</ul>

<h3 id="96_premium_sms_warning" data-text="9.6. Premium SMS Warning">9.6. Premium SMS Warning</h3>

<p>Android includes support for warning users of any outgoing
<a href="http://en.wikipedia.org/wiki/Short_code">premium SMS message</a>. Premium SMS
messages are text messages sent to a service registered with a carrier that may
incur a charge to the user.</p>

<p>If device implementations declare support for <code translate="no" dir="ltr">android.hardware.telephony</code>,
they:</p>

<ul>
<li>[C-1-1]  MUST warn users before sending a SMS message to numbers
identified by regular expressions defined in <code translate="no" dir="ltr">/data/misc/sms/codes.xml</code>
file in the device. The upstream Android Open Source Project provides
an implementation that satisfies this requirement.</li>
</ul>

<h3 id="97_security_features" data-text="9.7. Security Features">9.7. Security Features</h3>

<p>Device implementations MUST ensure compliance with security features in both the
kernel and platform as described below.</p>

<p>The Android Sandbox includes features that use the Security-Enhanced Linux
(SELinux) mandatory access control (MAC) system, seccomp sandboxing, and other
security features in the Linux kernel. Device implementations:</p>

<ul>
<li>[C-0-1] MUST maintain compatibility with existing applications, even when
SELinux or any other security features are implemented below the Android
framework.</li>
<li>[C-0-2] MUST NOT have a visible user interface when a security
violation is detected and successfully blocked by the security feature
implemented below the Android framework, but MAY have a visible user interface
when an unblocked security violation occurs resulting in a successful exploit.</li>
<li>[C-0-3] MUST NOT make SELinux or any other security features implemented
below the Android framework configurable to the user or app developer.</li>
<li>[C-0-4]  MUST NOT allow an application that can affect another application
through an API (such as a Device Administration API) to configure a policy
that breaks compatibility.</li>
<li>[C-0-5] MUST split the media framework into multiple processes so that it
is possible to more narrowly grant access for each process as
<a href="https://source.android.com/devices/media/framework-hardening.html#arch_changes">described</a>
in the Android Open Source Project site.</li>
<li>[C-0-6] MUST implement a kernel application sandboxing mechanism
which allows filtering of system calls using a configurable policy from
multithreaded programs. The upstream Android Open Source Project meets this
requirement through enabling the seccomp-BPF with threadgroup
synchronization (TSYNC) as described
<a href="http://source.android.com/devices/tech/config/kernel.html#Seccomp-BPF-TSYNC">in the Kernel Configuration section of source.android.com</a>.</li>
</ul>

<p>Kernel integrity and self-protection features are integral to Android
security. Device implementations:</p>

<ul>
<li>[C-0-7] MUST implement kernel stack buffer overflow protection mechanisms.
Examples of such mechanisms are <code translate="no" dir="ltr">CC_STACKPROTECTOR_REGULAR</code> and
<code translate="no" dir="ltr">CONFIG_CC_STACKPROTECTOR_STRONG</code>.</li>
<li>[C-0-8] MUST implement strict kernel memory protections where executable
code is read-only, read-only data is non-executable and non-writable, and
writable data is non-executable (e.g. <code translate="no" dir="ltr">CONFIG_DEBUG_RODATA</code> or <code translate="no" dir="ltr">CONFIG_STRICT_KERNEL_RWX</code>).</li>
<li>[C-0-9] MUST implement static and dynamic object size
bounds checking of copies between user-space and kernel-space
(e.g. <code translate="no" dir="ltr">CONFIG_HARDENED_USERCOPY</code>) on devices originally shipping with API level
28 or higher.</li>
<li>[C-0-10] MUST NOT execute user-space memory when executing
in the kernel mode (e.g. hardware PXN, or emulated via
<code translate="no" dir="ltr">CONFIG_CPU_SW_DOMAIN_PAN</code> or <code translate="no" dir="ltr">CONFIG_ARM64_SW_TTBR0_PAN</code>) on devices
originally shipping with API level 28 or higher.</li>
<li>[C-0-11] MUST NOT read or write user-space memory in the
kernel outside of normal usercopy access APIs (e.g. hardware PAN, or
emulated via <code translate="no" dir="ltr">CONFIG_CPU_SW_DOMAIN_PAN</code> or <code translate="no" dir="ltr">CONFIG_ARM64_SW_TTBR0_PAN</code>)
on devices originally shipping with API level 28 or higher.</li>
<li>[C-0-12] MUST implement kernel page table isolation if the hardware is
vulnerable to CVE-2017-5754 on all devices originally shipping with API level
28 or higher (e.g. <code translate="no" dir="ltr">CONFIG_PAGE_TABLE_ISOLATION</code> or
<code translate="no" dir="ltr">CONFIG_UNMAP_KERNEL_AT_EL0</code>).</li>
<li>[C-0-13] MUST implement branch prediction hardening if the hardware is
vulnerable to CVE-2017-5715 on all devices originally shipping with API level
28 or higher (e.g. <code translate="no" dir="ltr">CONFIG_HARDEN_BRANCH_PREDICTOR</code>).</li>
<li>[SR] STRONGLY RECOMMENDED to keep kernel data
which is written only during initialization marked read-only after
initialization (e.g. <code translate="no" dir="ltr">__ro_after_init</code>).</li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to randomize the layout of the kernel code and
memory, and to avoid exposures that would compromise the randomization
(e.g. <code translate="no" dir="ltr">CONFIG_RANDOMIZE_BASE</code> with bootloader entropy via the
<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/Documentation/devicetree/bindings/chosen.txt"><code translate="no" dir="ltr">/chosen/kaslr-seed Device Tree node</code></a>
or <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/bringup/efi-rng-protocol"><code translate="no" dir="ltr">EFI_RNG_PROTOCOL</code></a>).</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to enable control flow integrity (CFI) in
the kernel to provide additional protection against code-reuse attacks
(e.g. <code translate="no" dir="ltr">CONFIG_CFI_CLANG</code> and <code translate="no" dir="ltr">CONFIG_SHADOW_CALL_STACK</code>).</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED not to disable Control-Flow Integrity (CFI),
Shadow Call Stack (SCS) or Integer Overflow Sanitization (IntSan) on
components that have it enabled.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to enable CFI, SCS, and IntSan for any
additional security-sensitive userspace components as explained in
<a href="https://source.android.com/devices/tech/debug/cfi">CFI</a> and
<a href="https://source.android.com/devices/tech/debug/intsan">IntSan</a>.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to enable stack initialization in the kernel
to prevent uses of uninitialized local variables (<code translate="no" dir="ltr">CONFIG_INIT_STACK_ALL</code> or
<code translate="no" dir="ltr">CONFIG_INIT_STACK_ALL_ZERO</code>).
Also, device implementations SHOULD NOT assume the value used by the compiler to
initialize the locals.</p></li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to enable heap initialization in the kernel
to prevent uses of uninitialized heap allocations
(<code translate="no" dir="ltr">CONFIG_INIT_ON_ALLOC_DEFAULT_ON</code>) and they SHOULD NOT assume the value used by
the kernel to initialize those allocations.</p></li>
</ul>

<p>If device implementations use a Linux kernel, they:</p>

<ul>
<li>[C-1-1] MUST implement SELinux.</li>
<li>[C-1-2] MUST set SELinux to global enforcing mode.</li>
<li>[C-1-3] MUST configure all domains in enforcing mode. No permissive mode
domains are allowed, including domains specific to a device/vendor.</li>
<li>[C-1-4] MUST NOT modify, omit, or replace the neverallow rules present
within the system/sepolicy folder provided in the upstream Android Open Source
Project (AOSP) and the policy MUST compile with all neverallow rules present,
for both AOSP SELinux domains as well as device/vendor specific domains.</li>
<li>[C-1-5] MUST run third-party applications targeting API level 28 or higher
in per-application SELinux sandboxes with per-app SELinux restrictions on each
application&#39;s private data directory.</li>
<li>SHOULD retain the default SELinux policy provided in the system/sepolicy
folder of the upstream Android Open Source Project and only further add to this
policy for their own device-specific configuration.</li>
</ul>

<p>If device implementations use kernel other than Linux, they:</p>

<ul>
<li>[C-2-1] MUST use a mandatory access control system that is
equivalent to SELinux.</li>
</ul>

<p>If device implementations use I/O devices capable of DMA, they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to isolate each I/O device capable of DMA,
using an IOMMU (e.g.the ARM SMMU).</li>
</ul>

<p>Android contains multiple defense-in-depth features that are integral to device
security.  In addition, Android focuses on reducing key classes of common bugs
that contribute to poor quality and security.</p>

<p>In order to reduce memory bugs, device implementations:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to be tested using userspace memory error
detection tools like MTE for ARMv9 devices, HWASan for ARMv8+ devices or ASan
for other device types.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to be tested using kernel memory error
detection tools like KASAN (CONFIG_KASAN, CONFIG_KASAN_HW_TAGS for ARMv9
devices, CONFIG_KASAN_SW_TAGS for ARMv8 devices or CONFIG_KASAN_GENERIC for
other device types).</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to be using memory error detection tools in
production, like MTE, GWP-ASan and KFENCE.</li>
</ul>

<p>Android contains multiple defense-in-depth features that are integral to device
security. In addition, Android focuses on reducing key classes of common bugs
that contribute to poor quality and security.</p>

<p>In order to reduce memory bugs, device implementations:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to be tested using userspace memory error
detection tools like MTE for ARMv9 devices, HWASan for ARMv8+ devices or ASan
for other device types.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to be tested using kernel memory error
detection tools like KASAN (CONFIG_KASAN, CONFIG_KASAN_HW_TAGS for
ARMv9 devices, CONFIG_KASAN_SW_TAGS for ARMv8 devices or CONFIG_KASAN_GENERIC
for other device types).</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to be using memory error detection tools in
production like MTE, GWP-ASan and KFENCE.</li>
</ul>

<p>If device implementations use an Arm TrustZone-based TEE, they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to use a standard protocol for memory
sharing, between Android and the TEE, like Arm Firmware Framework for
Armv8-A (FF-A).</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to restrict trusted applications to only
accessing memory which has been explicitly shared with them via the above
protocol. If the device has support for the Arm S-EL2 exception level, this
should be enforced by the secure partition manager. Otherwise, this should be
enforced by the TEE OS.</li>
</ul>

<h3 id="98_privacy" data-text="9.8. Privacy">9.8. Privacy</h3>

<h4 id="981_usage_history" data-text="9.8.1. Usage History">9.8.1. Usage History</h4>

<p>Android stores the history of the user&#39;s choices and manages such history by
<a href="https://developer.android.com/reference/android/app/usage/UsageStatsManager.html">UsageStatsManager</a>.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST keep a reasonable retention period of such user history.</li>
<li>[SR] Are STRONGLY RECOMMENDED to keep the 14 days retention period as
configured by default in the AOSP implementation.</li>
</ul>

<p>Android stores the system events using the <a href="https://developer.android.com/reference/android/util/StatsLog.html"><code translate="no" dir="ltr">StatsLog</code></a>
identifiers, and manages such history via the <code translate="no" dir="ltr">StatsManager</code> and the
<code translate="no" dir="ltr">IncidentManager</code> System API.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-2] MUST only include the fields marked with <code translate="no" dir="ltr">DEST_AUTOMATIC</code> in the
incident report created by the System API class <code translate="no" dir="ltr">IncidentManager</code>.</li>
<li>[C-0-3] MUST not use the system event identifiers to log any other event
than what is described in the <a href="https://developer.android.com/reference/android/util/StatsLog.html"><code translate="no" dir="ltr">StatsLog</code></a>
SDK documents. If additional system events are logged, they MAY use a
different atom identifier in the range between 100,000 and 200,000.</li>
</ul>

<h4 id="982_recording" data-text="9.8.2. Recording">9.8.2. Recording</h4>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST NOT preload or distribute software components out-of-box that
send the user&#39;s private information (e.g. keystrokes, text displayed on the
screen, bugreport) off the device without the user&#39;s consent or clear
ongoing notifications.</li>
<li>[C-0-2] MUST display and obtain explicit user consent that includes exactly
the same message as AOSP whenever screen casting or screen recording is
enabled via <a href="https://developer.android.com/reference/android/media/projection/MediaProjection"><code translate="no" dir="ltr">MediaProjection</code></a>
or proprietary APIs. MUST NOT provide users an affordance to
disable future display of the user consent.</li>
<li>[C-0-3] MUST have an ongoing notification to the user while screen casting
or screen recording is enabled. AOSP meets this requirement by showing an
ongoing notification icon in the status bar.</li>
</ul>

<p>If device implementations include functionality in the system that either
captures the contents displayed on the screen and/or records the audio stream
played on the device other than via the System API <code translate="no" dir="ltr">ContentCaptureService</code>, or
other proprietary means described in
<a href="#9_8_6_content_capture">Section 9.8.6 Content Capture</a>, they:</p>

<ul>
<li>[C-1-1] MUST have an ongoing notification to the user whenever this
functionality is enabled and actively capturing/recording.</li>
</ul>

<p>If device implementations include a component enabled out-of-box, capable of
recording ambient audio and/or record the audio played on the device
to infer useful information about user’s context, they:</p>

<ul>
<li>[C-2-1] MUST NOT store in persistent on-device storage or transmit off the
device the recorded raw audio or any format that can be converted back into
the original audio or a near facsimile, except with explicit user consent.</li>
</ul>

<p>A “microphone indicator” refers to a view on screen, which is constantly visible
to the user and cannot be obscured, which users understand as a microphone is in
use(through unique text, color, icon, or some combination).</p>

<p>A “camera indicator” refers to a view on screen, which is constantly visible to
the user and cannot be obscured, which users understand as a camera is in use
(through unique text, color, icon, or some combination).</p>

<p>After the first one second displayed, an indicator can change visually, such as
becoming smaller, and is not required to show as originally presented and
understood.</p>

<p>The microphone indicator may be merged with an actively displayed camera
indicator, provided that text, icons, or colors indicate to the user that
microphone use has begun.</p>

<p>The camera indicator may be merged with an actively displayed microphone
indicator, provided that text, icons, or colors indicate to the user that the
camera use has begun.</p>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.microphone</code>, they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to display microphone indicator when an app
is accessing audio data from the microphone, but not when the microphone is
only accessed by <code translate="no" dir="ltr">HotwordDetectionService</code>, <code translate="no" dir="ltr">SOURCE_HOTWORD</code>,
<code translate="no" dir="ltr">ContentCaptureService</code>, or app(s) holding the roles called out in Section
9.1 Permissions with CDD identifier [C-3-X].
.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to display the list of Recent and Active
apps using microphone as returned from
<code translate="no" dir="ltr">PermissionManager.getIndicatorAppOpUsageData()</code>, along with any attribution
messages associated with them.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to not hide the microphone indicator for
system apps that have visible user interfaces or direct user interaction.</li>
</ul>

<p>If device implementations declare <code translate="no" dir="ltr">android.hardware.camera.any</code>, they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to display camera indicator when an app is
accessing live camera data, but not when the camera is only being accessed
by app(s) holding the roles called out in Section 9.1 Permissions with CDD
identifier [C-3-X].</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to display Recent and Active apps using
camera as returned from <code translate="no" dir="ltr">PermissionManager.getIndicatorAppOpUsageData()</code>,
along with any attribution messages associated with them.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to not hide the camera indicator for system
apps that have visible user interfaces or direct user interaction.</li>
</ul>

<h4 id="983_connectivity" data-text="9.8.3. Connectivity">9.8.3. Connectivity</h4>

<p>If device implementations have a USB port with USB peripheral mode support,
they:</p>

<ul>
<li>[C-1-1] MUST present a user interface asking for the user&#39;s consent before
allowing access to the contents of the shared storage over the USB port.</li>
</ul>

<h4 id="984_network_traffic" data-text="9.8.4. Network Traffic">9.8.4. Network Traffic</h4>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST preinstall the same root certificates for the system-trusted
Certificate Authority (CA) store as <a href="https://source.android.com/security/overview/app-security.html#certificate-authorities">provided</a>
in the upstream Android Open Source Project.</li>
<li>[C-0-2] MUST ship with an empty user root CA store.</li>
<li>[C-0-3] MUST display a warning to the user indicating the network traffic
may be monitored, when a user root CA is added.</li>
</ul>

<p>If device traffic is routed through a VPN, device implementations:</p>

<ul>
<li>[C-1-1] MUST display a warning to the user indicating either:
<ul>
<li>That network traffic may be monitored.</li>
<li>That network traffic is being routed through the specific VPN
application providing the VPN.</li>
</ul></li>
</ul>

<p>If device implementations have a mechanism, enabled out-of-box by default, that
routes network data traffic through a proxy server or VPN gateway (for example,
preloading a VPN service with <code translate="no" dir="ltr">android.permission.CONTROL_VPN</code> granted), they:</p>

<ul>
<li>[C-2-1] MUST ask for the user&#39;s consent before enabling that mechanism,
 unless that VPN is enabled by the Device Policy Controller via the
 <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#setAlwaysOnVpnPackage%28android.content.ComponentName,%20java.lang.String,%20boolean%29"><code translate="no" dir="ltr">DevicePolicyManager.setAlwaysOnVpnPackage()</code></a>
 , in which case the user does not need to provide a separate consent, but
 MUST only be notified.</li>
</ul>

<p>If device implementations implement a user affordance to toggle on the
&quot;always-on VPN&quot; function of a 3rd-party VPN app, they:</p>

<ul>
<li>[C-3-1] MUST disable this user affordance for apps that do not support
 always-on VPN service in the <code translate="no" dir="ltr">AndroidManifest.xml</code> file via setting the
 <a href="https://developer.android.com/reference/android/net/VpnService.html#SERVICE_META_DATA_SUPPORTS_ALWAYS_ON"><code translate="no" dir="ltr">SERVICE_META_DATA_SUPPORTS_ALWAYS_ON</code></a>
 attribute to <code translate="no" dir="ltr">false</code>.</li>
</ul>

<h4 id="985_device_identifiers" data-text="9.8.5. Device Identifiers">9.8.5. Device Identifiers</h4>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST prevent access to the device serial number and, where
applicable, IMEI/MEID, SIM serial number, and International Mobile
Subscriber Identity (IMSI) from an app, unless it meets one of the following
requirements:
<ul>
<li>is a signed carrier app that is verified by device manufacturers.</li>
<li>has been granted the <code translate="no" dir="ltr">READ_PRIVILEGED_PHONE_STATE</code> permission.</li>
<li>has carrier privileges as defined in <a href="https://source.android.com/devices/tech/config/uicc"><code translate="no" dir="ltr">UICC Carrier Privileges</code></a>.</li>
<li>is a device owner or profile owner that has been granted the
<code translate="no" dir="ltr">READ_PHONE_STATE</code> permission.</li>
<li>(For SIM serial number/ICCID only) has the local regulations requirement
that the app detect changes in the subscriber&#39;s identity.</li>
</ul></li>
</ul>

<h4 id="986_content_capture_and_app_search" data-text="9.8.6. Content Capture and App Search">9.8.6. Content Capture and App Search</h4>

<p>Android, through the System API <code translate="no" dir="ltr">ContentCaptureService</code>,
<code translate="no" dir="ltr">AugmentedAutofillService</code>, <code translate="no" dir="ltr">AppSearchGlobalManager.query</code>, or by other
proprietary means, supports a mechanism for device implementations to capture
the following application data interactions between the applications and
the user:</p>

<ul>
<li>Text and graphics rendered on-screen, including but not limited to,
 notifications and assist data via <a href="https://developer.android.com/reference/android/app/assist/AssistStructure"><code translate="no" dir="ltr">AssistStructure</code></a>
 API.</li>
<li>Media data, such as audio or video, recorded or played by the device.</li>
<li>Input events (e.g. key, mouse, gesture, voice, video, and accessibility).</li>
<li>Any other events that an application provides to the system via the
 <a href="https://developer.android.com/reference/android/view/contentcapture/package-summary"><code translate="no" dir="ltr">Content Capture</code></a>
 API or or <code translate="no" dir="ltr">AppSearchManager</code> API a similarly capable Android and
 proprietary API.</li>
<li>Any text or other data sent via the <a href="https://developer.android.com/reference/android/view/textclassifier/TextClassifier"><code translate="no" dir="ltr">TextClassifier API</code></a>
 to the System TextClassifier i.e to the system service to understand
 the meaning of text, as well as generating predicted next actions based on
 the text.</li>
<li>Data indexed by the platform AppSearch implementation, including but not
 limited to text, graphics, media data or other similar data.</li>
</ul>

<p>If device implementations capture the data above, they:</p>

<ul>
<li>[C-0-1] MUST encrypt all such data when stored in the device. This
 encryption MAY be carried out using Android File Based Encryption, or any
 of the ciphers listed as API version 26+ described in <a href="https://developer.android.com/reference/javax/crypto/Cipher">Cipher SDK</a>.</li>
<li>[C-0-2] MUST NOT back up either raw or encrypted data using
 <a href="https://developer.android.com/guide/topics/data/backup">Android backup methods</a> or any other back
 up methods.</li>
<li>[C-0-3] MUST only send all such data and the log of the device using a
 privacy-preserving mechanism. The privacy-preserving mechanism
 is defined as “those which allow only analysis in aggregate and prevent
 matching of logged events or derived outcomes to individual users”, to
 prevent any per-user data being introspectable (e.g., implemented using
 a differential privacy technology such as <a href="https://github.com/google/rappor"><code translate="no" dir="ltr">RAPPOR</code></a>).</li>
<li>[C-0-4] MUST NOT associate such data with any user identity (such
 as <a href="https://developer.android.com/reference/android/accounts/Account"><code translate="no" dir="ltr">Account</code></a>)
 on the device, except with explicit user consent each time the data is
 associated.</li>
<li>[C-0-5] MUST NOT share such data with other OS components that don&#39;t
 follow requirements outlined in the current section
 (9.8.6 Content Capture), except with explicit user consent every time
 it is shared.</li>
<li>[C-0-6] MUST provide user affordance to erase such data that
 the <code translate="no" dir="ltr">ContentCaptureService</code> or the proprietary means collects if the
 data is stored in any form on the device.</li>
<li>[C-0-7] MUST provide a user affordance to opt-out of the data, collected
 via AppSearch or proprietary means from being shown in android platform
 e.g launcher.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED NOT to request the INTERNET permission.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to only access the internet through
 structured APIs backed by publicly available open-source implementations.</li>
</ul>

<p>If device implementations include a service that implements the System API
<code translate="no" dir="ltr">ContentCaptureService</code>, <code translate="no" dir="ltr">AppSearchManager.index</code>, or any proprietary service
that captures the data as described as above, they:</p>

<ul>
<li>[C-1-1] MUST NOT allow users to replace the services with a
 user-installable application or service and MUST only allow the
 preinstalled services to capture such data.</li>
<li>[C-1-2] MUST NOT allow any apps other than the preinstalled services
 mechanism to be able to capture such data.</li>
<li>[C-1-3] MUST provide user affordance to disable the services.</li>
<li>[C-1-4] MUST NOT omit user affordance to manage Android permissions that
 are held by the services and follow Android permissions
 model as described in <a href="#9_1_permissions.md">Section 9.1. Permission</a>.</li>
<li><p>[C-SR] Are STRONGLY RECOMMENDED to keep the services separate from other
 system components(e.g. not binding the service or sharing process IDs)
 except for the following:</p>

<ul>
<li>Telephony, Contacts, System UI, and Media</li>
</ul></li>
</ul>

<p>Android, through <code translate="no" dir="ltr">SpeechRecognizer#onDeviceSpeechRecognizer()</code> provides ability
to perform speech recognition on the device, without involving the network.
Any implementation of on-device SpeechRecognizer MUST follow the policies
outlined in this section.</p>

<h4 id="987_clipboard_access" data-text="9.8.7. Clipboard Access">9.8.7. Clipboard Access</h4>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST NOT return a clipped data on the clipboard (e.g. via the
<a href="https://developer.android.com/reference/android/content/ClipboardManager"><code translate="no" dir="ltr">ClipboardManager</code></a>
API) unless the app is the default IME or is the app that currently has
focus.</li>
</ul>

<h4 id="988_location" data-text="9.8.8. Location">9.8.8. Location</h4>

<p>Location includes information in the Android Location class( such as Latitude,
Longitude, Altitude), as well as identifiers that can be converted to Location.
Location can be as fine as DGPS (Differential Global Positioning System) or as
coarse as country level locations (like the country code location - MCC - Mobile
Country Code).</p>

<p>The following is a list of location types that either directly derive a user&#39;s
location or can be converted to a user&#39;s location.  This is not a comprehensive
list, but should be used as an example on what Location can directly or
indirectly be derived from:</p>

<ul>
<li>GPS/GNSS/DGPS/PPP
<ul>
<li>Global Positioning Solution or Global Navigation Satellite System or
Differential Global Positioning Solution</li>
<li>This also includes Raw GNSS Measurements and GNSS Status
<ul>
<li>Fine Location can be derived from the Raw GNSS Measurements</li>
</ul></li>
</ul></li>
<li>Wireless Technologies with unique identifiers such as:
<ul>
<li>WiFi access points (MAC, BSSID, Name, or SSID)</li>
<li>Bluetooth/BLE (MAC, BSSID, Name, or SSID)</li>
<li>UWB (MAC, BSSID, Name, or SSID)</li>
<li>Cell Tower ID (3G, 4G, 5G… Iincluding all future Cellular Modem
technologies that have unique identifiers)</li>
</ul></li>
</ul>

<p>As  a primary point of reference, see the Android APIs which require
ACCESS_FINE_Location or ACCESS_COARSE_Location permissions.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST NOT turn on/off device location setting and Wi-Fi/Bluetooth
scanning settings without explicit user consent or user initiation.</li>
<li>[C-0-2] MUST provide the user affordance to access location related
information including recent location requests, app level permissions and usage
of Wi-Fi/Bluetooth scanning for determining location.</li>
<li>[C-0-3] MUST ensure that the application using Emergency Location Bypass API
[LocationRequest.setLocationSettingsIgnored()] is a user initiated emergency
session (e.g. dial 911 or text to 911). For Automotive however, a vehicle MAY
initiate an emergency session without active user interaction in the case
a crash/accident is detected (e.g. to satisfy eCall requirements).</li>
<li>[C-0-4] MUST preserve the Emergency Location Bypass API&#39;s ability to
bypass device location settings without changing the settings.</li>
<li>[C-0-5] MUST schedule a notification that reminds the user after an app in
the background has accessed their location using the
[<code translate="no" dir="ltr">ACCESS_BACKGROUND_LOCATION</code>] permission.</li>
</ul>

<h4 id="989_installed_apps" data-text="9.8.9. Installed apps">9.8.9. Installed apps</h4>

<p>Android apps targeting API level 30 or above cannot see details about other
installed apps by default (see <a href="https://developer.android.com/preview/privacy/package-visibility">Package visibility</a> in the Android
SDK documentation).</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST NOT expose to any app targeting API level 30 or above details
about any other installed app, unless the app is already able to see details
about the other installed app through the managed APIs. This includes but is
not limited to details exposed by any custom APIs added by the device
implementer, or accessible via the filesystem.</li>
<li>[C-0-2] MUST NOT give to any app, read or write access to files in any other
app’s <a href="https://developer.android.com/training/data-storage/app-specific#external">dedicated, app-specific directory</a>
within external storage. The only exceptions are as follows:
<ul>
<li>The external storage provider authority (e.g. apps like DocumentsUI).</li>
<li>Download Provider which uses the “downloads” provider authority for
 downloading files to app storage.</li>
<li>Platform-signed media transfer protocol (MTP) apps which use the
 privileged permission ACCESS_MTP to enable transferring files to
 another device.</li>
<li>Apps which install other apps and have the permission
 <a href="https://developer.android.com/reference/android/Manifest.permission#INSTALL_PACKAGES">INSTALL_PACKAGES</a>
 can access only “obb” directories for the purpose of managing
 <a href="https://developer.android.com/google/play/expansion-files">APK expansion files</a>.</li>
</ul></li>
</ul>

<h4 id="9810_connectivity_bug_report" data-text="9.8.10. Connectivity Bug Report">9.8.10. Connectivity Bug Report</h4>

<p>If device implementations declare the <code translate="no" dir="ltr">android.hardware.telephony</code> feature flag,
they:</p>

<ul>
<li>[C-1-1] MUST support generating connectivity bug reports via
<code translate="no" dir="ltr">BUGREPORT_MODE_TELEPHONY</code> with BugreportManager.</li>
<li>[C-1-2] MUST obtain user consent every time <code translate="no" dir="ltr">BUGREPORT_MODE_TELEPHONY</code> is
used to generate a report and MUST NOT prompt the user to consent to all
future requests from the application.</li>
<li>[C-1-3] MUST NOT return the generated report to the requesting app without
explicit user consent.</li>
<li>[C-1-4] Reports generated using <code translate="no" dir="ltr">BUGREPORT_MODE_TELEPHONY</code> MUST contain
at least the following information:
<ul>
<li><code translate="no" dir="ltr">TelephonyDebugService</code> dump</li>
<li><code translate="no" dir="ltr">TelephonyRegistry</code> dump</li>
<li><code translate="no" dir="ltr">WifiService</code> dump</li>
<li><code translate="no" dir="ltr">ConnectivityService</code> dump</li>
<li>A dump of the calling package&#39;s <code translate="no" dir="ltr">CarrierService</code> instance (if bound)</li>
<li>Radio log buffer</li>
</ul></li>
<li>[C-1-5] MUST NOT include the following in the generated reports:
<ul>
<li>Any kind of information that isn&#39;t directly related to connectivity
debugging.</li>
<li>Any kind of user-installed application traffic logs or detailed profiles
of user-installed applications/packages (UIDs are okay, package names are
not).</li>
</ul></li>
<li>MAY include additional information that is not associated with any user
identity. (e.g. vendor logs).</li>
</ul>

<p>If device implementations include additional information (e.g. vendor logs) in
bug reports and that information has privacy/security/battery/storage/memory
impact, they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to have a developer setting defaulted to
disabled. The AOSP reference implementation meets this by providing the <code translate="no" dir="ltr">Enable verbose vendor logging</code>
option in developer settings to include additional device-specific vendor logs
in the bug reports.</li>
</ul>

<h4 id="9811_data_blobs_sharing" data-text="9.8.11. Data blobs sharing">9.8.11. Data blobs sharing</h4>

<p>Android, through <a href="https://developer.android.com/reference/android/app/blob/BlobStoreManager">BlobStoreManager</a>
allows apps to contribute data blobs to the System to be shared with a selected
set of apps.</p>

<p>If device implementations support shared data blobs as described in the
<a href="https://developer.android.com/reference/android/app/blob/BlobStoreManager">SDK documentation</a>,
they:</p>

<ul>
<li>[C-1-1] MUST NOT share data blobs belonging to apps beyond what they
intended to allow (i.e. the scope of default access and the other access
modes that can be specified using
<a href="https://developer.android.com/reference/android/app/blob/BlobStoreManager.Session#allowPackageAccess%28java.lang.String%2C%2520byte%5B%5D%29">BlobStoreManager.session#allowPackageAccess()</a>,
<a href="https://developer.android.com/reference/android/app/blob/BlobStoreManager.Session#allowSameSignatureAccess%28%29">BlobStoreManager.session#allowSameSignatureAccess()</a>,
or <a href="https://developer.android.com/reference/android/app/blob/BlobStoreManager.Session#allowPublicAccess%28%29">BlobStoreManager.session#allowPublicAccess()</a>
MUST NOT be modified). The AOSP reference implementation meets these
requirements.</li>
<li>[C-1-2] MUST NOT send off device or share with other apps the secure hashes
of data blobs (which are used to control access).</li>
</ul>

<h4 id="9812_music_recognition" data-text="9.8.12. Music Recognition">9.8.12. Music Recognition</h4>

<p>Android, through the System API MusicRecognitionManager, supports a mechanism for
device implementations to request music recognition, given an audio record, and
delegate the music recognition to a privileged app implementing the
MusicRecognitionService API.</p>

<p>If device implementations include a service that implements the System API
MusicRecognitionManager or any proprietary service that streams audio data as
described as above, they:</p>

<ul>
<li>[C-1-1] MUST enforce that the caller of MusicRecognitionManager holds the
<code translate="no" dir="ltr">MANAGE_MUSIC_RECOGNITION</code> permission</li>
<li>[C-1-2] MUST enforce that a single, pre-installed, music recognition
application implements MusicRecognitionService.</li>
<li>[C-1-3] MUST NOT allow users to replace the MusicRecognitionManagerService
or MusicRecognitionService with a user-installable application or service.</li>
<li>[C-1-4] MUST ensure that when MusicRecognitionManagerService accesses the
audio record and forwards it to the application implementing the
MusicRecognitionService, the audio access is tracked via invocations of
<a href="https://developer.android.com/reference/android/app/AppOpsManager#tracking">AppOpsManager.noteOp / startOp</a>.</li>
</ul>

<p>If device implementations of MusicRecognitionManagerService or
MusicRecognitionService store any audio data captured, they:</p>

<ul>
<li>[C-2-1] MUST NOT store any raw audio or audio fingerprints on disk at all,
or in memory for longer than 14 days.</li>
<li>[C-2-2] MUST NOT share such data beyond the MusicRecognitionService, except
with explicit user consent every time it is shared.</li>
</ul>

<h4 id="9813_sensorprivacymanager" data-text="9.8.13. SensorPrivacyManager">9.8.13. SensorPrivacyManager</h4>

<p>If device implementations provide the user a software affordance to turn off
the camera and/or microphone input for the device implementation, they:</p>

<ul>
<li>[C-1-1] MUST accurately return &#39;true&#39; for the relevant
<a href="https://developer.android.com/reference/android/hardware/SensorPrivacyManager#supportsSensorToggle(int)">supportsSensorToggle()</a>
API method.</li>
<li>[C-1-2] MUST, when an app tries to access a blocked microphone or camera,
present the user with a non-dismissable user affordance that clearly
indicates that the sensor is blocked and requires a choice to continue
blocking or unblock as per the AOSP implementation which meets this
requirement.</li>
<li>[C-1-3] MUST only pass blank (or fake) camera and audio data to apps
and not report an error code due to the user not turning on the camera
nor microphone via the user affordance presented per [C-1-2] above.</li>
</ul>

<h3 id="99_data_storage_encryption" data-text="9.9. Data Storage Encryption">9.9. Data Storage Encryption</h3>

<p>All devices MUST meet the requirements of section 9.9.1.
Devices which launched on an API level earlier than that of this document are
exempted from the requirements of sections 9.9.2 and 9.9.3; instead they
MUST meet the requirements in section 9.9 of the Android Compatibility
Definition document corresponding to the API level on which the device launched.</p>

<h4 id="991_direct_boot" data-text="9.9.1. Direct Boot">9.9.1. Direct Boot</h4>

<p>Device implementations:</p>

<ul>
<li><p>[C-0-1] MUST implement the <a href="http://developer.android.com/preview/features/direct-boot.html">Direct Boot mode</a> APIs even if
they do not support Storage Encryption.</p></li>
<li><p>[C-0-2] The <a href="https://developer.android.com/reference/android/content/Intent.html#ACTION_LOCKED_BOOT_COMPLETED"><code translate="no" dir="ltr">ACTION_LOCKED_BOOT_COMPLETED</code></a>
and <a href="https://developer.android.com/reference/android/content/Intent.html#ACTION_USER_UNLOCKED"><code translate="no" dir="ltr">ACTION_USER_UNLOCKED</code></a>
Intents MUST still be broadcast to signal Direct Boot aware applications that
Device Encrypted (DE) and Credential Encrypted (CE) storage locations are
available for user.</p></li>
</ul>

<h4 id="992_encryption_requirements" data-text="9.9.2. Encryption requirements">9.9.2. Encryption requirements</h4>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST encrypt the application private
data (<code translate="no" dir="ltr">/data</code> partition), as well as the application shared storage partition
(<code translate="no" dir="ltr">/sdcard</code> partition) if it is a permanent, non-removable part of the device.</li>
<li>[C-0-2] MUST enable the data storage encryption by default at the time
the user has completed the out-of-box setup experience.</li>
<li>[C-0-3] MUST meet the above data storage encryption
requirement via implementing <a href="https://source.android.com/security/encryption/file-based.html">File Based Encryption</a> (FBE) and
<a href="https://source.android.com/security/encryption/metadata">Metadata Encryption</a>.</li>
</ul>

<h4 id="993_encryption_methods" data-text="9.9.3. Encryption Methods">9.9.3. Encryption Methods</h4>

<p>If device implementations are encrypted, they:</p>

<ul>
<li>[C-1-1] MUST boot up without challenging the user for credentials and
allow Direct Boot aware apps to access to the Device Encrypted (DE) storage
after the <code translate="no" dir="ltr">ACTION_LOCKED_BOOT_COMPLETED</code> message is broadcasted.</li>
<li>[C-1-2] MUST only allow access to Credential Encrypted (CE) storage after
the user has unlocked the device by supplying their credentials
(eg. passcode, pin, pattern or fingerprint) and the <code translate="no" dir="ltr">ACTION_USER_UNLOCKED</code>
message is broadcasted.</li>
<li>[C-1-13] MUST NOT offer any method to unlock the CE protected storage
without either the user-supplied credentials, a registered escrow key or a
resume on reboot implementation meeting the requirements in
<a href="#9_9_4_resume_on_reboot">section 9.9.4</a>.</li>
<li>[C-1-4] MUST use Verified Boot.</li>
<li>[C-1-5] MUST encrypt file contents and filesystem metadata using
AES-256-XTS or Adiantum.  AES-256-XTS refers to the Advanced Encryption Standard
with a 256-bit cipher key length, operated in XTS mode; the full length of the
key is 512 bits.  Adiantum refers to Adiantum-XChaCha12-AES, as specified at
https://github.com/google/adiantum. Filesystem metadata is data such as file
sizes, ownership, modes, and extended attributes (xattrs).</li>
<li>[C-1-6] MUST encrypt file names using AES-256-CBC-CTS
or Adiantum.</li>
<li>[C-1-12] If the device has Advanced Encryption Standard (AES)
instructions (such as ARMv8 Cryptography Extensions on ARM-based devices, or
AES-NI on x86-based devices) then the AES-based options above for file name,
file contents, and filesystem metadata encryption MUST be used, not Adiantum.</li>
<li>[C-1-13] MUST use a cryptographically strong and non-reversible key
derivation function (e.g. HKDF-SHA512) to derive any needed subkeys (e.g.
per-file keys) from the CE and DE keys.  &quot;Cryptographically strong and
non-reversible&quot; means that the key derivation function has a security strength
of at least 256 bits and behaves as a <a href="https://en.wikipedia.org/w/index.php?title=Pseudorandom_function_family&amp;oldid=928163524">pseudorandom function
family</a>
over its inputs.</li>
<li>[C-1-14] MUST NOT use the same File Based Encryption (FBE) keys or subkeys
for different cryptographic purposes (e.g. for both encryption and key
derivation, or for two different encryption algorithms).</li>
<li>[C-1-15] MUST ensure that all non-deleted blocks of encrypted file contents
on persistent storage were encrypted using combinations of encryption key and
initialization vector (IV) that depend on both the file and the offset within
the file.  In addition, all such combinations MUST be distinct, except where
the encryption is done using inline encryption hardware that only supports an
IV length of 32 bits. </li>
<li>[C-1-16] MUST ensure that all non-deleted encrypted filenames on persistent
storage in distinct directories were encrypted using distinct combinations of
encryption key and initialization vector (IV).</li>
<li><p>[C-1-17] MUST ensure that all encrypted filesystem metadata blocks on
persistent storage were encrypted using distinct combinations of encryption key
and initialization vector (IV).</p></li>
<li><p>Have keys protecting CE and DE storage areas which:</p>

<ul>
<li>[C-1-7] MUST be cryptographically bound to a hardware-backed Keystore.
This keystore MUST be bound to Verified Boot and the device&#39;s hardware
root of trust.</li>
<li>[C-1-8] CE keys MUST be bound to a user&#39;s lock screen credentials.</li>
<li>[C-1-9] CE keys MUST be bound to a default passcode when the user has
not specified lock screen credentials.</li>
<li>[C-1-10] MUST be unique and distinct, in other words no user&#39;s CE or DE
key matches any other user&#39;s CE or DE keys.</li>
<li>[C-1-11] MUST use the mandatorily supported ciphers, key lengths and
modes.</li>
<li>[C-1-12] MUST be securely erased during bootloader unlock and lock
as described <a href="https://android.googlesource.com/platform/external/avb/#locked-and-unlocked-mode">here</a>.</li>
</ul></li>
<li><p>SHOULD make preinstalled essential apps (e.g. Alarm, Phone, Messenger)
Direct Boot aware.</p></li>
</ul>

<p>The upstream Android Open Source project provides a preferred implementation of
File Based Encryption based on the Linux kernel &quot;fscrypt&quot; encryption feature,
and of Metadata Encryption based on the Linux kernel &quot;dm-default-key&quot; feature.</p>

<h4 id="994_resume_on_reboot" data-text="9.9.4. Resume on Reboot">9.9.4. Resume on Reboot</h4>

<p>Resume on Reboot allows unlocking the CE storage of all apps, including those
that do not yet support Direct Boot, after a reboot initiated by an OTA. This
feature enables users to receive notifications from installed apps after the
reboot.</p>

<p>An implementation of Resume-on-Reboot must continue to ensure that when a
device falls into an attacker’s hands, it is extremely difficult for that
attacker to recover the user’s CE-encrypted data, even if the device is powered
on, CE storage is unlocked, and the user has unlocked the device after receiving
an OTA. For insider attack resistance, we also assume the attacker gains access
to broadcast cryptographic signing keys.</p>

<p>Specifically:</p>

<ul>
<li><p>[C-0-1] CE storage MUST NOT be readable even for the attacker who physically has
the device and then has these capabilities and limitations:</p>

<ul>
<li>Can use the signing key of any vendor or company to sign arbitrary
messages.</li>
<li>Can cause an OTA to be received by the device.</li>
<li>Can modify the operation of any hardware (AP, flash etc) except as
detailed below, but such modification involves a delay of at least an
hour and a power cycle that destroys RAM contents.</li>
<li>Cannot modify the operation of tamper-resistant hardware (eg Titan M).</li>
<li>Cannot read the RAM of the live device.</li>
<li>Cannot obtain the user’s credential (PIN, pattern, password) or
otherwise cause it to be entered.</li>
</ul></li>
</ul>

<p>By way of example, a device implementation that implements and complies with all
of the descriptions found <a href="https://source.android.com/devices/tech/ota/resume-on-reboot">here</a>
will be compliant with [C-0-1].</p>

<h3 id="910_device_integrity" data-text="9.10. Device Integrity">9.10. Device Integrity</h3>

<p>The following requirements ensure there is transparency to the status of the
device integrity. Device implementations:</p>

<ul>
<li><p>[C-0-1] MUST correctly report through the System API method
<code translate="no" dir="ltr">PersistentDataBlockManager.getFlashLockState()</code> whether their bootloader
state permits flashing of the system image. The <code translate="no" dir="ltr">FLASH_LOCK_UNKNOWN</code> state is
reserved for device implementations upgrading from an earlier version of Android
where this new system API method did not exist.</p></li>
<li><p>[C-0-2] MUST support Verified Boot for device integrity.</p></li>
</ul>

<p>If device implementations are already launched without supporting Verified Boot
on an earlier version of Android and can not add support for this
feature with a system software update, they MAY be exempted from the
requirement.</p>

<p>Verified Boot is a feature that guarantees the integrity of the device
software. If device implementations support the feature, they:</p>

<ul>
<li>[C-1-1] MUST declare the platform feature flag
<code translate="no" dir="ltr">android.software.verified_boot</code>.</li>
<li>[C-1-2] MUST perform verification on every boot sequence.</li>
<li>[C-1-3] MUST start verification from an immutable hardware key that is the
root of trust and go all the way up to the system partition.</li>
<li>[C-1-4] MUST implement each stage of verification to check the integrity
and authenticity of all the bytes in the next stage before executing the code in
the next stage.</li>
<li>[C-1-5] MUST use verification algorithms as strong as current
recommendations from NIST for hashing algorithms (SHA-256) and public key
sizes (RSA-2048).</li>
<li>[C-1-6] MUST NOT allow boot to complete when system verification fails,
unless the user consents to attempt booting anyway, in which case the data from
any non-verified storage blocks MUST not be used.</li>
<li>[C-1-7] MUST NOT allow verified partitions on the device to be modified
unless the user has explicitly unlocked the bootloader.</li>
<li>[C-SR] If there are multiple discrete chips in the device (e.g. radio,
specialized image processor), the boot process of each of those chips is
STRONGLY RECOMMENDED to verify every stage upon booting.</li>
<li>[C-1-8] MUST use tamper-evident storage: for storing whether the
bootloader is unlocked. Tamper-evident storage means that the bootloader can
detect if the storage has been tampered with from inside Android.</li>
<li>[C-1-9] MUST prompt the user, while using the device, and
require physical confirmation before allowing a transition from bootloader
locked mode to bootloader unlocked mode.</li>
<li>[C-1-10] MUST implement rollback protection for partitions used by Android
(e.g. boot, system partitions) and use tamper-evident storage for storing the
metadata used for determining the minimum allowable OS version.</li>
<li>[C-1-11] MUST securely erase all user data during bootloader unlock and
 lock, as per &#39;9.12. Data Deletion&#39; (including the userdata partition and
 any NVRAM spaces).</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to verify all privileged app APK files with
a chain of trust rooted in partitions protected by Verified Boot.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to verify any executable artifacts loaded by
a privileged app from outside its APK file (such as dynamically loaded code or
compiled code) before executing them or STRONGLY RECOMMENDED not to execute them
at all.</li>
<li>SHOULD implement rollback protection for any component with persistent
firmware (e.g. modem, camera) and SHOULD use tamper-evident storage for
storing the metadata used for determining the minimum allowable version.</li>
</ul>

<p>If device implementations are already launched without supporting C-1-8 through
C-1-11 on an earlier version of Android and can not add support for
these requirements with a system software update, they MAY be exempted from the
requirements.</p>

<p>The upstream Android Open Source Project provides a preferred implementation of
this feature in the <a href="http://android.googlesource.com/platform/external/avb/"><code translate="no" dir="ltr">external/avb/</code></a>
repository, which can be integrated into the bootloader used for loading
Android.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-3] MUST support cryptographically verifying file content against a
 trusted key without reading the whole file.</li>
<li>[C-0-4] MUST NOT allow the read requests on a protected file to succeed
 when the read content do not verify against a trusted key.</li>
<li>[C-0-5] MUST enable the above-described cryptographic file verification
 protection for all files for the package that is installed
 with trusted signature files as described <a href="https://developer.android.com/preview/security/features/apk-verity">here</a>.</li>
</ul>

<p>If device implementations are already launched without the ability to verify
file content against a trusted key on an earlier Android version and can not add
support for this feature with a system software update, they MAY be exempted
from the requirement. The upstream Android Open Source project provides a
preferred implementation of this feature based on the Linux kernel <a href="https://www.kernel.org/doc/html/latest/filesystems/fsverity.html">fs-verity</a> feature.</p>

<p>Device implementations:</p>

<ul>
<li>[C-R] Are RECOMMENDED to support the <a href="https://developer.android.com/preview/features/security.html#user-confirmation">Android Protected Confirmation API</a>.</li>
</ul>

<p>If device implementations support the Android Protected Confirmation
API they:</p>

<ul>
<li><p>[C-3-1] MUST report <code translate="no" dir="ltr">true</code> for the <a href="https://developer.android.com/reference/android/security/ConfirmationPrompt.html#isSupported%28android.content.Context%29"><code translate="no" dir="ltr">ConfirmationPrompt.isSupported()</code></a>
API.</p></li>
<li><p>[C-3-2] MUST ensure that code running in the Android OS including its
 kernel, malicious or otherwise, cannot generate a positive response without
 user interaction.</p></li>
<li><p>[C-3-3] MUST ensure that the user has been able to review and approve the
 prompted message even in the event that the Android OS, including its kernel,
 is compromised.</p></li>
</ul>

<h3 id="911_keys_and_credentials" data-text="9.11. Keys and Credentials">9.11. Keys and Credentials</h3>

<p>The <a href="https://developer.android.com/training/articles/keystore.html">Android Keystore System</a>
allows app developers to store cryptographic keys in a container and use them in
cryptographic operations through the <a href="https://developer.android.com/reference/android/security/KeyChain.html">KeyChain API</a>
or the <a href="https://developer.android.com/reference/java/security/KeyStore.html">Keystore API</a>.
Device implementations:</p>

<ul>
<li>[C-0-1] MUST allow at least 8,192 keys to be imported or generated.</li>
<li>[C-0-2] The lock screen authentication MUST rate-limit attempts and MUST
have an exponential backoff algorithm. Beyond 150 failed attempts, the delay
MUST be at least 24 hours per attempt.</li>
<li>SHOULD not limit the number of keys that can be generated</li>
</ul>

<p>When the device implementation supports a secure lock screen, it:</p>

<ul>
<li>[C-1-1] MUST back up the keystore implementation with an isolated
 execution environment.</li>
<li>[C-1-2] MUST have implementations of RSA, AES, ECDSA and HMAC cryptographic
algorithms and MD5, SHA1, and SHA-2 family hash functions to properly support
the Android Keystore system&#39;s supported algorithms in an area that is securely
isolated from the code running on the kernel and above. Secure isolation MUST
block all potential mechanisms by which kernel or userspace code might access
the internal state of the isolated environment, including DMA. The upstream
Android Open Source Project (AOSP) meets this requirement by using the
<a href="https://source.android.com/security/trusty/">Trusty</a> implementation, but
another ARM TrustZone-based solution or a third-party reviewed secure
implementation of a proper hypervisor-based isolation are alternative options.</li>
<li>[C-1-3] MUST perform the lock screen authentication in the isolated
execution environment and only when successful, allow the authentication-bound
keys to be used. Lock screen credentials MUST be stored in a
way that allows only the isolated execution environment to perform lock screen
authentication. The upstream Android Open Source Project provides the
<a href="http://source.android.com/devices/tech/security/authentication/gatekeeper.html">Gatekeeper Hardware Abstraction Layer (HAL)</a>
and Trusty, which can be used to satisfy this requirement.</li>
<li>[C-1-4] MUST support key attestation where the attestation signing key is
protected by secure hardware and signing is performed in secure hardware. The
attestation signing keys MUST be shared across large enough number of devices to
prevent the keys from being used as device identifiers. One way of meeting this
requirement is to share the same attestation key unless at least 100,000 units
of a given SKU are produced. If more than 100,000 units of an SKU are produced,
a different key MAY be used for each 100,000 units.</li>
</ul>

<p>Note that if a device implementation is already launched on an earlier Android
version, such a device is exempted from the requirement to have a keystore
backed by an isolated execution environment and support the key attestation,
unless it declares the <code translate="no" dir="ltr">android.hardware.fingerprint</code> feature which requires a
keystore backed by an isolated execution environment.</p>

<ul>
<li>[C-1-5] MUST allow the user to choose the Sleep timeout for transition from
 the unlocked to the locked state, with a minimum allowable timeout up to
 15 seconds. Automotive devices, that lock the screen whenever the head unit
 is turned off or the user is switched, MAY NOT have the Sleep timeout
 configuration.</li>
<li>[C-1-6] MUST support IKeymasterDevice 4.0, IKeymasterDevice 4.1 or
 IKeyMintDevice version 1.</li>
<li>[C-SR] Is STRONGLY RECOMMENDED to support IKeyMintDevice version 1.</li>
</ul>

<h4 id="9111_secure_lock_screen_and_authentication" data-text="9.11.1. Secure Lock Screen and Authentication">9.11.1. Secure Lock Screen and Authentication</h4>

<p>The AOSP implementation follows a tiered authentication model where a
knowledge-factory based primary authentication can be backed by either a
secondary strong biometric, or by weaker tertiary modalities.</p>

<p>Device implementations:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to set only one of the following as the primary authentication
method:
<ul>
<li>A numerical PIN</li>
<li>An alphanumerical password</li>
<li>A swipe pattern on a grid of exactly 3x3 dots</li>
</ul></li>
</ul>

<p>Note that the above authentication methods are referred as the recommended
primary authentication methods in this document.</p>

<p>If device implementations add or modify the recommended primary authentication
methods and use a new authentication method as a secure way to lock the screen,
the new authentication method:</p>

<ul>
<li>[C-2-1] MUST be the user authentication method as described in
 <a href="https://developer.android.com/training/articles/keystore.html#UserAuthentication">Requiring User Authentication For Key Use</a>.</li>
</ul>

<p>If device implementations add or modify the authentication methods to unlock
the lock screen if based on a known secret and use a new authentication
method to be treated as a secure way to lock the screen:</p>

<ul>
<li>[C-3-1] The entropy of the shortest allowed length of inputs MUST be
 greater than 10 bits.</li>
<li>[C-3-2] The maximum entropy of all possible inputs MUST be greater than
 18 bits.</li>
<li>[C-3-3] The new authentication method MUST NOT replace any of the
 recommended primary authentication methods (i.e. PIN, pattern, password)
 implemented and provided in AOSP.</li>
<li>[C-3-4] The new authentication method MUST be disabled when the
 Device Policy Controller (DPC) application has set the password
 requirements policy via the
 <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#setRequiredPasswordComplexity(int)">DevicePolicyManager.setRequiredPasswordComplexity()</a>
 with a more restrictive complexity constant than
 <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#PASSWORD_COMPLEXITY_NONE">PASSWORD_COMPLEXITY_NONE</a>
 or via the <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#setPasswordQuality(android.content.ComponentName,%20int)">DevicePolicyManager.setPasswordQuality()</a>
 method with a more restrictive constant than
 <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#PASSWORD_QUALITY_BIOMETRIC_WEAK">PASSWORD_QUALITY_BIOMETRIC_WEAK</a>.</li>
<li>[C-3-5] New authentication methods MUST either fall back to the
 recommended primary authentication methods (i.e. PIN, pattern,
 password) once every 72 hours or less OR clearly disclose to the
 user that some data will not be backed up in order to preserve
 the privacy of their data.</li>
</ul>

<p>If device implementations add or modify the recommended primary authentication
methods to unlock the lock screen and use a new authentication method that is
based on biometrics to be treated as a secure way to lock the screen, the new
method:</p>

<ul>
<li>[C-4-1] MUST meet all requirements described in <a href="#7_3_10_biometric_sensors">section
 7.3.10</a> for <strong>Class 1</strong> (formerly
 <strong>Convenience</strong>).</li>
<li>[C-4-2] MUST have a fall-back mechanism to use one of the recommended
 primary authentication methods which is based on a known secret.</li>
<li>[C-4-3] MUST be disabled and only allow the recommended primary
 authentication to unlock the screen when the Device Policy Controller (DPC)
 application has set the keyguard feature policy by calling the method
 <a href="http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#setKeyguardDisabledFeatures%28android.content.ComponentName,%20int%29"><code translate="no" dir="ltr">DevicePolicyManager.setKeyguardDisabledFeatures()</code></a>
 , with any of the associated biometric flags (i.e.
 <code translate="no" dir="ltr">KEYGUARD_DISABLE_BIOMETRICS</code>, <code translate="no" dir="ltr">KEYGUARD_DISABLE_FINGERPRINT</code>,
 <code translate="no" dir="ltr">KEYGUARD_DISABLE_FACE</code>, or <code translate="no" dir="ltr">KEYGUARD_DISABLE_IRIS</code>).</li>
</ul>

<p>If the biometric authentication methods do not meet the requirements
for <strong>Class 3</strong> (formerly <strong>Strong</strong>) as described in
<a href="#7_3_10_biometric_sensors">section 7.3.10</a>:</p>

<ul>
<li>[C-5-1] The methods MUST be disabled if the Device Policy Controller (DPC)
 application has set the password requirements quality policy via
 the [DevicePolicyManager.setRequiredPasswordComplexity()](
 https://developer.android.com/reference/android/app/admin/DevicePolicyManager#setRequiredPasswordComplexity(int))
 with a more restrictive complexity bucket than <code translate="no" dir="ltr">PASSWORD_COMPLEXITY_LOW</code>
 or using [DevicePolicyManager.setPasswordQuality()](https://developer.android.com/reference/android/app/admin/DevicePolicyManager#setPasswordQuality(android.content.ComponentName,%20int))
 method with a more restrictive quality constant than
 <code translate="no" dir="ltr">PASSWORD_QUALITY_BIOMETRIC_WEAK</code>.</li>
<li>[C-5-2] The user MUST be challenged for the recommended primary
 authentication (eg: PIN, pattern, password) as described in [C-1-7] and
 [C-1-8] in <a href="#7_3_10_biometric_sensors">section 7.3.10</a>.</li>
<li>[C-5-3] The methods MUST NOT be treated as a secure lock screen, and MUST
 meet the requirements that start with C-8 in this section below.</li>
</ul>

<p>If device implementations add or modify the authentication methods to unlock
the lock screen and a new authentication method is based on a physical token
or the location:</p>

<ul>
<li>[C-6-1] They MUST have a fall-back mechanism to use one of the recommended
 primary authentication methods which is based on a known secret and meet
 the requirements to be treated as a secure lock screen.</li>
<li>[C-6-2] The new method MUST be disabled and only allow one of the
 recommended primary authentication methods to unlock the screen when the
 Device Policy Controller (DPC) application has set the policy with either:
<ul>
<li>The
[<code translate="no" dir="ltr">DevicePolicyManager.setKeyguardDisabledFeatures(KEYGUARD_DISABLE_TRUST_AGENTS)</code>](
http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#setKeyguardDisabledFeatures(android.content.ComponentName,%20int))
method</li>
<li>The
[<code translate="no" dir="ltr">DevicePolicyManager.setPasswordQuality()</code>](
https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#setPasswordQuality(android.content.ComponentName,%20int))
method with a more restrictive quality constant than
<code translate="no" dir="ltr">PASSWORD_QUALITY_NONE</code>.</li>
<li>The [<code translate="no" dir="ltr">DevicePolicyManager.setRequiredPasswordComplexity()</code>](
https://developer.android.com/reference/android/app/admin/DevicePolicyManager#setRequiredPasswordComplexity(int))
method with a more restrictive complexity bucket than
<code translate="no" dir="ltr">PASSWORD_COMPLEXITY_NONE</code>.</li>
</ul></li>
<li>[C-6-3] The user MUST be challenged for one of the recommended primary
 authentication methods (e.g.PIN, pattern, password) at least once every 4
 hours or less.</li>
<li>[C-6-4] The new method MUST NOT be treated as a secure lock screen and MUST
 follow the constraints listed in C-8 below.</li>
</ul>

<p>If device implementations have a secure lock screen and include one or more
trust agent, which implements the <code translate="no" dir="ltr">TrustAgentService</code> System API, they:</p>

<ul>
<li>[C-7-1] MUST have clear indication in the settings menu and on the lock
 screen when device lock is deferred or can be unlocked by trust agent(s).
 For example, AOSP meets this requirement by showing a text description for
 the &quot;Automatically lock setting&quot; and &quot;Power button instantly locks&quot; in the
 settings menu and a distinguishable icon on the lock screen.</li>
<li>[C-7-2] MUST respect and fully implement all trust agent APIs in the
 <code translate="no" dir="ltr">DevicePolicyManager</code> class, such as the
 <a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#KEYGUARD&amp;lowbarDISABLE&amp;lowbarTRUST&amp;lowbarAGENTS"><code translate="no" dir="ltr">KEYGUARD_DISABLE_TRUST_AGENTS</code></a>
 constant.</li>
<li>[C-7-3] MUST NOT fully implement the <code translate="no" dir="ltr">TrustAgentService.addEscrowToken()</code>
 function on a device that is used as a primary personal device
 (e.g. handheld) but MAY fully implement the function on device
 implementations that are typically shared (e.g. Android Television or
 Automotive device).</li>
<li>[C-7-4] MUST encrypt all stored tokens added by
 <code translate="no" dir="ltr">TrustAgentService.addEscrowToken()</code>.</li>
<li>[C-7-5] MUST NOT store the encryption key or escrow token on the
 same device where the key is used. For example, it is allowed for
 a key stored on a phone to unlock a user account on a TV.
 For Automotive devices, it is not allowed for the escrow token to be stored
 on any part of the vehicle.</li>
<li>[C-7-6] MUST inform the user about the security implications before
 enabling the escrow token to decrypt the data storage.</li>
<li>[C-7-7] MUST have a fall-back mechanism to use one of the recommended
 primary authentication methods.</li>
<li>[C-7-8] The user MUST be challenged for one of the recommended primary
 authentication (eg: PIN, pattern, password) methods at least once every 72
 hours or less unless the safety of the user (e.g. driver distraction)
 is of concern.</li>
<li>[C-7-9] The user MUST be challenged for one of the recommended primary
 authentication (eg: PIN, pattern, password) methods as described in
 [C-1-7] and [C-1-8] in <a href="#7_3_10_biometric_sensors">section 7.3.10</a>, unless
 the safety of the user (e.g. driver distraction) is of concern.</li>
<li>[C-7-10] MUST NOT be treated as a secure lock screen and MUST follow the
 constraints listed in C-8 below.</li>
<li>[C-7-11] MUST NOT allow TrustAgents on primary personal devices
 (e.g: handheld) to unlock the device, and can only use them to
 keep an already unlocked device in the unlocked state for up to a
 maximum of 4 hours. The default implementation of
 TrustManagerService in AOSP meets this requirement.</li>
<li>[C-7-12] MUST use a cryptographically secure (e.g UKEY2)
 communication channel to pass the escrow token from the storage
 device to the target device.</li>
</ul>

<p>If device implementations add or modify the authentication methods to unlock
the lock screen that is not a secure lock screen as described above, and use
a new authentication method to unlock the keyguard:</p>

<ul>
<li>[C-8-1] The new method MUST be disabled when the Device Policy Controller
 (DPC) application has set the password quality policy via the
 [<code translate="no" dir="ltr">DevicePolicyManager.setPasswordQuality()</code>](
 https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#setPasswordQuality(android.content.ComponentName,%20int))
 method with a more restrictive quality constant than
 <code translate="no" dir="ltr">PASSWORD_QUALITY_NONE</code> or via the
 [<code translate="no" dir="ltr">DevicePolicyManager.setRequiredPasswordComplexity()</code>](
 https://developer.android.com/reference/android/app/admin/DevicePolicyManager#setRequiredPasswordComplexity(int))
 with a more restrictive complexity constant than
&#39;PASSWORD_COMPLEXITY_NONE&#39;.</li>
<li>[C-8-2] They MUST NOT reset the password expiration timers set by
 [<code translate="no" dir="ltr">DevicePolicyManager.setPasswordExpirationTimeout()</code>](
 http://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#setPasswordExpirationTimeout(android.content.ComponentName,%20long)).</li>
<li>[C-8-3] They MUST NOT expose an API for use by third-party apps to
 determine the lock state.</li>
</ul>

<p>If device implementations support separate display power states through
<code translate="no" dir="ltr">DeviceStateManager</code> AND support separate display lock states through
<code translate="no" dir="ltr">KeyguardDisplayManager</code>, they:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to utilize a credential meeting
requirements defined in section 9.11.1 or a Biometric meeting at least
Class 1 specifications defined in section 7.3.10 to allow independent
unlocking from the default device display.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to constrain separate display unlock
via a defined display timeout.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to allow user to globally lock all displays
through lockdown from primary handheld device.</li>
</ul>

<h4 id="9112_strongbox" data-text="9.11.2. StrongBox">9.11.2. StrongBox</h4>

<p>The <a href="https://developer.android.com/training/articles/keystore.html">Android Keystore System</a> allows
app developers to store cryptographic keys in a dedicated secure processor as
well as the isolated execution environment described above.  Such a
dedicated secure processor is called &quot;StrongBox&quot;.  Requirements C-1-3
through C-1-11 below define the requirements a device must meet to
qualify as a StrongBox.</p>

<p>Device implementations that have a dedicated secure processor:</p>

<ul>
<li>[C-SR] Are STRONGLY RECOMMENDED to support StrongBox. StrongBox will
 likely become a requirement in a future release.</li>
</ul>

<p>If device implementations support StrongBox, they:</p>

<ul>
<li><p>[C-1-1] MUST declare <a href="https://developer.android.com/reference/kotlin/android/content/pm/PackageManager#FEATURE_STRONGBOX_KEYSTORE%3Akotlin.String">FEATURE_STRONGBOX_KEYSTORE</a>.</p></li>
<li><p>[C-1-2] MUST provide dedicated secure hardware that is used to back
keystore and secure user authentication.  The dedicated secure
hardware may be used for other purposes as well.</p></li>
<li><p>[C-1-3] MUST have a discrete CPU that shares no cache, DRAM, coprocessors
or other core resources with the application processor (AP).</p></li>
<li><p>[C-1-4] MUST ensure that any peripherals shared with the AP cannot alter
StrongBox processing in any way, or obtain any information from the StrongBox.
The AP MAY disable or block access to StrongBox.</p></li>
<li><p>[C-1-5] MUST have an internal clock with reasonable accuracy (+-10%)
that is immune to manipulation by the AP.</p></li>
<li><p>[C-1-6] MUST have a true random number generator that produces
uniformly-distributed and unpredictable output.</p></li>
<li><p>[C-1-7] MUST have tamper resistance, including resistance against
physical penetration, and glitching.</p></li>
<li><p>[C-1-8] MUST have side-channel resistance, including resistance against
leaking information via power, timing, electromagnetic radiation, and thermal
radiation side channels.</p></li>
<li><p>[C-1-9] MUST have secure storage which ensures confidentiality,
integrity, authenticity, consistency, and freshness of the
contents. The storage MUST NOT be able to be read or altered, except
as permitted by the StrongBox APIs.</p></li>
<li><p>To validate compliance with [C-1-3] through [C-1-9], device
 implementations:</p>

<ul>
<li>[C-1-10] MUST include the hardware that is certified against the
 Secure IC Protection Profile <a href="https://www.commoncriteriaportal.org/files/ppfiles/pp0084b_pdf.pdf">BSI-CC-PP-0084-2014</a> or
 evaluated by a nationally accredited testing laboratory incorporating
 High attack potential vulnerability assessment according to the
 <a href="https://www.commoncriteriaportal.org/files/supdocs/CCDB-2013-05-002.pdf">Common Criteria Application of Attack Potential to Smartcards</a>.</li>
<li>[C-1-11] MUST include the firmware that is evaluated by a
 nationally accredited testing laboratory incorporating High attack
 potential vulnerability assessment according to the
 <a href="https://www.commoncriteriaportal.org/files/supdocs/CCDB-2013-05-002.pdf">Common Criteria Application of Attack Potential to Smartcards</a>.</li>
<li>[C-SR] Are STRONGLY RECOMMENDED to include the hardware that is
 evaluated using a Security Target, Evaluation Assurance Level
 (EAL) 5, augmented by AVA_VAN.5.  EAL 5 certification will likely
 become a requirement in a future release.</li>
</ul></li>
<li><p>[C-SR] are STRONGLY RECOMMENDED to provide insider attack resistance (IAR),
which means that an insider with access to firmware signing keys cannot produce
firmware that causes the StrongBox to leak secrets, to bypass functional
security requirements or otherwise enable access to sensitive user data. The
recommended way to implement IAR is to allow firmware updates only when the
primary user password is provided via the IAuthSecret HAL. IAR will likely
become a requirement in a future release.</p></li>
</ul>

<h4 id="9113_identity_credential" data-text="9.11.3. Identity Credential">9.11.3. Identity Credential</h4>

<p>The Identity Credential System is defined and achieved by implementing all
APIs in the
<a href="https://developer.android.com/reference/android/security/identity/package-summary"><code translate="no" dir="ltr">android.security.identity.*</code></a>
package. These APIs allows app developers to store and retrieve user identity
documents. Device implementations:</p>

<ul>
<li>[C-SR] are STRONGLY RECOMMENDED to implement the Identity Credential
System.</li>
</ul>

<p>If device implementations implement the Identity Credential System, they:</p>

<ul>
<li><p>[C-0-1] MUST return non-null for the <a href="https://developer.android.com/reference/android/security/identity/IdentityCredentialStore#getInstance%28android.content.Context%29">IdentityCredentialStore#getInstance()</a>
 method.</p></li>
<li><p>[C-0-2] MUST implement the Identity Credential System (e.g. the
 <code translate="no" dir="ltr">android.security.identity.*</code> APIs) with code communicating with a trusted
 application in an area that is securely isolated from the code running on
 the kernel and above. Secure isolation MUST block all potential mechanisms
 by which kernel or userspace code might access the internal state of the
 isolated environment, including DMA.</p></li>
<li><p>[C-0-3] The cryptographic operations needed to implement the Identity
 Credential System (e.g. the <code translate="no" dir="ltr">android.security.identity.*</code> APIs) MUST be
 performed entirely in the trusted application and private key material MUST
 never leave the isolated execution environment unless specifically required
 by higher-level APIs (e.g. the
 <a href="https://developer.android.com/reference/android/security/identity/IdentityCredential#createEphemeralKeyPair%28%29">createEphemeralKeyPair()</a>
 method).</p></li>
<li><p>[C-0-4] The trusted application MUST be implemented in a way such that its
 security properties  are not affected (e.g. credential data is not released unless access
 control conditions are satisfied, MACs can&#39;t be produced for arbitrary
 data) even if Android is misbehaving or compromised.</p></li>
</ul>

<h3 id="912_data_deletion" data-text="9.12. Data Deletion">9.12. Data Deletion</h3>

<p>All device implementations:</p>

<ul>
<li>[C-0-1] MUST provide users a mechanism to perform a &quot;Factory Data Reset&quot;.</li>
<li>[C-0-2] MUST delete all data on the userdata filesystem.</li>
<li>[C-0-3] MUST delete the data in such a way that will satisfy relevant
industry standards such as NIST SP800-88.</li>
<li>[C-0-4] MUST trigger the above &quot;Factory Data Reset&quot; process when the
<a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager.html#wipeData%28int%29"><code translate="no" dir="ltr">DevicePolicyManager.wipeData()</code></a>
API is called by the primary user&#39;s Device Policy Controller app.</li>
<li>MAY provide a fast data wipe option that conducts only a logical data erase.</li>
</ul>

<h3 id="913_safe_boot_mode" data-text="9.13. Safe Boot Mode">9.13. Safe Boot Mode</h3>

<p>Android provides Safe Boot Mode, which allows users to boot up into a mode
where only preinstalled system apps are allowed to run and all third-party
apps are disabled. This mode, known as &quot;Safe Boot Mode&quot;, provides the user the
capability to uninstall potentially harmful third-party apps.</p>

<p>Device implementations are:</p>

<ul>
<li>[SR] STRONGLY RECOMMENDED to implement Safe Boot Mode.</li>
</ul>

<p>If device implementations implement Safe Boot Mode, they:</p>

<ul>
<li><p>[C-1-1] MUST provide the user an option to
enter Safe Boot Mode in such a way that is uninterruptible from third-party
apps installed on the device, except when the third-party app is a
Device Policy Controller and has set the <a href="https://developer.android.com/reference/android/os/UserManager.html#DISALLOW_SAFE_BOOT"><code translate="no" dir="ltr">UserManager.DISALLOW_SAFE_BOOT</code></a>
flag as true.</p></li>
<li><p>[C-1-2] MUST provide the user the capability to
uninstall any third-party apps within Safe Mode.</p></li>
<li><p>SHOULD provide the user an option to enter Safe Boot Mode from the
boot menu using a workflow that is different from that of a normal boot.</p></li>
</ul>

<h3 id="914_automotive_vehicle_system_isolation" data-text="9.14. Automotive Vehicle System Isolation">9.14. Automotive Vehicle System Isolation</h3>

<p>Android Automotive devices are expected to exchange data with critical vehicle
subsystems by using the <a href="http://source.android.com/devices/automotive.html">vehicle HAL</a>
to send and receive messages over vehicle networks such as CAN bus.</p>

<p>The data exchange can be secured by implementing security features below the
Android framework layers to prevent malicious or unintentional interaction with
these subsystems.</p>

<h3 id="915_subscription_plans" data-text="9.15. Subscription Plans">9.15. Subscription Plans</h3>

<p>&quot;Subscription plans&quot; refer to the billing relationship plan details provided
by a mobile carrier through <a href="https://developer.android.com/reference/android/telephony/SubscriptionManager.html#setSubscriptionPlans%28int,%20java.util.List%3Candroid.telephony.SubscriptionPlan%3E%29"><code translate="no" dir="ltr">SubscriptionManager.setSubscriptionPlans()</code></a>.</p>

<p>All device implementations:</p>

<ul>
<li>[C-0-1] MUST return subscription plans only to the mobile carrier app that
has originally provided them.</li>
<li>[C-0-2] MUST NOT remotely back up or upload subscription plans.</li>
<li>[C-0-3] MUST only allow overrides, such as <a href="https://developer.android.com/reference/android/telephony/SubscriptionManager.html#setSubscriptionOverrideCongested%28int,%20boolean,%20long%29"><code translate="no" dir="ltr">SubscriptionManager.setSubscriptionOverrideCongested()</code></a>,
from the mobile carrier app currently providing valid subscription plans.</li>
</ul>

<h3 id="916_application_data_migration" data-text="9.16. Application Data Migration">9.16. Application Data Migration</h3>

<p>If device implementations include a capability to migrate data from a device to
another device and do not limit the application data it copies to what is
configured by the application developer in the manifest via
<a href="https://developer.android.com/guide/topics/data/autobackup#IncludingFiles">android:fullBackupContent</a>
attribute, they:</p>

<ul>
<li>[C-1-1] MUST NOT initiate transfers of application data from
 devices on which the user has not set a primary authentication as
 described in <a href="#9_11_1_secure_lock_screen_and_authentication">9.11.1 Secure Lock Screen and Authentication</a>.</li>
<li>[C-1-2] MUST securely confirm the primary authentication on the source
 device and confirm with the user intent to copy the data on the source
 device before any data is transferred.</li>
<li>[C-1-3] MUST use security key attestation to ensure that both the source
 device and the target device in the device-to-device migration are
 legitimate Android devices and have a locked bootloader.</li>
<li>[C-1-4] MUST only migrate application data to the same application on the
 target device, with the same package name AND signing certificate.</li>
<li>[C-1-5] MUST show an indication that the source device has had data
 migrated by a device-to-device data migration in the settings menu. A user
 SHOULD NOT be able to remove this indication.</li>
</ul>

<h2 id="10_software_compatibility_testing" data-text="10. Software Compatibility Testing">10. Software Compatibility Testing</h2>

<p>Device implementations MUST pass all tests described in this
section.
However, note that no software test package is fully comprehensive.
For this reason, device implementers are <strong>STRONGLY RECOMMENDED</strong> to make the
minimum number of changes as possible to the reference and preferred
implementation of Android available from the Android Open Source Project.
This will minimize the risk of introducing bugs that create incompatibilities
requiring rework and potential device updates.</p>

<h3 id="101_compatibility_test_suite" data-text="10.1. Compatibility Test Suite">10.1. Compatibility Test Suite</h3>

<p>Device implementations:</p>

<ul>
<li><p>[C-0-1] MUST pass the <a href="http://source.android.com/compatibility/index.html">Android Compatibility Test Suite (CTS)</a>
available from the Android Open Source Project, using the final shipping
software on the device.</p></li>
<li><p>[C-0-2] MUST ensure compatibility in cases of ambiguity in CTS and for any
reimplementations of parts of the reference source code.</p></li>
</ul>

<p>The CTS is designed to be run on an actual device. Like any software, the CTS
may itself contain bugs. The CTS will be versioned independently of this
Compatibility Definition, and multiple revisions of the CTS may be released for
Android 12.</p>

<p>Device implementations:</p>

<ul>
<li><p>[C-0-3] MUST pass the latest CTS version available at the time the device
software is completed.</p></li>
<li><p>SHOULD use the reference implementation in the Android Open Source tree
as much as possible.</p></li>
</ul>

<h3 id="102_cts_verifier" data-text="10.2. CTS Verifier">10.2. CTS Verifier</h3>

<p>The CTS Verifier is included with the Compatibility Test Suite, and
is intended to be run by a human operator to test functionality that cannot be
tested by an automated system, such as correct functioning of a camera and
sensors.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-1] MUST correctly execute all applicable cases in the CTS verifier.</li>
</ul>

<p>The CTS Verifier has tests for many kinds of hardware, including some hardware
that is optional.</p>

<p>Device implementations:</p>

<ul>
<li>[C-0-2]  MUST pass all tests for hardware that they possess; for instance,
if a device possesses an accelerometer, it MUST correctly execute the
Accelerometer test case in the CTS Verifier.</li>
</ul>

<p>Test cases for features noted as optional by this Compatibility Definition
Document MAY be skipped or omitted.</p>

<ul>
<li>[C-0-2] Every device and every build MUST correctly run the CTS Verifier,
as noted above. However, since many builds are very similar, device
implementers are not expected to explicitly run the CTS Verifier on builds
that differ only in trivial ways. Specifically, device implementations that
differ from an implementation that has passed the CTS Verifier only by the
set of included locales, branding, etc. MAY omit the CTS Verifier test.</li>
</ul>

<h2 id="11_updatable_software" data-text="11. Updatable Software">11. Updatable Software</h2>

<ul>
<li><p>[C-0-1] Device implementations MUST include a mechanism to replace the
entirety of the system software. The mechanism need not perform “live”
upgrades—that is, a device restart MAY be required.
Any method can be used, provided that it can replace the entirety of the
software preinstalled on the device. For instance, any of the following
approaches will satisfy this requirement:</p>

<ul>
<li>“Over-the-air (OTA)” downloads with offline update via reboot.</li>
<li>“Tethered” updates over USB from a host PC.</li>
<li>“Offline” updates via a reboot and update from a file on removable storage.</li>
</ul></li>
<li><p>[C-0-2] The update mechanism used MUST support updates without wiping user
data. That is, the update mechanism MUST preserve application private data and
application shared data. Note that the upstream Android software includes an
update mechanism that satisfies this requirement.</p></li>
<li><p>[C-0-3] The entire update MUST be signed and the on-device update mechanism
 MUST verify the update and signature against a public key stored on device.</p></li>
<li><p>[C-SR] The signing mechanism is STRONGLY RECOMMENDED to hash the update
 with SHA-256 and validate the hash against the public key using ECDSA NIST
 P-256.</p></li>
</ul>

<p>If the device implementations includes support for an unmetered data
connection such as 802.11 or Bluetooth PAN (Personal Area Network) profile,
then, they:</p>

<ul>
<li>[C-1-1] MUST support OTA downloads with offline update via reboot.</li>
</ul>

<p>For device implementations that are launching with Android 6.0 and
later, the update mechanism SHOULD support verifying that the system image is
binary identical to expected result following an OTA. The block-based OTA
implementation in the upstream Android Open Source Project, added since Android
5.1, satisfies this requirement.</p>

<p>Also, device implementations SHOULD support <a href="https://source.android.com/devices/tech/ota/ab_updates.html">A/B system updates</a>.
The AOSP implements this feature using the boot control HAL.</p>

<p>If an error is found in a device implementation after it has been released but
within its reasonable product lifetime that is determined in consultation with
the Android Compatibility Team to affect the compatibility of third-party
applications, then:</p>

<ul>
<li>[C-2-1]  The device implementer MUST correct the error via a software
update available that can be applied per the mechanism just described.</li>
</ul>

<p>Android includes features that allow the Device Owner app (if present) to
control the installation of system updates. If the system update subsystem
for devices report android.software.device_admin then, they:</p>

<ul>
<li>[C-3-1]  MUST implement the behavior described in the <a href="http://developer.android.com/reference/android/app/admin/SystemUpdatePolicy.html">SystemUpdatePolicy</a>
class.</li>
</ul>

<h2 id="12_document_changelog" data-text="12. Document Changelog">12. Document Changelog</h2>

<p>For a summary of changes to the Compatibility Definition in this release:</p>

<ul>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/?pretty=full&amp;no-merges">Document changelog</a></li>
</ul>

<p>For a summary of changes to individuals sections:</p>

<ol>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/1_introduction?pretty=full&amp;no-merges">Introduction</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/2_device_types?pretty=full&amp;no-merges">Device Types</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/3_software?pretty=full&amp;no-merges">Software</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/4_application-packaging?pretty=full&amp;no-merges">Application Packaging</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/5_multimedia?pretty=full&amp;no-merges">Multimedia</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/6_dev-tools-and-options?pretty=full&amp;no-merges">Developer Tools and Options</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/7_hardware-compatibility?pretty=full&amp;no-merges">Hardware Compatibility</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/8_performance-and-power?pretty=full&amp;no-merges">Performance and Power</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/9_security-model?pretty=full&amp;no-merges">Security Model</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/10_software-compatibility-testing?pretty=full&amp;no-merges">Software Compatibility Testing</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/11_updatable-software?pretty=full&amp;no-merges">Updatable Software</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/12_document-changelog?pretty=full&amp;no-merges">Document Changelog</a></li>
<li><a href="https://android.googlesource.com/platform/compatibility/cdd/+log/CURRENT_BRANCH/13_contact-us?pretty=full&amp;no-merges">Contact Us</a></li>
</ol>

<h3 id="121_changelog_viewing_tips" data-text="12.1. Changelog Viewing Tips">12.1. Changelog Viewing Tips</h3>

<p>Changes are marked as follows:</p>

<ul>
<li><p><strong>CDD</strong> <br>Substantive changes to the compatibility requirements.</p></li>
<li><p><strong>Docs</strong> <br>Cosmetic or build related changes.</p></li>
</ul>

<p>For best viewing, append the <code translate="no" dir="ltr">pretty=full</code> and <code translate="no" dir="ltr">no-merges</code> URL parameters to your
changelog URLs.</p>

<h2 id="13_contact_us" data-text="13. Contact Us">13. Contact Us</h2>

<p>You can join the <a href="https://groups.google.com/forum/#!forum/android-compatibility">android-compatibility forum</a>
and ask for clarifications or bring up any issues that you think the document does not
cover.</p>

    

    
  </div>

  

  
    
    
      
    <devsite-thumb-rating position="footer">
    </devsite-thumb-rating>
  
       
    
    
  

  
  
</article>


<devsite-content-footer class="nocontent">
  <p>Content and code samples on this page are subject to the licenses described in the <a href="/license">Content License</a>. Java is a registered trademark of Oracle and/or its affiliates.</p>
  <p>Last updated 2021-10-01 UTC.</p>
</devsite-content-footer>





  
<div class="devsite-content-data">
  <template class="devsite-thumb-rating-down-categories">
  [{
      "type": "thumb-down",
      "id": "missingTheInformationINeed",
      "label":"Missing the information I need"
    },{
      "type": "thumb-down",
      "id": "tooComplicatedTooManySteps",
      "label":"Too complicated / too many steps"
    },{
      "type": "thumb-down",
      "id": "outOfDate",
      "label":"Out of date"
    },{
      "type": "thumb-down",
      "id": "samplesCodeIssue",
      "label":"Samples / code issue"
    },{
      "type": "thumb-down",
      "id": "otherDown",
      "label":"Other"
    }]
  </template>
  <template class="devsite-thumb-rating-up-categories">
  [{
      "type": "thumb-up",
      "id": "easyToUnderstand",
      "label":"Easy to understand"
    },{
      "type": "thumb-up",
      "id": "solvedMyProblem",
      "label":"Solved my problem"
    },{
      "type": "thumb-up",
      "id": "otherUp",
      "label":"Other"
    }]
  </template>
  
</div>
            
          </devsite-content>
        </main>
        <devsite-footer-promos class="devsite-footer">
          
            
          
        </devsite-footer-promos>
        <devsite-footer-linkboxes class="devsite-footer">
          
            
<nav class="devsite-footer-linkboxes nocontent" aria-label="Footer links">
  
  <ul class="devsite-footer-linkboxes-list">
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Build</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//android.googlesource.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Android repository
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/source/requirements"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Requirements
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="/source/downloading"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Downloading
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//developers.google.com/android/blobs-preview/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Preview binaries
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//developers.google.com/android/images/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
          
            Factory images
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//developers.google.com/android/drivers/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
          
            Driver binaries
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//android.github.io"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            >
          
            GitHub
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Connect</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//twitter.com/Android/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            @Android on Twitter
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//twitter.com/AndroidDev/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            @AndroidDev on Twitter
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//blog.google/products/android/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            Android Blog
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//security.googleblog.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Google Security Blog
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//groups.google.com/forum/?fromgroups#!forum/android-platform/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
          
            Platform on Google Groups
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//groups.google.com/forum/?fromgroups#!forum/android-building/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
          
            Building on Google Groups
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//groups.google.com/forum/?fromgroups#!forum/android-porting/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 7)"
            >
          
            Porting on Google Groups
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
    <li class="devsite-footer-linkbox ">
    <h3 class="devsite-footer-linkbox-heading no-link">Get help</h3>
      <ul class="devsite-footer-linkbox-list">
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//support.google.com/android/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 1)"
            >
          
            Android Help Center
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//support.google.com/pixelphone/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 2)"
            >
          
            Pixel Help Center
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 3)"
            >
          
            www.android.com
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//www.android.com/gms/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 4)"
            >
          
            Google Mobile Services
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//stackoverflow.com/questions/tagged/android-source/"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 5)"
            >
          
            Stack Overflow
          
          </a>
          
        </li>
        
        <li class="devsite-footer-linkbox-item">
          
          <a href="//issuetracker.google.com/issues?q=status:open%20componentid:190923"
             class="devsite-footer-linkbox-link gc-analytics-event"
             data-category="Site-Wide Custom Events"
            
             data-label="Footer Link (index 6)"
            >
          
            Issue Tracker
          
          </a>
          
        </li>
        
      </ul>
    </li>
    
  </ul>
  
</nav>
          
        </devsite-footer-linkboxes>
        <devsite-footer-utility class="devsite-footer">
          
            

<div class="devsite-footer-utility nocontent">
  

  
  <nav class="devsite-footer-utility-links" aria-label="Utility links">
    
    <ul class="devsite-footer-utility-list">
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/source/"
           data-category="Site-Wide Custom Events"
           data-label="Footer About Android link"
         >
          About Android
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/source/community"
           data-category="Site-Wide Custom Events"
           data-label="Footer Community link"
         >
          Community
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/legal"
           data-category="Site-Wide Custom Events"
           data-label="Footer Legal link"
         >
          Legal
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="/license"
           data-category="Site-Wide Custom Events"
           data-label="Footer License link"
         >
          License
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//policies.google.com/privacy"
           data-category="Site-Wide Custom Events"
           data-label="Footer Privacy link"
         >
          Privacy
        </a>
        
      </li>
      
      <li class="devsite-footer-utility-item
                 ">
        
        
        <a class="devsite-footer-utility-link gc-analytics-event"
           href="//issuetracker.google.com/issues/new?component=191476"
           data-category="Site-Wide Custom Events"
           data-label="Footer Site feedback link"
         >
          Site feedback
        </a>
        
      </li>
      
    </ul>
    
    
    
<devsite-language-selector>
  <devsite-select class="devsite-language-selector-menu">
    
    <select aria-label="Select your language preference."
            class="devsite-language-selector-select"
            name="language"
            track-name="click"
            track-type="languageSelector">
    
      
      <option>Language</option>
    
    
      <option value="en"
              lang="en"
            >
        English
      </option>
    
      <option value="id"
              lang="id"
            >
        Bahasa Indonesia
      </option>
    
      <option value="de"
              lang="de"
            >
        Deutsch
      </option>
    
      <option value="es_419"
              lang="es_419"
            >
        Español – América Latina
      </option>
    
      <option value="fr"
              lang="fr"
            >
        Français
      </option>
    
      <option value="it"
              lang="it"
            >
        Italiano
      </option>
    
      <option value="pl"
              lang="pl"
            >
        Polski
      </option>
    
      <option value="pt_br"
              lang="pt_br"
            >
        Português – Brasil
      </option>
    
      <option value="vi"
              lang="vi"
            >
        Tiếng Việt
      </option>
    
      <option value="tr"
              lang="tr"
            >
        Türkçe
      </option>
    
      <option value="ru"
              lang="ru"
            >
        Русский
      </option>
    
      <option value="he"
              lang="he"
            >
        עברית&#39;
      </option>
    
      <option value="ar"
              lang="ar"
            >
        العربيّة
      </option>
    
      <option value="fa"
              lang="fa"
            >
        فارسی
      </option>
    
      <option value="hi"
              lang="hi"
            >
        हिंदी
      </option>
    
      <option value="bn"
              lang="bn"
            >
        বাংলা
      </option>
    
      <option value="th"
              lang="th"
            >
        ภาษาไทย
      </option>
    
      <option value="zh_cn"
              lang="zh_cn"
            >
        中文 – 简体
      </option>
    
      <option value="zh_tw"
              lang="zh_tw"
            >
        中文 – 繁體
      </option>
    
      <option value="ja"
              lang="ja"
            >
        日本語
      </option>
    
      <option value="ko"
              lang="ko"
            >
        한국어
      </option>
    
    </select>
  </devsite-select>
</devsite-language-selector>

  </nav>
</div>
          
        </devsite-footer-utility>
        <devsite-panel></devsite-panel>
      </section></section>
    <devsite-sitemask></devsite-sitemask>
    <devsite-snackbar
    
    
    
    >
</devsite-snackbar>
    <devsite-tooltip ></devsite-tooltip>
    <devsite-heading-link></devsite-heading-link>
    <devsite-analytics enable-analytics-iframe>
      
        <script type="application/json" analytics>[{"gaid": "UA-45455297-1", "dimensions": {"dimension5": "en", "dimension1": "Signed out", "dimension4": "Android Open Source Project", "dimension3": false, "dimension9": false, "dimension6": "en"}, "metrics": {"ratings_count": "metric2", "ratings_value": "metric1"}}]</script>
<script type="application/json" gtm>{"parameters": {"freeTrialEligibleUser": "False", "internalUser": "False", "language": {"machineTranslated": "False", "requested": "en", "served": "en"}, "pageType": "article", "projectName": "Android Open Source Project", "signedIn": "False", "tenant": "androidsource", "recommendations": {"sourcePage": "", "sourceType": 0, "sourceRank": 0, "sourceIdenticalDescriptions": 0, "sourceTitleWords": 0, "sourceDescriptionWords": 0, "experiment": ""}}}</script>
      
    </devsite-analytics>
    
      <devsite-badger></devsite-badger>
    
    
    <script nonce="Jq8J35ZDPUtlElu+LxTsCK4PQxxus9">
  
  (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
    t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
    E.parentNode.insertBefore(t,E);})(window, document, 'script',

</script>
    <devsite-a11y-announce></devsite-a11y-announce>
  </body>
</html>